(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{3980:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(36),s=function(){var e=Object(n.useContext)(r.a);return Object(r.d)(e)}},3991:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return f}));var n=a(0),r=a(87),s=a(3917),o=a(11),i=function(){return window.screen.width>window.screen.height?"landscape":"portrait"},l=function(){var e=Object(n.useState)(i()),t=e[0],a=e[1],r=function(){a(i())};return Object(n.useEffect)((function(){return r(),window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]),t},c=function(){var e=new Error("Promise subscription canceled");return e.canceled=!0,e},d=function(){var e=Object(n.useRef)(void 0),t=Object(n.useCallback)((function(t){var a;if(!1===(null===(a=e.current)||void 0===a?void 0:a.isCanceled()))throw new Error("Attempted to subscribe to new promise when previous subscription was not yet canceled. You should explicitly call cancel before. Usually you should do it inside destroy function of useEffect in your code");return e.current=function(e){var t=!1,a=new Promise((function(a,n){return e.then((function(e){return t?n(c()):a(e)}),(function(e){return n(t?c():e)}))}));return a.cancel=function(){t=!0},a.isCanceled=function(){return t},a}(t),e.current}),[]),a=Object(n.useCallback)((function(){var t;null===(t=e.current)||void 0===t||t.cancel()}),[]);return Object(n.useMemo)((function(){return{subscribe:t,cancel:a}}),[t,a])},u=function(e){void 0===e&&(e=!0),Object(n.useEffect)((function(){if(e){var t=function(e){return e.preventDefault(),e.returnValue="",""};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}}),[e])},m=function(){return"landscape"===l()},p=function(){var e=Object(s.useMediaQuery)({query:"(max-width: "+o.o+"px)"}),t=m();return r.isMobileOnly&&t||e},f=function(){var e=Object(s.useMediaQuery)({query:"(max-width: "+o.D+"px)"}),t=m();return r.isMobileOnly&&!t||e}},3997:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(46),r=a.n(n),s=a(0),o=a.n(s),i=a(5),l=a(80),c=a(4001),d=a(16),u=a(441),m=i.default.div.withConfig({displayName:"PageLayout__Card",componentId:"sc-5z5v85-0"})(["padding:","px;background-color:",";"],c.b,l.h),p=i.default.div.withConfig({displayName:"PageLayout__Root",componentId:"sc-5z5v85-1"})(["display:flex;flex-direction:column;height:100%;","{min-height:100%;}"],m),f=function(e){var t=e.header,a=e.isLoading,n=e.children,s=r()(e,["header","isLoading","children"]);return o.a.createElement(p,s,o.a.createElement("div",null,t),o.a.createElement(c.c,{id:d.s,className:"main-content-wrapper",isLoading:a},a&&o.a.createElement(u.a,null),!a&&o.a.createElement(m,null,n)))}},4e3:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(3),r=a.n(n),s=a(183),o=a(0),i=a.n(o),l=(a(75),a(4150)),c=function(e){var t=e.initialValues,a=e.onSubmit,n=e.validationSchema,o=e.children,c=e.formikExtraProps;return i.a.createElement(s.Formik,r()({},c,{enableReinitialize:!0,initialValues:t,onSubmit:a,validationSchema:n,validateOnChange:!1}),i.a.createElement(l.a,null,o))},d=function(e){return function(t){var a=Object(s.useFormikContext)(),n=a.dirty,o=a.isValid,l=a.submitForm,c=!(n&&o);return i.a.createElement(e,r()({},t,{actionButtonDisabled:c,onActionButtonClick:l}))}}},4001:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a(5),r=564,s=20,o=n.default.div.withConfig({displayName:"PageContentLayout",componentId:"sc-144op19-0"})(["padding-top:","px;overflow-y:auto;& > *{margin:auto;","}"],s,(function(e){return!e.isLoading&&"max-width: "+r+"px;"}))},4013:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5),r=a(80),s=n.default.h1.withConfig({displayName:"ToolbarHeader",componentId:"sc-15jnp94-0"})(["color:",";font-size:18px;font-weight:500;margin:0;"],r.q)},4036:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),s=a(4013),o=a(4062),i=function(e){var t=e.header;return r.a.createElement(o.a,null,r.a.createElement(s.a,null,t))};t.b=i},4037:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var n=a(2),r=a.n(n),s=a(4),o=a.n(s),i=a(3),l=a.n(i),c=a(519),d=a.n(c),u=a(0),m=a.n(u),p=a(33),f=a.n(p),b=a(25),h=a(87),g=a(46),v=a.n(g),E=function(e){var t=e.src,a=e.alt,n=e.onLoad,r=e.onError,s=e.className,o=v()(e,["src","alt","onLoad","onError","className"]),i=Object(u.useState)(0),c=i[0],d=i[1];return m.a.createElement("img",l()({},o,{key:t+"--"+c,className:s,src:t,onLoad:function(e){null==n||n(e)},alt:a,onError:function(e){c<5?setTimeout((function(){d(c+1)}),2e3*(c+1)):null==r||r(e)}}))},y=a(62),j=a(13),O=a(517),w=a(3907),I=a.n(w),T=a(9),M=a.n(T),C=a(61),N=a.n(C),x=a(6),A=a.n(x),D=a(3908),L=function(e){function t(t){var a;return a=e.call(this,t)||this,A()(M()(a),"state",{hasHighlightedRegions:!1,shouldRenderOverlay:!1}),A()(M()(a),"container",void 0),A()(M()(a),"canvas",void 0),A()(M()(a),"target",void 0),A()(M()(a),"regionsRefs",[]),M()(a).onResize=a.onResize.bind(M()(a)),a}N()(t,e),t.getDerivedStateFromProps=function(e){var t=e.highlightedRegions&&e.highlightedRegions.length>0;return{hasHighlightedRegions:t,shouldRenderOverlay:t||e.markedRegions.length>0}};var a=t.prototype;return a.componentDidMount=function(){this.afterRender()},a.componentDidUpdate=function(){this.afterRender()},a.componentWillUnmount=function(){this.container&&Object(D.removeResizeListener)(this.container,this.onResize)},a.onResize=function(){if(this.target&&this.canvas){var e=this.target,t=this.canvas,a=t.getContext("2d");S(t,e),P(a),F(a,this.state.hasHighlightedRegions?this.props.highlightedRegions:this.props.markedRegions),this.regionsRefs.forEach((function(t){return k(t,e)}))}},a.getSnapshotBeforeUpdate=function(){return this.regionsRefs=[],this.container&&Object(D.removeResizeListener)(this.container,this.onResize),null},a.afterRender=function(){if(this.container){var e=this.container;Object(D.addResizeListener)(e,this.onResize),this.target=e.querySelector("img"),this.onResize()}},a.renderRegions=function(e,t,a){var n=this;if(!e)return null;var r=1;return e.map((function(e){return m.a.createElement("div",{key:r++,className:"absolute b--"+e.color,"data-top":e.rect.top,"data-left":e.rect.left,"data-height":e.rect.height,"data-width":e.rect.width,"data-border-width":t,style:{borderWidth:t+"px",borderStyle:a,transform:"rotate("+e.rect.roll+"deg)",boxSizing:"content-box"},ref:function(e){e&&n.regionsRefs.push(e)}})}))},a.render=function(){var e=this;return this.state.shouldRenderOverlay?m.a.createElement("div",{className:f()("relative flex",this.props.className),ref:function(t){return e.container=t}},this.props.children,m.a.createElement("canvas",{ref:function(t){return e.canvas=t},className:"absolute"}),this.renderRegions(this.props.markedRegions,1,"dashed"),this.renderRegions(this.props.highlightedRegions,2,"solid")):m.a.createElement("div",{className:this.props.className},this.props.children)},t}(m.a.Component),S=function(e,t){e.style.top=t.offsetTop+"px",e.style.left=t.offsetLeft+"px";var a=t.getBoundingClientRect();e.height=a.height,e.width=a.width},k=function(e,t){var a=function(t){return e.getAttribute(t)?parseFloat(e.getAttribute(t)):0},n={top:a("data-top"),left:a("data-left"),height:a("data-height"),width:a("data-width"),roll:0},r=a("data-border-width"),s=_(n,t),o=R(s,t);e.style.top=o.top-r+"px",e.style.left=o.left-r+"px",e.style.height=o.height+"px",e.style.width=o.width+"px"},P=function(e){e.globalAlpha=.4,e.fillStyle="black",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.globalAlpha=1},_=function(e,t){return{top:e.top*t.offsetHeight,left:e.left*t.offsetWidth,height:e.height*t.offsetHeight,width:e.width*t.offsetWidth,roll:e.roll}},R=function(e,t){return{top:e.top+t.offsetTop,left:e.left+t.offsetLeft,height:e.height,width:e.width,roll:e.roll}},F=function(e,t){t.forEach((function(t){var a=_(t.rect,e.canvas);e.save(),function(e,t){e.translate(t.left+t.width/2,t.top+t.height/2),e.rotate(t.roll*Math.PI/180)}(e,a),e.clearRect(-a.width/2,-a.height/2,a.width,a.height),e.restore()}))},z=L,B="loading",U="loaded",V="error",G=function(e){var t=e.children,a=e.overlayProps;return m.a.createElement(z,l()({className:"tc h-inherit flex flex-column justify-center items-center thumbnail-img h-100 w-100"},l()({markedRegions:[],highlightedRegions:[]},a)),t)},W=function(e){var t=e.asset,n=e.onUnload,s=e.variant,i=e.overlayProps,l=e.lazyLoading,c=e.loading,p=e.failed,g=e.onLoad,v=e.onDimensionsChange,w=e.loadOriginal,T=e.showVideoPlayer,M=e.className,C=Object(u.useRef)(!1),N=Object(u.useState)(!1),x=N[0],A=N[1],D=t.version,L=t.resourceId,S=t.secureUrl,k=t.thumbnailUrl,P=t.publicId,_=Object(b.useSelector)(j.selectCurrentCustomer),R=Object(u.useCallback)(function(){var e=o()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),e.t0=C.current,!e.t0){e.next=5;break}return e.next=5,Object(O.a)(_,t);case 5:C.current&&A(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[_]),F=Object(y.h)(t),z=T&&"video"===t.resourceType,W=Object(u.useState)(B),H=W[0],Y=W[1],Q=Object(u.useCallback)((function(){Y(V)}),[Y]),K=Object(u.useCallback)((function(e){null!=e&&e.target&&(null==v||v({height:e.target.naturalHeight,width:e.target.naturalWidth})),H!==U&&(Y(U),null==g||g(k+"/"+s))}),[g,v,Y,k,s,H]),Z=Object(u.useCallback)((function(){return null==c?void 0:c(t)}),[c,t]),q=Object(u.useCallback)((function(){var e,a,n=w?S:k+"/"+s,r=!1;return"image"===t.resource_type&&d()(null===(e=_.upload_limits)||void 0===e?void 0:e.image_async_processing_max_size_bytes)&&(r=!w&&t.bytes>_.upload_limits.image_async_processing_max_size_bytes),m.a.createElement(G,{overlayProps:i},H===V||r?null==p?void 0:p(t):m.a.createElement(m.a.Fragment,null,H===B&&(null==c?void 0:c()),m.a.createElement(E,{src:n,loading:l,className:f()("fs-exclude",I.a.assetImage,(a={},a[I.a.ie]=h.isIE,a.dn=H!==U,a)),alt:F,onLoad:K,onError:Q})))}),[c,l,F,p,i,k,t,_,K,Q,w,S,s,H]),X=Object(u.useCallback)((function(){var e=Object(u.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(3),a.e(8)]).then(a.bind(null,4801))}));return m.a.createElement(u.Suspense,{fallback:m.a.createElement(m.a.Fragment,null)},m.a.createElement(e,{asset:t,variant:s,onDimensionsChange:v}))}),[t,s,v]),J=Object(u.useMemo)((function(){return z?m.a.createElement(X,null):m.a.createElement(q,null)}),[z,s,k,F,P,i,H]);return Object(u.useEffect)((function(){return C.current?(A(!1),R(!0),null==n||n()):(C.current=!0,setTimeout((function(){R()}),100)),function(){C.current=null}}),[D,L,s,R,n]),Object(u.useEffect)((function(){Y(B)}),[L]),m.a.createElement("div",{className:f()(I.a.assetLoader,M,"fs-exclude","flex justify-center items-center","h-100 w-100","flex-grow"),"data-test":"asset-loader"},x?J:Z())};t.b=W},4062:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),s=a(5),o=a(80),i=a(11),l=a(36),c=a(4151),d=a(4149),u=s.default.div.withConfig({displayName:"ToolbarLayout__Root",componentId:"ni7wse-0"})(["background:",";display:flex;flex-direction:row;align-items:center;padding:0.5rem 1rem 0.5rem 1rem;border-bottom:1px solid ",";>:not(:last-child){margin-right:1rem;}"],o.h,o.m),m=function(e){var t=e.children;return r.a.createElement(u,null,r.a.createElement(l.a.Provider,{value:i.g.NAVIGATION_MENU},r.a.createElement(c.a,null),r.a.createElement(d.a,null)),t)}},4063:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l}));var n,r=a(1),s=Object.freeze({PENDING:"pending",DONE:"done",READY:"ready",NO_RESULTS:"noResults"}),o=r.b.url.prodRes+"/image/upload/q_auto/console/no-reports.svg",i=Object.freeze(((n={})[s.PENDING]=r.b.url.prodRes+"/image/upload/console/audit-reports/pending.svg",n[s.READY]=r.b.url.prodRes+"/image/upload/console/audit-reports/success.svg",n[s.NO_RESULTS]=r.b.url.prodRes+"/image/upload/console/audit-reports/warning.svg",n)),l=Object.freeze({FROM_DATE:"fromDatetime",TO_DATE:"toDatetime",ACTOR_IDS:"actorIds",CLOUD_NAMES:"cloudNames",ENTITY_IDS:"entityIds",INTENTS:"intents"})},4064:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return i}));var n=[{demo:!0,id:"d949992fa8aa7c1d52042c1d8591e845",publicId:"Scenery",format:"jpg",type:"upload",resourceType:"image",bytes:67520,width:640,height:480,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284913/console/memory-card-game/demo-assets/388162_10151056475319291_1013112194_n.jpg.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284913/console/memory-card-game/demo-assets/388162_10151056475319291_1013112194_n.jpg.jpg"},{demo:!0,id:"978b1f71f00fdf758220b720de317699",publicId:"Garden",format:"jpg",type:"upload",resourceType:"image",bytes:80157,width:640,height:480,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284911/console/memory-card-game/demo-assets/578652_10151056475429291_1958454735_n.jpg.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284911/console/memory-card-game/demo-assets/578652_10151056475429291_1958454735_n.jpg.jpg"},{demo:!0,id:"f218bbc6e4470ef09b1e005881e956d8",publicId:"Parachute",format:"jpg",type:"upload",resourceType:"image",bytes:305144,width:2048,height:1369,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284910/console/memory-card-game/demo-assets/334278_10151055274814291_1999790264_o.jpg.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284910/console/memory-card-game/demo-assets/334278_10151055274814291_1999790264_o.jpg.jpg"},{demo:!0,id:"1cde360842fb344365f9a2e03607719b",publicId:"Kyoto",format:"jpg",type:"upload",resourceType:"image",bytes:372246,width:2048,height:1152,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284631/console/memory-card-game/demo-assets/Kyoto.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284631/console/memory-card-game/demo-assets/Kyoto.jpg"},{demo:!0,id:"1e12f7d28166985d09fbdd752f5fb649",publicId:"Shinjuku",format:"jpg",type:"upload",resourceType:"image",bytes:348557,width:2048,height:1152,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284541/console/memory-card-game/demo-assets/Shinjuku.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284541/console/memory-card-game/demo-assets/Shinjuku.jpg"},{demo:!0,id:"f0e55a2898ef2cd6c1394364a39d6fe8",publicId:"Miajima",format:"jpg",type:"upload",resourceType:"image",bytes:400484,width:2048,height:1152,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284540/console/memory-card-game/demo-assets/Miajima.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284540/console/memory-card-game/demo-assets/Miajima.jpg"},{demo:!0,id:"ac4c440fea7539dbb52ca7d6e8680481",publicId:"Sea",format:"jpg",type:"upload",resourceType:"image",bytes:414615,width:2016,height:1134,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284429/console/memory-card-game/demo-assets/Sea.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284429/console/memory-card-game/demo-assets/Sea.jpg"},{demo:!0,id:"652ab9515a52ec9c46c6418ae9d54425",publicId:"Nature",format:"jpg",type:"upload",resourceType:"image",bytes:461334,width:2016,height:1134,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284427/console/memory-card-game/demo-assets/Nature.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284427/console/memory-card-game/demo-assets/Nature.jpg"},{demo:!0,id:"0ef421ba62546192397845b84f7cb177",publicId:"Green",format:"jpg",type:"upload",resourceType:"image",bytes:706956,width:2016,height:1134,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284425/console/memory-card-game/demo-assets/Green.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284425/console/memory-card-game/demo-assets/Green.jpg"},{demo:!0,id:"f611ca79ecf1aa63ac51d6392ca4c063",publicId:"38454909_10156523825394291_3602308445476225024_o.jpg",format:"jpg",type:"upload",resourceType:"image",bytes:351590,width:2016,height:1134,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284423/console/memory-card-game/demo-assets/38454909_10156523825394291_3602308445476225024_o.jpg.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284423/console/memory-card-game/demo-assets/38454909_10156523825394291_3602308445476225024_o.jpg.jpg"},{demo:!0,id:"d9c22eb198712c78dc98a5d3b866bd2b",publicId:"Metal-Dog",format:"jpg",type:"upload",resourceType:"image",bytes:438644,width:2016,height:1134,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284256/console/memory-card-game/demo-assets/Metal-Dog.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284256/console/memory-card-game/demo-assets/Metal-Dog.jpg"},{demo:!0,id:"449cce40b812f6aa6b35b60ba8f82d11",publicId:"Holland",format:"jpg",type:"upload",resourceType:"image",bytes:707744,width:2016,height:1134,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284249/console/memory-card-game/demo-assets/Holland.jpg",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584284249/console/memory-card-game/demo-assets/Holland.jpg"},{demo:!0,id:"60ffa78565c05e2aebb329051077101d",publicId:"Cloudinary",format:"png",type:"upload",resourceType:"image",bytes:40035,width:1e3,height:1e3,secureUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584283815/console/memory-card-game/demo-assets/Cloudinary.png",thumbnailUrl:"https://res-s.cloudinary.com/prod/image/upload/v1584283815/console/memory-card-game/demo-assets/Cloudinary.png"}],r="iddqd",s="escape",o="idkfa",i={WIN:"win",LOSE:"lose"}},4149:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(25),o=a(291),i=a(11),l=a(3980),c=a(21),d=a(1),u={setMenuVisibility:c.a.NavigationMenu.isVisible.set},m=Object(s.connect)(null,u)((function(e){var t=Object(l.a)();return r.a.createElement("div",{className:e.className,style:e.style},r.a.createElement("div",null,r.a.createElement(o.a,{size:"md",variant:"secondary",icon:"menu",onClick:function(){t(i.f.NAVIGATE,"open menu"),e.setMenuVisibility(!0)},tooltipText:Object(d.j)("navigationMenu.buttonTooltip"),dataTest:"open-navigation-menu-btn"})))}));t.a=m},4150:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(183),r=a(3991),s=function(e){var t=e.children,a=Object(n.useFormikContext)().dirty;return Object(r.c)(a),t||null}},4151:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(5),o=a(25),i=a(254),l=a(1605),c=a.n(l),d=a(17),u=a(45),m=a(11),p=a(3980),f=a(13),b=a(16),h=a(62),g=a(53),v=a(625),E=a(860),y=a(57),j=a(21),O=a(1),w=a(33),I=a.n(w),T=a(144),M=a(80),C=s.default.div.withConfig({displayName:"NavigationMenuItem__MenuItem",componentId:"sc-1nla2mq-0"})(["&.active{background:-webkit-gradient(linear,left top,right top,from(","),to(","));background:linear-gradient(to right,#0078ff 0%,"," 100%);path{fill:",";}}&:hover{background:-webkit-gradient(linear,left top,right top,from(","),to(","));background:linear-gradient(to right,"," 0%,"," 100%);path{fill:",";}}"],M.a,M.c,M.c,M.h,M.b,M.c,M.b,M.c,M.h),N={setMenuVisibility:j.a.NavigationMenu.isVisible.set},x=Object(o.connect)(null,N)((function(e){var t,a,n=I()({active:e.active},"flex flex-nowrap items-center","truncate","pointer","normal f-sm lh-normal","white hover-white","pt2 pb2 pl3 pr3 mb1 mr1 ml1","br3");return r.a.createElement(C,{onClick:function(t){e.onClick(t),e.setMenuVisibility(!1)},className:n,"data-test":e.dataTest},(a=e.icon)&&r.a.createElement(T.a,{className:"mr3",color:"action-light",path:a,size:"md"}),(t=e.children,r.a.createElement("div",{className:"f-xs b"},t)))})),A=s.default.div.withConfig({displayName:"NavigationMenu__Group",componentId:"sc-1oreqo8-0"})(["",""],(function(e){return e.hasBorder&&"border-top: 1px solid #215089; margin-top: 2px; padding-top: 5px;"})),D=Object(s.default)(c.a).attrs((function(e){return{"data-test":e.dataTest}})).withConfig({displayName:"NavigationMenu__StyledDrawer",componentId:"sc-1oreqo8-1"})(["background-color:#0e2f5a;overflow:hidden;z-index:1000;& + div{z-index:999;}"]),L={setMenuVisibility:j.a.NavigationMenu.isVisible.set},S=Object(o.connect)((function(e){return{recentUploadsCount:Object(d.selectListTotalCount)(e,E.a),isCollectionsViewEnabled:Object(v.selectCollectionsEnabled)(e),isPortalsViewEnabled:Object(f.selectCanUserManagePortals)(e),isPreferencesViewEnabled:Object(f.selectCanUserManagePreferences)(e),isVisible:j.a.NavigationMenu.isVisible.get(e),pathname:Object(y.selectLocationPathname)(e)}}),L)((function(e){var t=Object(p.a)(),a=function(e){return t(m.f.NAVIGATE,e)},s=[[{icon:u.folder,active:Object(h.q)(e.pathname,b.C.FOLDERS),onClick:function(){a("browse"),Object(g.t)()},dataTest:"navigation-menu-item-folders",Label:Object(O.j)("navigationMenu.menuItems.browse")},{icon:u.search,active:Object(h.q)(e.pathname,b.C.SEARCH),onClick:function(){a("search all assets"),Object(g.A)()},dataTest:"navigation-menu-item-search-all-assets",Label:Object(O.j)("navigationMenu.menuItems.search")},{icon:u.restore,active:Object(h.q)(e.pathname,b.C.RECENT_UPLOADS),onClick:function(){a("recently uploaded"),Object(g.z)()},dataTest:"navigation-menu-item-recently-uploaded",Label:function(){return r.a.createElement(r.a.Fragment,null,Object(O.j)("navigationMenu.menuItems.recentlyUploaded"),e.recentUploadsCount>0&&r.a.createElement("div",{className:"counter bg-action-light br3 dib ph1 ml1 lh-sm"},e.recentUploadsCount))}},{icon:u.thumbs,active:Object(h.q)(e.pathname,b.C.MODERATION),onClick:function(){a("moderation"),Object(g.v)()},dataTest:"navigation-menu-item-moderation",Label:Object(O.j)("navigationMenu.menuItems.moderation")},{icon:u.collection,active:Object(h.q)(e.pathname,b.C.COLLECTION),onClick:function(){a("collections"),Object(g.p)()},dataTest:"navigation-menu-item-collections",hidden:!e.isCollectionsViewEnabled,Label:Object(O.j)("navigationMenu.menuItems.collections")}],[{icon:u.sharePublicURL,active:Object(h.q)(e.pathname,b.C.PORTALS),onClick:function(){a("portals"),Object(g.x)()},hidden:!e.isPortalsViewEnabled,dataTest:"navigation-menu-item-portals",Label:Object(O.j)("navigationMenu.menuItems.portals")},{icon:u.settings,active:Object(h.q)(e.pathname,b.C.PREFERENCES),onClick:function(){a("preferences"),Object(g.y)()},hidden:!e.isPreferencesViewEnabled,dataTest:"navigation-menu-item-preferences",Label:Object(O.j)("navigationMenu.menuItems.preferences")}]],o=e.isVisible,l=e.setMenuVisibility,c=Object(n.useCallback)((function(){return l(!o)}),[o,l]);return r.a.createElement(D,{open:e.isVisible,onBackdropClick:c,size:"md",position:"left",dataTest:"navigation-menu"},r.a.createElement("div",{className:"flex justify-between","data-test":"sidebar-header"},r.a.createElement("div",{className:"fw5 ph3 pv2 f-md lh-xl4 white"},Object(O.j)("navigationMenu.title")),r.a.createElement(i.b,{className:"mr2",size:"sm",icon:u.cross,onClick:c,skin:"menuActionDark",dataTest:"close-navigation-menu-btn"})),r.a.createElement("div",{className:"flex flex-column","data-test":"sidebar-content"},Object(n.useMemo)((function(){return s.map((function(e,t){var a=e.some((function(e){return!e.hidden})),n=0!==t&&a;if(a)return r.a.createElement(A,{key:"group-"+t,hasBorder:n},e.map((function(e){var t=e.icon,a=e.active,n=e.hidden,s=void 0!==n&&n,o=e.dataTest,i=e.onClick,l=e.Label;return s?null:r.a.createElement(x,{icon:t,active:a,onClick:i,dataTest:o,key:o},"string"==typeof l?l:r.a.createElement(l,null))})))}))}))))}));t.a=S},4773:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDYiIGhlaWdodD0iMTEyIiB2aWV3Qm94PSIwIDAgMTA2IDExMiI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9Im1wdC1pbGx1cy1yZWplY3RlZC1hIiB4MT0iMTE1LjcxNSUiIHgyPSI1NC41NjMlIiB5MT0iMTE0LjY1NyUiIHkyPSI2NS43MjglIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI0QwREFFMiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGRkYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9Im1wdC1pbGx1cy1yZWplY3RlZC1iIiB4MT0iMTE1LjcxNSUiIHgyPSIwJSIgeTE9IjExNC42NTclIiB5Mj0iMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRDBEQUUyIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0ZGRiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLjUgLS41KSI+CiAgICA8cGF0aCBmaWxsPSIjRDBEQUUyIiBkPSJNMzEuMTcsNi42MSBDMjguMzc4MjgyNSw2LjYwOTk3OTc0IDI1LjcwMTQ4NjcsNy43MjE3MTU3MyAyMy43MzEyMDA4LDkuNjk5NTA3NDQgQzIxLjc2MDkxNDksMTEuNjc3Mjk5MSAyMC42NTkzNjQ5LDE0LjM1ODMwMjggMjAuNjcsMTcuMTUgTDIwLjYyLDEwMS41NCBDMjAuNjA5MzcwMiwxMDQuMzI5OTY1IDIxLjcwOTU0OTYsMTA3LjAwOTQ1IDIzLjY3NzY3MTIsMTA4Ljk4Njk1MyBDMjUuNjQ1NzkyNywxMTAuOTY0NDU1IDI4LjMyMDAxNTksMTEyLjA3NzM2MyAzMS4xMSwxMTIuMDggTDk0LjQ1LDExMi4wOCBDOTcuMjQ3MTE0LDExMi4wODI2NTQgOTkuOTMwNTc0LDExMC45NzMzNjQgMTAxLjkwOTM3MSwxMDguOTk2NDQzIEMxMDMuODg4MTY4LDEwNy4wMTk1MjIgMTA1LjAwMDAwMSwxMDQuMzM3MTE1IDEwNSwxMDEuNTQgTDEwNSwzOC4yNSBMNzMuMzYsNi42MSBMMzEuMTcsNi42MSBaIE02OC4wOCw0My41MiBMNjguMDgsMTQuNTIgTDk3LjA4LDQzLjUyIEw2OC4wOCw0My41MiBaIi8+CiAgICA8cGF0aCBmaWxsPSJ1cmwoI21wdC1pbGx1cy1yZWplY3RlZC1hKSIgZD0iTTI3Ljg3LDAuODMgQzI1LjA3NjU0MjEsMC44Mjk5NjgzMjggMjIuMzk4MjIwNywxLjk0MzA3NjA4IDIwLjQyNzY0NTEsMy45MjMwMzUzNyBDMTguNDU3MDY5NSw1LjkwMjk5NDY2IDE3LjM1NjY5NzgsOC41ODY1NzM3OSAxNy4zNywxMS4zOCBMMTcuMzIsOTUuNzYgQzE3LjMwNDAyNzQsOTguNTUyNTAyMiAxOC40MDIxNjUzLDEwMS4yMzYxMTUgMjAuMzcxMTU1OCwxMDMuMjE2MzY3IEMyMi4zNDAxNDYzLDEwNS4xOTY2MiAyNS4wMTc0NTIxLDEwNi4zMTAwNDYgMjcuODEsMTA2LjMxIEw5MS4xNSwxMDYuMzEgQzkzLjk0ODAzNCwxMDYuMzEgOTYuNjMxNDY3NywxMDUuMTk4NDg1IDk4LjYwOTk3NjUsMTAzLjIxOTk3NyBDMTAwLjU4ODQ4NSwxMDEuMjQxNDY4IDEwMS43LDk4LjU1ODAzNCAxMDEuNyw5NS43NiBMMTAxLjcsMzIuNDcgTDcwLjA2LDAuODMgTDI3Ljg3LDAuODMgWiIvPgogICAgPHBvbHlnb24gZmlsbD0iI0QwREFFMiIgcG9pbnRzPSIxMDEuNyAzNi4yNyA3NS4yOSAzNi4yNyA3NS4yOSA1LjczIDEwMS43IDMyLjE0Ii8+CiAgICA8cG9seWdvbiBmaWxsPSJ1cmwoI21wdC1pbGx1cy1yZWplY3RlZC1iKSIgcG9pbnRzPSIxMDEuNyAzMi4xNCA3MS4xNiAzMi4xNCA3MC4zMyAuNzggODUuNjcgMTYuMDQiLz4KICAgIDxwYXRoIGZpbGw9IiNEMERBRTIiIGQ9Ik0zOS4xLDI5LjYxIEwxNS41OCwyOS42MSBDMTMuNDgzNTY1NSwyOS42MDc5NDEyIDExLjU4OTI5NTYsMzAuODYwMjg1OSAxMC43NywzMi43OSBMMi44OSw1MS4yMiBDMi42NDgwOTM5MSw1MS44MjQ3MzIxIDIuNTE5MjkxMzQsNTIuNDY4NzQ1IDIuNTEsNTMuMTIgTDIuNTEsNTguMTIgTDIuNTEsNTguMzIgQzIuNTEsNjEuMjA4NDQ5MiA0Ljg1MTU1MDc2LDYzLjU1IDcuNzQsNjMuNTUgTDI0LjI0LDYzLjU1IEwyMS43NSw3NS40OSBDMjEuNjg1NDAwMSw3NS43NTg2MDY1IDIxLjY1MTg0NzEsNzYuMDMzNzQwNyAyMS42NSw3Ni4zMSBDMjEuNjU5NTYxNiw3Ny4zNDc1MzkyIDIyLjA3MTkxMjEsNzguMzQwNzY2IDIyLjgsNzkuMDggTDI1LjU5LDgxLjg0IEw0Mi43OSw2NC42MyBDNDMuNzY3ODEzMiw2My42NDY1ODM2IDQ0LjMxNzY5NTYsNjIuMzE2ODAyNSA0NC4zMiw2MC45MyBMNDQuMzIsMzQuODMgQzQ0LjMyLDMxLjk0NzA3MzYgNDEuOTgyOTI2NCwyOS42MSAzOS4xLDI5LjYxIFogTTQ5LjU1LDI5LjYxIEw0OS41NSw2MSBMNjAsNjEgTDYwLDI5LjYxIEw0OS41NSwyOS42MSBaIi8+CiAgICA8cGF0aCBmaWxsPSIjQzEyNzJEIiBkPSJNMzYuODgsMjUuOTEgTDEzLjM2LDI1LjkxIEMxMS4yNjM1NjU1LDI1LjkwNzk0MTIgOS4zNjkyOTU2MSwyNy4xNjAyODU5IDguNTUsMjkuMDkgTDAuNjcsNDcuNTIgQzAuNDI4MDkzOTA4LDQ4LjEyNDczMjEgMC4yOTkyOTEzMzUsNDguNzY4NzQ1IDAuMjksNDkuNDIgTDAuMjksNTQuNDIgTDAuMjksNTQuNjIgQzAuMjksNTcuNTA4NDQ5MiAyLjYzMTU1MDc2LDU5Ljg1IDUuNTIsNTkuODUgTDIyLDU5Ljg1IEwxOS41MSw3MS43OSBDMTkuNDQ1NDAwMSw3Mi4wNTg2MDY1IDE5LjQxMTg0NzEsNzIuMzMzNzQwNyAxOS40MSw3Mi42MSBDMTkuNDEyMDc5OSw3My42NDkwNTIzIDE5LjgyNTU1ODYsNzQuNjQ0OTk2NyAyMC41Niw3NS4zOCBMMjMuMzUsNzguMTQgTDQwLjU3LDYxIEM0MS41NDc4MTMyLDYwLjAxNjU4MzYgNDIuMDk3Njk1Niw1OC42ODY4MDI1IDQyLjEsNTcuMyBMNDIuMSwzMS4xMyBDNDIuMSwyOC4yNDcwNzM2IDM5Ljc2MjkyNjQsMjUuOTEgMzYuODgsMjUuOTEgWiBNNDcuMzMsMjUuOTEgTDQ3LjMzLDU3LjI2IEw1Ny43OCw1Ny4yNiBMNTcuNzgsMjUuOTEgTDQ3LjMzLDI1LjkxIFoiLz4KICA8L2c+Cjwvc3ZnPgo="},4774:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NSIgaGVpZ2h0PSI3OSIgdmlld0JveD0iMCAwIDY1IDc5Ij4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibXB0LWlsbHVzLWRlbGV0ZWQtYSIgeDE9Ii0xMDUuNDc2JSIgeDI9IjEwMi4zMzMlIiB5MT0iMTEyLjc0MiUiIHkyPSIxMTIuNzQyJSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNEMERBRTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjOTBBMEIzIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8ZyBmaWxsPSJub25lIj4KICAgIDxwb2x5Z29uIGZpbGw9IiNEMERBRTIiIHBvaW50cz0iNDkuNzUgNy4yOCA0NS41NCAzLjA3IDM1LjU2IDMuMDcgMjQuNDYgMy4wNyAyMC4yNSA3LjI4IDUuNSA3LjI4IDUuNSAxNS43MSAzNi42MiAxNS43MSA2NC41IDE1LjcxIDY0LjUgNy4yOCIvPgogICAgPHBhdGggZmlsbD0iI0QwREFFMiIgZD0iTTkuNzA5OTk0MDUsMTkuOTMgTDkuNzEsNzAuNSBDOS43MDczNDIxNCw3Mi43MzY1ODg4IDEwLjU5NDY0NjgsNzQuODgyMzM2OSAxMi4xNzYxNTUsNzYuNDYzODQ1IEMxMy43NTc2NjMxLDc4LjA0NTM1MzIgMTUuOTAzNDExMiw3OC45MzI2NTc5IDE4LjE0LDc4LjkzIEw1MS44Niw3OC45MyBDNTYuNTE1NzYwNCw3OC45MyA2MC4yOSw3NS4xNTU3NjA0IDYwLjI5LDcwLjUgTDYwLjI5LDE5LjkzIEw5LjcwOTk5NDA1LDE5LjkzIFoiLz4KICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC41IC41KSI+CiAgICAgIDxwb2x5Z29uIGZpbGw9InVybCgjbXB0LWlsbHVzLWRlbGV0ZWQtYSkiIHBvaW50cz0iNTkgMTIuNSA1OSA0LjE2IDQ0LjI1IDQuMTYgNDAuMDQgMCAzMC4wNiAwIDMxLjEyIDEyLjUiLz4KICAgICAgPHBvbHlnb24gZmlsbD0idXJsKCNtcHQtaWxsdXMtZGVsZXRlZC1hKSIgcG9pbnRzPSIxNC43NSA0LjE2IDAgNC4xNiAwIDEyLjUgMzEuMTIgMTIuNSAzMC4wNiAwIDE4Ljk2IDAiLz4KICAgICAgPHBhdGggZmlsbD0idXJsKCNtcHQtaWxsdXMtZGVsZXRlZC1hKSIgZD0iTTMyLjQ1LDc1IEw0Ni4zNiw3NSBDNDguNTgyNTI2MSw3NS4wMTMzMDA1IDUwLjcxOTMwMjYsNzQuMTQzMTQwNyA1Mi4zMDAyNDI5LDcyLjU4MDk1NDEgQzUzLjg4MTE4MzIsNzEuMDE4NzY3NiA1NC43NzY3Nzg3LDY4Ljg5MjUyNjUgNTQuNzksNjYuNjcgTDU0Ljc5LDI3LjY3IEwzMi4wOSwyMy44OSBMMzIuNDUsNzUgWiIvPgogICAgICA8cGF0aCBmaWxsPSJ1cmwoI21wdC1pbGx1cy1kZWxldGVkLWEpIiBkPSJNNC4yMSwxOS4yIEw0LjIxLDY2LjY3IEM0LjIyMzIyMTM0LDY4Ljg5MjUyNjUgNS4xMTg4MTY3OSw3MS4wMTg3Njc2IDYuNjk5NzU3MDgsNzIuNTgwOTU0MSBDOC4yODA2OTczOCw3NC4xNDMxNDA3IDEwLjQxNzQ3MzksNzUuMDEzMzAwNSAxMi42NCw3NSBMMzIuNDUsNzUuMDAwMTUwMyBMMzIuMDksMjMuODUgTDQuMjEsMTkuMiBaIi8+CiAgICAgIDxwYXRoIGZpbGw9IiM5MUEwQjMiIGQ9Ik0zMi4wOSwyMy44NSBMNC4yMSwxOS4yIEw0LjIxLDE2LjY2IEwzMS40OCwxNi42NiBMNTQuNzksMTYuNjYgTDU0Ljc5LDI3LjYzIEwzMi4wOSwyMy44NSBaIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"},4775:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NiIgaGVpZ2h0PSIxMTIiIHZpZXdCb3g9IjAgMCA5NiAxMTIiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJtcHQtaWxsdXMtbm9wcmV2LWljb24tYSIgeDE9IjExNS43MTUlIiB4Mj0iNTQuNTYzJSIgeTE9IjExNC42NTclIiB5Mj0iNjUuNzI4JSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNEMERBRTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjRkZGIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJtcHQtaWxsdXMtbm9wcmV2LWljb24tYiIgeDE9IjExNS43MTUlIiB4Mj0iLTEzLjk0OSUiIHkxPSIxMTQuNjU3JSIgeTI9IjI2LjAwNiUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRDBEQUUyIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0ZGRiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS41IC0uNSkiPgogICAgPHBhdGggZmlsbD0iI0QwREFFMiIgZD0iTTIyLjE3LDYuNjEgQzE5LjM3ODI4MjUsNi42MDk5Nzk3NCAxNi43MDE0ODY3LDcuNzIxNzE1NzMgMTQuNzMxMjAwOCw5LjY5OTUwNzQ0IEMxMi43NjA5MTQ5LDExLjY3NzI5OTEgMTEuNjU5MzY0OSwxNC4zNTgzMDI4IDExLjY3LDE3LjE1IEwxMS42MiwxMDEuNTQgQzExLjYwOTM3MDIsMTA0LjMyOTk2NSAxMi43MDk1NDk2LDEwNy4wMDk0NSAxNC42Nzc2NzEyLDEwOC45ODY5NTMgQzE2LjY0NTc5MjcsMTEwLjk2NDQ1NSAxOS4zMjAwMTU5LDExMi4wNzczNjMgMjIuMTEsMTEyLjA4IEw4NS40NSwxMTIuMDggQzg4LjI0NzExNCwxMTIuMDgyNjU0IDkwLjkzMDU3NCwxMTAuOTczMzY0IDkyLjkwOTM3MDgsMTA4Ljk5NjQ0MyBDOTQuODg4MTY3NiwxMDcuMDE5NTIyIDk2LjAwMDAwMTMsMTA0LjMzNzExNSA5NiwxMDEuNTQgTDk2LDM4LjI1IEw2NC4zNiw2LjYxIEwyMi4xNyw2LjYxIFogTTU5LjA4LDQzLjUyIEw1OS4wOCwxNC41MiBMODguMDgsNDMuNTIgTDU5LjA4LDQzLjUyIFoiLz4KICAgIDxwYXRoIGZpbGw9InVybCgjbXB0LWlsbHVzLW5vcHJldi1pY29uLWEpIiBkPSJNMTguODcsMC44MyBDMTYuMDc2NTQyMSwwLjgyOTk2ODMyOCAxMy4zOTgyMjA3LDEuOTQzMDc2MDggMTEuNDI3NjQ1MSwzLjkyMzAzNTM3IEM5LjQ1NzA2OTQ3LDUuOTAyOTk0NjYgOC4zNTY2OTc4Miw4LjU4NjU3Mzc5IDguMzcsMTEuMzggTDguMzIsOTUuNzYgQzguMzA0MDI3MzcsOTguNTUyNTAyMiA5LjQwMjE2NTMyLDEwMS4yMzYxMTUgMTEuMzcxMTU1OCwxMDMuMjE2MzY3IEMxMy4zNDAxNDYzLDEwNS4xOTY2MiAxNi4wMTc0NTIxLDEwNi4zMTAwNDYgMTguODEsMTA2LjMxIEw4Mi4xNSwxMDYuMzEgQzg0Ljk0ODAzNCwxMDYuMzEgODcuNjMxNDY3NywxMDUuMTk4NDg1IDg5LjYwOTk3NjUsMTAzLjIxOTk3NyBDOTEuNTg4NDg1MywxMDEuMjQxNDY4IDkyLjcsOTguNTU4MDM0IDkyLjcsOTUuNzYgTDkyLjcsMzIuNDcgTDYxLjA2LDAuODMgTDE4Ljg3LDAuODMgWiIvPgogICAgPHBhdGggZmlsbD0iI0U0RUJGMSIgZD0iTTMwLjU3LDUwLjM5IEMzOC4wNDI0MTI3LDUwLjM5IDQ0LjEsNTYuNDQ3NTg3MyA0NC4xLDYzLjkyIEM0NC4wODM3OTY0LDY1LjYxMjAzNDggNDMuNzQ0Mzc0OCw2Ny4yODUzODMzIDQzLjEsNjguODUgTDUxLjAxLDc2Ljc3IEM1NS4xMzUyMTk4LDczLjMzMTIyOTggNTguMzMyNjU3NCw2OC45MTMyNjQ5IDYwLjMxLDYzLjkyIEM1NS40OTY3MjU1LDUxLjY3OTA0ODkgNDMuNjgzMjY5NCw0My42MzAxODk4IDMwLjUzLDQzLjYzIEMyNi44NTQxMDcyLDQzLjYyODQxMDQgMjMuMjA2MTA2Nyw0NC4yNjc5OTQ5IDE5Ljc1LDQ1LjUyIEwyNS42LDUxLjM1IEMyNy4xODExODI4LDUwLjcxOTAzMzMgMjguODY3NTc2MSw1MC4zOTMyOTE0IDMwLjU3LDUwLjM5IFogTTMuNTIsNDMgTDkuNjksNDkuMTYgTDEwLjkyLDUwLjQgQzYuNDA5NTM2ODYsNTMuOTE4NjQ4NCAyLjkyMjM1NjQ1LDU4LjU3OTczMTEgMC44Miw2My45IEMzLjkzODI0NzE2LDcxLjgxNzI1NTYgMTAuMDgxNDEwOSw3OC4xNjY1MzUxIDE3Ljg5MTQ4NzYsODEuNTQ0MjcxMyBDMjUuNzAxNTY0NCw4NC45MjIwMDc2IDM0LjUzNTMzMDYsODUuMDUwMDE2MyA0Mi40NCw4MS45IEw0My41OSw4My4wNSBMNTEuNDcsOTAuOTUgTDU0LjkyLDg3LjUxIEw2Ljk3LDM5LjUxIEwzLjUyLDQzIFogTTE4LjUyLDU3Ljk0IEwyMi43LDYyLjEyIEMyMi41NzI2MTg3LDYyLjcwNDkyOTYgMjIuNTA1NjAxLDYzLjMwMTM4NzMgMjIuNSw2My45IEMyMi41MDU1MDk4LDY4LjM3Njc0NTEgMjYuMTMzMjU0OSw3Mi4wMDQ0OTAyIDMwLjYxLDcyLjAxIEMzMS4yMDIwNDQ0LDcyLjAwNTAyOTggMzEuNzkxOTM1OSw3MS45Mzc5OTY3IDMyLjM3LDcxLjgxIEwzNi41NSw3NS45OSBDMzQuNzA3Mjg4Miw3Ni45MTk3NzI1IDMyLjY3Mzk2NDMsNzcuNDA5Mjc2NCAzMC42MSw3Ny40MiBDMjUuOTQzNjk0NCw3Ny40NDY5NDMzIDIxLjU5Njg2MzIsNzUuMDUzMzEzNiAxOS4xMjQ3ODQyLDcxLjA5NTU0MTYgQzE2LjY1MjcwNTIsNjcuMTM3NzY5NiAxNi40MDg2NzI1LDYyLjE4MTQ3NTQgMTguNDgsNTggTDE4LjUyLDU3Ljk0IFogTTMwLjE3LDU1LjgyIEwzOC42OSw2NC4zNCBMMzguNjksNjMuOSBDMzguNjg0NDkwMSw1OS40MTc3MzIxIDM1LjA1MjI2NzksNTUuNzg1NTA5OSAzMC41Nyw1NS43OCBMMzAuMTcsNTUuODIgWiIvPgogICAgPHBvbHlnb24gZmlsbD0iI0QwREFFMiIgcG9pbnRzPSI5Mi43IDM2LjI3IDY2LjI5IDM2LjI3IDY2LjI5IDUuNzMgOTIuNyAzMi4xNCIvPgogICAgPHBvbHlnb24gZmlsbD0idXJsKCNtcHQtaWxsdXMtbm9wcmV2LWljb24tYikiIHBvaW50cz0iNjIuMTYgMzIuMTQgNjEuMzMgLjc4IDc2LjY3IDE2LjA0IDkyLjcgMzIuMTQiLz4KICA8L2c+Cjwvc3ZnPgo="},4776:function(e,t,a){e.exports=a.p+"394f24164275ebcc6f34543df6d9c027.svg"},4777:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzhweCIgaGVpZ2h0PSI2NXB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MiA2OSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+Cjx0aXRsZT5hZGQtdXNlci1pbGxzdDwvdGl0bGU+CjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgo8ZGVmcz4KPGZpbHRlciBpZD0iZyIgeD0iLTEwLjMlIiB5PSItMTIuMyUiIHdpZHRoPSIxMjAuNSUiIGhlaWdodD0iMTI0LjYlIj4KPGZlT2Zmc2V0IGR4PSI0IiBkeT0iNCIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgo8ZmVDb2xvck1hdHJpeCBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAuODE1Njg2Mjc1ICAgMCAwIDAgMCAwLjg1NDkwMTk2MSAgIDAgMCAwIDAgMC44ODYyNzQ1MSAgMCAwIDAgMSAwIi8+CjxmZU1lcmdlPgo8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSIvPgo8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KPC9mZU1lcmdlPgo8L2ZpbHRlcj4KPHBvbHlnb24gaWQ9ImMiIHBvaW50cz0iMzAuNjA3IDEyLjE3MSAxOS4xMjkgMTIuMTcxIDE5LjEyOSAwLjY5Mzg1IDExLjQ3OCAwLjY5Mzg1IDExLjQ3OCAxMi4xNzEgMCAxMi4xNzEgMCAxOS44MjMgMTEuNDc4IDE5LjgyMyAxMS40NzggMzEuMzAxIDE5LjEyOSAzMS4zMDEgMTkuMTI5IDE5LjgyMyAzMC42MDcgMTkuODIzIi8+CjxsaW5lYXJHcmFkaWVudCBpZD0iZiIgeDE9Ii0uMDA5MDU1OSUiIHgyPSI5OS45NzMlIiB5MT0iNDkuOTk5JSIgeTI9IjQ5Ljk5OSUiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRDBEQUUyIiBvZmZzZXQ9IjAiLz4KPHN0b3Agc3RvcC1jb2xvcj0iIzkwQTBCMyIgb2Zmc2V0PSIxIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxwYXRoIGlkPSJiIiBkPSJtNjIuMDc5IDI2LjM2NHYwLjI4MDQ5aC0wLjIwNTE5Yy0wLjYwMzU1IDMuMjIzNC0yLjQ5NjkgNS45OTIzLTUuMTIzOCA3Ljc1MDd2NC43MDE2YzExLjM2IDAuNDYzMiAyMC40MjggOS44MTkzIDIwLjQyOCAyMS4yOTMtMTEuNTgxIDIuOTYzNy0yMC42MTEgNC40NDU2LTI3LjA4OSA0LjQ0NTZzLTE1LjUwOC0xLjQ4MTktMjcuMDg5LTQuNDQ1NmMwLTExLjQ3NCA5LjA2NzYtMjAuODMgMjAuNDI4LTIxLjI5M3YtNC43MDE2Yy0yLjYyNjktMS43NTg0LTQuNTIwMy00LjUyNzQtNS4xMjM4LTcuNzUwN2gtMC4yMDUxOXYtMC40NTg1N2MtNC4yODE0LTAuNzc0LTcuMTA1My0yLjgwMDEtNy4xMDUzLTcuOTcxMSAwLTkuNDY3OSA1LjkyMDYtMTguMjE1IDE2LjQ2Ny0xOC4yMTUgMi42MTY5IDAgOC41OTk3IDAuMDIxMjYyIDEwLjg3MSAwLjg3NjU1IDYuODgwOSAyLjU5MTUgMTAuODU0IDEwLjIyIDEwLjg1NCAxNy4zMzkgMCA1LjYzMDctMi42OTkyIDcuNTMyNS03LjEwNTMgOC4xNDkyeiIvPgo8bGluZWFyR3JhZGllbnQgaWQ9ImUiIHgxPSIzMi44OTQlIiB4Mj0iOTkuOTczJSIgeTE9IjQzLjA2JSIgeTI9IjQ5Ljk5OSUiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRDBEQUUyIiBvZmZzZXQ9IjAiLz4KPHN0b3Agc3RvcC1jb2xvcj0iIzkwQTBCMyIgb2Zmc2V0PSIxIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyMCAtMTU4KSI+CjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcxIDYyLjUpIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODcgOTUuNSkiPgo8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjIgLjE3OTY5KSIgZmlsdGVyPSJ1cmwoI2cpIj4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLjE3OTY5IDE1LjUpIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgo8bWFzayBpZD0iZCIgZmlsbD0id2hpdGUiPgo8dXNlIHhsaW5rOmhyZWY9IiNjIi8+CjwvbWFzaz4KPHVzZSBmaWxsPSIjMkZBM0ZGIiB4bGluazpocmVmPSIjYyIvPgo8cGF0aCBkPSJtMCAwLjQ4ODI1aDE2LjM1M3YxNi42NDRjMCAzLjY5MDYtMi4xNTUyIDguNDM4MS02LjQ2NTYgMTQuMjQzaC05Ljg4Nzh2LTMwLjg4N3oiIGZpbGw9InVybCgjZikiIG1hc2s9InVybCgjZCkiIG9wYWNpdHk9Ii40NyIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOm92ZXJsYXkiLz4KPC9nPgo8bWFzayBpZD0iYSIgZmlsbD0id2hpdGUiPgo8dXNlIHhsaW5rOmhyZWY9IiNiIi8+CjwvbWFzaz4KPHVzZSBmaWxsPSIjNTFBM0ZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHhsaW5rOmhyZWY9IiNiIi8+CjxwYXRoIGQ9Im0yMyAwaDI3LjUzM3YzNS40MTdjMCA3Ljg1MzItMy42Mjg2IDE3Ljk1Ni0xMC44ODYgMzAuMzA3aC0xNi42NDd2LTY1LjcyNHoiIGZpbGw9InVybCgjZSkiIGZpbGwtcnVsZT0ibm9uemVybyIgbWFzaz0idXJsKCNhKSIgb3BhY2l0eT0iLjQ3IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6b3ZlcmxheSIvPgo8cGF0aCBkPSJtNjIuMDc5IDI0LjQyNXYxLjc3NjNjMCA2LjYyMi01LjM2ODIgMTEuOTktMTEuOTkgMTEuOTlzLTExLjk5LTUuMzY4Mi0xMS45OS0xMS45OXYtMS43NzYzYzAgNi42MjIgNS4zNjgyIDExLjk5IDExLjk5IDExLjk5czExLjk5LTUuMzY4MiAxMS45OS0xMS45OXoiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjEiIG1hc2s9InVybCgjYSkiLz4KPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAuMDg5IDEyLjY3KSBzY2FsZSgxIC0xKSB0cmFuc2xhdGUoLTUwLjA4OSAtMTIuNjcpIiBkPSJtNjIuMDc5IDUuNzg2NXYxLjc3NjNjMCA2LjYyMi01LjM2ODIgMTEuOTktMTEuOTkgMTEuOTlzLTExLjk5LTUuMzY4Mi0xMS45OS0xMS45OXYtMS43NzYzYzAgNi42MjIgNS4zNjgyIDExLjk5IDExLjk5IDExLjk5czExLjk5LTUuMzY4MiAxMS45OS0xMS45OXoiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjEiIG1hc2s9InVybCgjYSkiLz4KPC9nPgo8L2c+CjwvZz4KPC9nPgo8L2c+Cjwvc3ZnPgo="},4778:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNjYuODIgNTMuNDYiPjxkZWZzPjxzdHlsZT4uY2xzLTF7b3BhY2l0eTowLjU7fS5jbHMtMntmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50KTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeTE9IjI2LjczIiB4Mj0iNjYuODIiIHkyPSIyNi43MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2QwZGFlMiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkwYTBiMyIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjx0aXRsZT5Bc3NldCA3cmVjZW50LXVwbG9hZHM8L3RpdGxlPjxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPjxnIGlkPSJMYXllcl8xLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+PGcgY2xhc3M9ImNscy0xIj48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik02MC4xNCw2LjY4SDMzLjQxTDI2LjczLDBoLTIwQTYuNjUsNi42NSwwLDAsMCwwLDYuNjhMMCw0Ni43N2E2LjY4LDYuNjgsMCwwLDAsNi42OCw2LjY5SDYwLjE0YTYuNjgsNi42OCwwLDAsMCw2LjY4LTYuNjlWMTMuMzZBNi42OCw2LjY4LDAsMCwwLDYwLjE0LDYuNjhaTTU2LjgsMzMuNDFoLTEwdjEwSDQwLjA5di0xMGgtMTBWMjYuNzNoMTB2LTEwaDYuNjh2MTBoMTBaIi8+PC9nPjwvZz48L2c+PC9zdmc+"},4779:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGw9IiM0REI2RkYiIGN4PSIzMiIgY3k9IjMyIiByPSIyOS43MTQiLz48cGF0aCBkPSJNMzIgMEMxNC4xNzEgMCAwIDE0LjE3MSAwIDMyczE0LjE3MSAzMiAzMiAzMiAzMi0xNC4xNzEgMzItMzJTNDkuODI5IDAgMzIgMHptMCA1OC41MTRjLTQuMTE0LTQuMTE0LTcuMzE0LTguNjg1LTkuMTQzLTE0LjE3MSAzLjItLjkxNCA1Ljk0My0xLjM3MiA5LjE0My0xLjM3MiAzLjIgMCA2LjQuNDU4IDkuMTQzIDEuMzcyLTEuODI5IDUuNDg2LTUuMDI5IDEwLjUxNC05LjE0MyAxNC4xNzF6bTAtMTkuNjU3Yy0zLjY1NyAwLTYuODU3LjQ1Ny0xMC41MTQgMS4zNzItLjQ1Ny0yLjc0My0uOTE1LTUuNDg2LS45MTUtOC4yMjkgMC0yLjc0My40NTgtNS40ODYuOTE1LTguMjI5IDMuMi45MTUgNi44NTcgMS4zNzIgMTAuNTE0IDEuMzcyIDMuNjU3IDAgNi44NTctLjQ1NyAxMC41MTQtMS4zNzIuNDU3IDIuNzQzLjkxNSA1LjQ4Ni45MTUgOC4yMjkgMCAyLjc0My0uNDU4IDUuNDg2LS45MTUgOC4yMjktMy42NTctLjkxNS02Ljg1Ny0xLjM3Mi0xMC41MTQtMS4zNzJ6bTAtMzMuMzcxYzQuMTE0IDQuMTE0IDcuMzE0IDguNjg1IDkuMTQzIDE0LjE3MS0zLjIuOTE0LTUuOTQzIDEuMzcyLTkuMTQzIDEuMzcyLTMuMiAwLTYuNC0uNDU4LTkuMTQzLTEuMzcyQzI0LjY4NiAxNC4xNzEgMjcuODg2IDkuMTQzIDMyIDUuNDg2ek00Ni42MjkgMjIuNGMzLjItMS4zNzEgNS45NDItMi43NDMgOC42ODUtNC41NzFDNTguMDU3IDIxLjk0MyA1OS40MyAyNi45NyA1OS40MyAzMnMtMS4zNzIgMTAuMDU3LTQuMTE1IDE0LjE3MWMtMi43NDMtMS44MjgtNS40ODUtMy4yLTguNjg1LTQuNTcxLjkxMy0zLjIgMS4zNy02LjQgMS4zNy05LjYgMC0zLjItLjQ1Ny02LjQtMS4zNzEtOS42em01Ljk0Mi04LjIyOWMtMi4yODUgMS4zNzItNC41NzEgMi43NDMtNy4zMTQgMy42NTgtMS44MjgtNC41NzItNC4xMTQtOC42ODYtNy4zMTQtMTIuOEM0My44ODYgNi40IDQ4LjkxNCA5LjYgNTIuNTcgMTQuMTd6TTI2LjA1NyA1LjQ4NmMtMy4yIDMuNjU3LTUuNDg2IDguMjI4LTcuMzE0IDEyLjhDMTYgMTcuMzcgMTMuNzE0IDE2IDExLjQyOSAxNC42MjkgMTUuMDg2IDkuNiAyMC4xMTQgNi40IDI2LjA1NyA1LjQ4NnpNOC42ODYgMTcuODI5YzIuNzQzIDEuODI4IDUuNDg1IDMuMiA4LjY4NSA0LjU3MUMxNi40NTcgMjUuNiAxNiAyOC44IDE2IDMyYzAgMy4yLjQ1NyA2LjQgMS4zNzEgOS42LTMuMiAxLjM3MS01Ljk0MiAyLjc0My04LjY4NSA0LjU3MUM1Ljk0MyA0Mi4wNTcgNC41NyAzNy4wMyA0LjU3IDMyczEuMzcyLTEwLjA1NyA0LjExNS0xNC4xNzF6bTIuNzQzIDMyYzIuMjg1LTEuMzcyIDQuNTcxLTIuNzQzIDcuMzE0LTMuNjU4IDEuODI4IDQuNTcyIDQuMTE0IDguNjg2IDcuMzE0IDEyLjhDMjAuMTE0IDU3LjYgMTUuMDg2IDU0LjQgMTEuNDMgNDkuODN6bTI2LjUxNCA4LjY4NWMzLjItMy42NTcgNS40ODYtOC4yMjggNy4zMTQtMTIuOEM0OCA0Ni42MyA1MC4yODYgNDggNTIuNTcxIDQ5LjM3MWMtMy42NTcgNS4wMjktOC42ODUgOC4yMjktMTQuNjI4IDkuMTQzeiIgZmlsbD0iIzAwNUNFNCIvPjxjaXJjbGUgZmlsbD0iI0U2MjExMyIgY3g9IjQ2IiBjeT0iMzMiIHI9IjciLz48Y2lyY2xlIGZpbGw9IiNFNjIxMTMiIGN4PSIyNiIgY3k9IjQ2IiByPSI3Ii8+PGNpcmNsZSBmaWxsPSIjRTYyMTEzIiBjeD0iOSIgY3k9IjI4IiByPSI3Ii8+PGNpcmNsZSBmaWxsPSIjRkY2MjBDIiBjeD0iNDUiIGN5PSIzMSIgcj0iNyIvPjxjaXJjbGUgZmlsbD0iI0ZEOUMyQiIgY3g9IjI1IiBjeT0iNDQiIHI9IjciLz48Y2lyY2xlIGZpbGw9IiNGNDQyMzUiIGN4PSI4IiBjeT0iMjYiIHI9IjciLz48L2c+PC9zdmc+Cg=="},4798:function(e,t,a){"use strict";a.r(t),a.d(t,"NewMediaLibrary",(function(){return sK}));var n,r=a(2),s=a.n(r),o=a(4),i=a.n(o),l=a(9),c=a.n(l),d=a(61),u=a.n(d),m=a(6),p=a.n(m),f=a(116),b=a(0),h=a.n(b),g=a(25),v=a(87),E=a(180),y=a.n(E),j=a(24),O=a(335),w=a.n(O),I=a(294),T=350,M=350,C=15,N=(Object.freeze({DELETE_ASSET_MODAL:"DELETE_ASSET_MODAL"}),a(444)),x=a(45),A=function(e){return w()([Object(N.c)(e),e.folderPath?x.folder:""])},D=function(e){if(Object(I.a)(e))return M;var t=e.width,a=e.height;return a>t?Math.min(a,M):t>T?a*(T/t):a},L=150,S=function(e){var t=["top-shadow","bottom-shadow"],a=e.currentTarget.parentElement.classList;a.add.apply(a,t),clearTimeout(n),n=setTimeout((function(){a.remove.apply(a,t)}),L)},k=a(5),P=a(33),_=a.n(P),R=a(861),F=(a(3905),function(e){var t=e.className,a=e.children;return h.a.createElement(R.a,null,h.a.createElement("div",{"data-test":"preview-panel",className:_()("details-popup card-box flex flex-column flex-shrink-0",t),id:"preview-pane"},a))}),z=F,B=function(e){var t=e.children,a=e.className;return h.a.createElement("div",{onScroll:S,className:_()("drop-content flex-grow",a)},h.a.createElement("div",{className:"content-holder"},t))},U=a(46),V=a.n(U),G=a(3),W=a.n(G),H=a(47),Y=a.n(H),Q=a(317),K=a(158),Z=a(145),q=1,X=200,J=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{showTooltip:!1}),p()(c()(t),"onMouseEnter",(function(){t.delayOnEnterHandler=setTimeout((function(){var e=t.containerRef.current;if(e){var a=document.createElement("span");a.style.cssText="visibility: hidden; position:absolute",a.innerText=e.innerText,e.appendChild(a),a.offsetWidth-e.offsetWidth>q?t.setState({showTooltip:!0}):e.removeChild(a),t.clearDelayHandler()}}),X)})),p()(c()(t),"onMouseLeave",(function(){t.clearDelayHandler(),t.delayOnEnterHandler&&t.state.showTooltip&&t.setState({showTooltip:!1})})),p()(c()(t),"clearDelayHandler",(function(){t.delayOnEnterHandler&&(clearTimeout(t.delayOnEnterHandler),t.delayOnEnterHandler=null)})),p()(c()(t),"onTooltipHide",(function(){t.setState({showTooltip:!1})})),p()(c()(t),"containerRef",Object(b.createRef)()),p()(c()(t),"delayOnEnterHandler",null),t}u()(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.clearDelayHandler()},a.render=function(){var e={display:this.props.display||"inline"};return this.state.showTooltip||this.props.alwaysShowTooltip?h.a.createElement(Z.a,W()({},this.props,{onHide:this.onTooltipHide,style:e,className:_()("truncate",this.props.className)}),this.props.text):h.a.createElement("div",{"data-test":this.props.dataTest,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:this.containerRef,style:e,className:_()("truncate",this.props.className)},this.props.text)},t}(b.Component),$=J,ee=a(144),te=a(3906),ae=a.n(te),ne=function(e,t){var a=Array.isArray(e)?e:[e];return a&&a.filter(Boolean).map((function(e){return h.a.createElement(ee.a,{size:t,path:e,key:e,dataTest:"item-subtitle-icon",className:_()("mr1 flex-none",ae.a.subtitleIcon)})}))},re=function(e,t,a,n,r){void 0===e&&(e="");var s=Y()(n)?n:e;return a?h.a.createElement($,{text:e,className:t,tooltipText:s,dataTest:"item-subtitle-text",alwaysShowTooltip:r}):h.a.createElement(K.a,{alwaysShowTooltip:r,dataTest:"item-subtitle-text",tooltipText:s,truncFrom:"middle",render:function(a){return h.a.createElement("div",{className:_()("overflow-hidden",t)},a(e))}})},se=Object(k.default)(Object(Q.withTextSkeleton)((function(e){var t=e.progress,a=e.size,n=e.subtitle,r=e.textClassName,s=e.cssTruncate,o=e.tooltipText,i=e.alwaysShowTooltip;return t?null:re(n,r||"h-"+a,s,o,i)}))).withConfig({displayName:"ItemSubtitle__Subtitle",componentId:"xwxg1g-0"})(["span span{margin:0;}"]),oe=function(e){var t,a=e.subtitle,n=void 0===a?"":a,r=e.icon,s=e.size,o=void 0===s?"xxs":s,i=e.className,l=e.color,c=void 0===l?"gray-60":l,d=e.progress,u=void 0!==d&&d,m=e.children,p=e.textClassName,f=void 0===p?"":p,b=e.cssTruncate,g=void 0!==b&&b,v=e.alwaysShowTooltip,E=void 0!==v&&v,y=e.tooltipText,j=_()("flex items-center lh-solid",i,["f-"+o],["lh-"+o],["fill-"+c],((t={})[String(c)]=!!c,t));return n||r?h.a.createElement("div",{className:_()("fs-exclude",j),"data-test":"items-center-subtitle"},r?ne(r,o):null,m,h.a.createElement(se,{isLoading:u,progress:u,subtitle:n,textClassName:f,size:o,cssTruncate:g,tooltipText:y,alwaysShowTooltip:E})):null},ie=oe,le=a(36),ce=a(48),de=a(3871),ue=a.n(de),me=a(92),pe=a(16),fe=a(11),be=a(53),he=a(26),ge=a(7),ve=Object.freeze({SHARE_PUBLIC_URL:"sharePublicURL",FOLDER:"folder",COLLECTION:"collection",NEW_FOLDER:"newFolder",ADD_MULTIPLE:"addMultiple",SHARE:"share",DELETE:"del",FILE_DOWNLOAD:"fileDownload",EYE_ON:"eyeOn",RENAME:"rename",MOVE:"move",THUMB_UP:"thumbUp",THUMB_DOWN:"thumbDown",WALLPAPER:"wallpaper",TRANSFORM:"transform",FETCH:"fetch",RESTRICTED:"restricted",EMBED:"embed",BUILD:"build",RESTORE:"restore",REMOVE_BOX:"removeBox",TAG_SIGN:"tagSign",ADD_MULTIPLE_TAGS:"addMultipleTags",CONTEXTUAL_METADATA:"contextualMetadata",STRUCTURED_METADATA:"structuredMetadata"}),Ee=function(e,t){return(e?e+"-":"")+"POPOVER_ID-"+t},ye=function(e,t){switch(e){case ce.a.ADD_TO_PORTAL:return ve.SHARE_PUBLIC_URL;case ce.a.BROWSE_ITEM:return t===pe.w.FOLDER?ve.FOLDER:t===pe.w.COLLECTION?ve.COLLECTION:"";case ce.a.CREATE_ITEM:return t===pe.w.FOLDER?ve.NEW_FOLDER:t===pe.w.COLLECTION?ve.ADD_MULTIPLE:"";case ce.a.SHARE_ITEM:return ve.SHARE;case ce.a.DELETE_ITEM:return ve.DELETE;case ce.a.DOWNLOAD_ITEM:return ve.FILE_DOWNLOAD;case ce.a.PREVIEW_ITEM:return ve.EYE_ON;case ce.a.RENAME_ITEM:return ve.RENAME;case ce.a.MOVE_ITEM:return ve.MOVE;case ce.a.APPROVE_ITEM:return ve.THUMB_UP;case ce.a.REJECT_ITEM:return ve.THUMB_DOWN;case ce.a.ANALYZE_ITEM:return ve.WALLPAPER;case ce.a.TRANSFORM_ITEM:return ve.TRANSFORM;case ce.a.COPY_ITEM:return ve.FETCH;case ce.a.ACCESS_CONTROL_ITEM:return ve.RESTRICTED;case ce.a.DELIVER_ITEM:return ve.EMBED;case ce.a.MANAGE_ITEM:return ve.BUILD;case ce.a.SHOW_CONTAINING_ITEM:return ve.FOLDER;case ce.a.VERSION_HISTORY:return ve.RESTORE;case ce.a.ADD_TO_COLLECTION:return ve.COLLECTION;case ce.a.REMOVE_FROM_COLLECTION:return ve.REMOVE_BOX;default:throw new Error("Operation '"+e+"' is not supported by the ItemOperationsMenu")}},je=function(e){window.open(e,"_blank").focus()},Oe=function(e,t,a){e.stopPropagation();var n=t.folderPath===he.e||t.folderName===he.e?he.e:t.folderId;if(Object(me.i)(e)){a(fe.f.NAVIGATE,"show containing folder in new tab");var r=Object(be.g)(n);je(r)}else a(fe.f.NAVIGATE,"show containing folder"),e.preventDefault(),Object(be.t)(n)},we=function(e,t){return t.itemType===ge.m&&(ce.a.APPROVE_ITEM===e&&ge.q.APPROVED===t.moderationStatus||ce.a.REJECT_ITEM===e&&ge.q.REJECTED===t.moderationStatus)},Ie=a(290),Te=a(62),Me="item-container-path--subtitle",Ce=k.default.div.withConfig({displayName:"ItemContainerPath__StyledItemContainerPath",componentId:"q5s9t6-0"})([":hover{.","{text-decoration:underline;> span{text-decoration:underline;}}}"],Me),Ne=Object(k.default)(ie).withConfig({displayName:"ItemContainerPath__ReadOnlyItemSubtitle",componentId:"q5s9t6-1"})(["cursor:default;"]),xe=function(e){var t=Y()(e.subtitle)?e.subtitle:Object(Te.l)(e.item,e.rootSymbol);return e.isOperationAllowed(e.item,ce.a.SHOW_CONTAINING_ITEM)?h.a.createElement(Ce,{onClick:function(t){Oe(t,e.item,e.trackEvent)}},h.a.createElement(ie,W()({},e,{className:_()(e.className,ue.a.path,"fs-exclude pointer"),textClassName:_()(Me,"h-xxs"),subtitle:t||e.defaultClickableSubtitle,size:e.size,icon:e.icon&&0!==e.icon.length?e.icon:x.folder,alwaysShowTooltip:e.alwaysShowTooltip,tooltipText:e.tooltipText}))):h.a.createElement(Ne,W()({},e,{className:e.className,subtitle:t}))};xe.defaultProps={size:"xs",color:"gray-60",defaultClickableSubtitle:"/"};var Ae=function(e){return{isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},De=Object(g.connect)(Ae)(xe),Le=Object(le.b)(De),Se=a(91),ke=a.n(Se),Pe=a(519),_e=a.n(Pe),Re=a(84),Fe=a.n(Re),ze=a(8),Be=a(74),Ue=a(1),Ve=a(21),Ge=a(350),We={disableErrorToast:!0},He=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(c()(n),"state",{isFocused:!1}),p()(c()(n),"ref",void 0),c()(n).onChange=n.onChange.bind(c()(n)),c()(n).onFocusChange=n.onFocusChange.bind(c()(n)),c()(n).onSubmit=n.onSubmit.bind(c()(n)),n}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){this.props.error&&this.props.item.id!==e.item.id&&this.props.setError(""),this.props.focused&&!e.focused&&this.ref&&(this.ref.focus(),Ye(this.ref))},a.componentWillUnmount=function(){this.props.setError("")},a.onChange=function(e){var t=e.toString().trim(),a=this.props.item.itemType,n=pe.r.MAX_NAME_LENGTH[a],r="";t?t.length>n?r=Object(Ue.j)("itemTitle.nameTooLong",{itemType:a,limit:n}):a===ge.m&&t.includes("/")&&(r=Object(Ue.j)("itemTitle.invalid_name_slashes",{itemType:a})):r=Object(Ue.j)("itemTitle.nameRequired",{itemType:a}),this.props.setError(r)},a.onFocusChange=function(e){e&&this.props.trackEvent(fe.f.EDIT,"intent to rename "+this.props.item.itemType),this.props.setFocused(e),this.props.multiLine&&this.setState(W()({},this.state,{isFocused:e}))},a.getErrorMessage=function(e,t){var a=Fe()(e,"error_code"),n=Fe()(e,"message");return!a&&n?n:Object(Be.b)(ze.h.UPDATE_ITEM,ze.n.ERROR,{itemType:this.props.item.itemType,updateType:ze.q.SET,propName:Object(N.b)(this.props.item),error:{payload:e},context:We,displayItemName:t})},a.onSubmit=function(){var e=i()(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.error){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.props.updateItem(this.props.item,Object(N.b)(this.props.item),t,ze.q.SET,We);case 4:(a=e.sent)?a.id?this.props.trackEvent(fe.f.EDIT,this.props.item.itemType+" renamed successfully"):(n=this.getErrorMessage(a,t),this.props.setError(n)):this.props.setError(Object(Ue.j)("itemTitle.general_error"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=this,t=this.props.fontSize||"md",a=Object(Te.k)(this.props.item);return this.props.readOnly?h.a.createElement(K.a,{dataTest:"item-title",tooltipText:a,lines:1,truncFrom:"end",render:function(n){return h.a.createElement("div",{className:_()("f-"+t,"fs-exclude black",e.props.className)},n(a)||"")}}):h.a.createElement(Ge.a,{inline:!0,className:_()("fs-exclude w-100",this.props.className),multiLine:this.props.multiLine&&this.state.isFocused,size:"sm",fontSize:t,color:"black",innerRef:function(t){return e.ref=t},error:this.props.error,defaultValue:a,onChange:this.onChange,onFocus:function(){return e.onFocusChange(!0)},onBlur:function(){return e.onFocusChange(!1)},onSubmit:this.onSubmit,dataTest:"item-title"})},t}(h.a.Component),Ye=function(e){if(_e()(e.selectionStart))e.selectionStart=e.selectionEnd=e.value.length;else if(ke()(e.createTextRange)){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}},Qe=function(e){return{error:Ve.a.ItemTitle.error.get(e),focused:Ve.a.ItemTitle.focused.get(e)}},Ke={setError:Ve.a.ItemTitle.error.set,setFocused:Ve.a.ItemTitle.focused.set,updateItem:j.updateItem},Ze=Object(g.connect)(Qe,Ke)(He),qe=Object(le.b)(Ze),Xe=a(291),Je=a(293),$e=a(30),et=a.n($e),tt=a(80),at=k.default.div.withConfig({displayName:"PanelHeader__Caption",componentId:"xkdx84-0"})(["font-size:14px;color:",";font-weight:500;width:100%;"],tt.j),nt=k.default.div.withConfig({displayName:"PanelHeader__StyledPaneHeader",componentId:"xkdx84-1"})(["display:flex;padding:12px 16px 11px 16px;align-items:center;justify-content:space-between;border-bottom:1px solid ",";border-top:1px solid ",";"],tt.l,tt.l),rt=Object(b.memo)((function(e){var t=e.onClose,a=e.dataTest,n=e.closeButtonDataTest,r=e.children,s=e.className;return h.a.createElement(nt,{"data-test":a,className:s},h.a.createElement(at,{className:"panel-header-caption"},r),t&&h.a.createElement(Xe.a,{type:Je.a.MENU,dataTest:n,size:"sm",onClick:t,tooltipText:Object(Ue.j)("panelHeader.close")},h.a.createElement(et.a,{name:"cross"})))}));rt.displayName="PanelHeader";var st=rt,ot=Object(k.default)(qe).withConfig({displayName:"ItemPreviewPaneHeader__StyledItemTitle",componentId:"bc1ryf-0"})([""," span{font-weight:500;font-size:14px;color:",";}.item-name-input-container{padding-top:0;padding-bottom:0;height:18px;}"],(function(e){return!e.readOnly&&"margin-left: -9px;"}),tt.r),it=function(e){var t=e.item,a=e.icon,n=e.progress,r=e.className;return a?h.a.createElement(Le,{className:r,item:t,color:"gray-60",icon:a,textClassName:"h-sm",progress:n}):null},lt=Object(k.default)(it).withConfig({displayName:"ItemPreviewPaneHeader__StyledItemPath",componentId:"bc1ryf-1"})(["padding:14px 16px;"]),ct=function(e){var t=e.item,a=e.canRename;return h.a.createElement(ot,{item:t,readOnly:!a,multiLine:!0,fontSize:"sm",className:_()({"item-name-input-container":a})})},dt=function(e){var t=e.onClose,a=e.trackEvent,n=e.children,r=e.className,s=(e.closeButtonTooltipStyle,e.hideItemPath),o=V()(e,["onClose","trackEvent","children","className","closeButtonTooltipStyle","hideItemPath"]),i=t?function(){a(fe.f.SHOW_HIDE,"close preview pane"),t()}:null;return h.a.createElement(h.a.Fragment,null,h.a.createElement(st,{className:r,dataTest:"preview-panel-title",closeButtonDataTest:"pp-close-btn",onClose:i},n||h.a.createElement(ct,o)),!n&&!s&&h.a.createElement(lt,o))},ut=Object(le.b)(dt),mt=a(68),pt=a(855),ft=a(83),bt=k.default.div.withConfig({displayName:"TabbedContent__Content",componentId:"sc-14w5ekm-0"})(["overflow-y:auto;",""],(function(e){return e.activeId===ft.g?Object(k.css)(["flex-grow:1;"]):Object(k.css)(["height:100%;:-webkit-scrollbar{display:none;}"])})),ht=Object(k.default)(pt.Tabs).withConfig({displayName:"TabbedContent__StyledTabs",componentId:"sc-14w5ekm-1"})(["overflow-x:unset;"]),gt=Object(k.default)(pt.Tab).withConfig({displayName:"TabbedContent__StyledTab",componentId:"sc-14w5ekm-2"})(["position:relative;"]),vt={TOP:"top",BOTTOM:"bottom"},Et=function(e){var t=e.activeId,a=void 0===t?"":t,n=e.onTabClick,r=e.dataTest,s=e.tabs,o=e.tabPosition,i=void 0===o?vt.TOP:o,l=e.tabSize,c=void 0===l?"sm":l,d=e.tabsLayout,u=void 0===d?"stretch":d,m=h.a.createElement("div",{"data-test":"tabs-header",className:"w-100"},h.a.createElement(ht,{activeTabId:a,layout:u},s.filter((function(e){return e.display})).map((function(e){var t=e.id,a=e.title,r=e.icon;return h.a.createElement(gt,{key:t,id:t,onClick:function(){return n(t)},"data-test":t,size:c,icon:r&&h.a.createElement(et.a,{name:r})},a)}))));return h.a.createElement("div",W()({className:"h-100 flex flex-column w-100 mw-100"},r?{"data-test":r}:{}),i===vt.TOP&&m,h.a.createElement(bt,{activeId:a},h.a.createElement("div",{className:"h-100 w-100 flex-grow-1 flex flex-column","data-test":"tab-content-"+a},s.find((function(e){return e.id===a})).component)),i===vt.BOTTOM&&m)},yt=a(73),jt=a(114),Ot={TOP_RIGHT:"topright",TOP_LEFT:"topleft",CENTER_LEFT:"centerleft",CENTER_RIGHT:"centerright",BOTTOM_RIGHT:"bottomright",BOTTOM_LEFT:"bottomleft",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},wt=Ot.TOP_RIGHT,It=Ot.RIGHT,Tt="hint",Mt="hints-deactivated",Ct=a(1568),Nt=a(1575),xt=a(56),At=a.n(xt),Dt=a(42),Lt=a.n(Dt),St=a(37),kt=a(561),Pt=a(856),_t=a(28),Rt=a(257),Ft=a(17),zt=a(13),Bt=a(1573),Ut=Object.freeze({USER:"user",API:"accesskey"}),Vt=k.default.div.withConfig({displayName:"AssetActivity__DateContainer",componentId:"sc-1w78g5v-0"})(["",""],(function(e){return e.isLoading&&"width: 120px; height: 15px;"})),Gt=Object(Q.withTextSkeleton)((function(e){var t=e.date,a=e.dataTest;return e.isLoading?null:h.a.createElement("div",{"data-test":a},t)})),Wt=Object(Q.withCircleSkeleton)((function(e){var t=e.user,a=e.isLoading,n=e.uploaderType,r=e.date;if(a)return null;var s=n===Ut.API?Object(Ue.j)("assetActivity.viaApi"):kt.a.getUserDisplayName((null==t?void 0:t.name)||"");return h.a.createElement(Pt.a,{user:t||{},displayName:s,subText:r})})),Ht=Object(k.default)(Lt.a).withConfig({displayName:"AssetActivity__Caption",componentId:"sc-1w78g5v-1"})(["width:25%;min-width:25%;"]),Yt=Object(k.default)(Xe.a).withConfig({displayName:"AssetActivity__StyledButton",componentId:"sc-1w78g5v-2"})(["margin-left:",";"],At.a.spacing.xs),Qt=function(e){var t=e.caption,a=e.uploaderType,n=e.date,r=e.dataTest,s=e.user,o=e.userListLoaded,i=e.shouldDisplayAuditData,l=e.displayVersionManagementBtn,c=e.showVersionHistoryModal,d=e.asset,u=e.trackEvent,m=a===Ut.USER&&!o&&i,p=i&&((null==s?void 0:s.name)||a===Ut.API),f=n?Object(St.g)(n):Object(Ue.j)("assetActivity.notAvailable");return h.a.createElement("div",{className:"flex items-center asset-activity","data-test":r},h.a.createElement(Ht,{size:"xs",type:"lowContrast",as:"span"},t),h.a.createElement("div",{className:"flex items-center"},p?h.a.createElement(Wt,{isLoading:m,user:s,uploaderType:a,date:f}):h.a.createElement(Vt,{isLoading:m},h.a.createElement(Gt,{dataTest:r+"-date",isLoading:m,date:f}))),l&&h.a.createElement(Yt,{icon:"restore",dataTest:"open-asset-version-modal-button",size:"sm",type:"menu",tooltipText:Object(Ue.j)("itemOperationsMenu.versionHistory"),onClick:function(){u(fe.f.VERSION_MANAGE,"intent to manage versions - from summary tab"),c(d)}}))},Kt=function(e,t){return{user:Object(_t.selectItemByProp)(e,Rt.a,"externalId",t.userId),userListLoaded:Object(Ft.selectListHasLoadedItems)(e,pe.n),shouldDisplayAuditData:Object(zt.selectShouldDisplayAuditData)(e)}},Zt={showVersionHistoryModal:Bt.showVersionHistoryModal},qt=Object(g.connect)(Kt,Zt)(Qt),Xt=Object(le.b)(qt),Jt=function(e){var t,a,n,r,s=e.asset,o=e.dataTest,i=(null===(t=s.uploadedBy)||void 0===t?void 0:t.type)||(null===(a=s.createdBy)||void 0===a?void 0:a.type),l=(null===(n=s.uploadedBy)||void 0===n?void 0:n.id)||(null===(r=s.createdBy)||void 0===r?void 0:r.id),c=s.uploadedAt||s.createdAt,d=Object(g.useSelector)(Ie.selectIsItemOperationAllowed)(s,ce.a.VERSION_HISTORY);return h.a.createElement(Xt,{caption:Object(Ue.j)("assetActivity.uploaded"),uploaderType:i,userId:l,date:c,dataTest:o,displayVersionManagementBtn:d,asset:s})},$t=function(e){var t,a,n=e.asset,r=e.dataTest,s=null===(t=n.createdBy)||void 0===t?void 0:t.type,o=null===(a=n.createdBy)||void 0===a?void 0:a.id,i=n.createdAt;return h.a.createElement(Xt,{caption:Object(Ue.j)("assetActivity.created"),uploaderType:s,userId:o,date:i,dataTest:r})},ea=k.default.div.withConfig({displayName:"AssetActivitySection__Container",componentId:"s6sfd3-0"})(["padding:",";position:relative;border-bottom:1px solid ",";> .asset-activity:not(:last-child){margin-bottom:",";}"],At.a.spacing.md,At.a.palette.secondary,At.a.spacing.md),ta=function(e){var t=e.asset,a=e.trackEvent;return h.a.createElement(ea,null,h.a.createElement(Jt,{asset:t,dataTest:"activity-uploaded",trackEvent:a}),h.a.createElement($t,{asset:t,dataTest:"activity-created"}))},aa=a(96),na=a.n(aa),ra=function(e){var t={raw:{icon:x.file,color:"extra"},video:{icon:Object(I.a)(e)?x.audio:x.video,color:"primary"},image:{icon:"json"===e.format?x.fileXml:x.photo,color:"action-dark"}};return W()({},t[e.resource_type]||t.image)},sa=function(e){var t=e.asset,a=e.size,n=void 0===a?"md":a,r=e.format,s=void 0===r||r,o=e.className,i=e.color,l=ra(t);l.color=i||l.color;var c,d=_()("inline-flex items-center",o,["f-"+n],["lh-"+n],l.color);return h.a.createElement("div",{className:d},h.a.createElement(ee.a,{size:n,path:l.icon,color:l.color,className:s?"mr1":""}),s&&h.a.createElement("span",{"data-test":"asset-format"},"webp"===(c=(Object(mt.b)(t)||"N/A").toLowerCase())||"webm"===c?c[0].toUpperCase()+c.slice(1,c.length-1).toLowerCase()+c[c.length-1].toUpperCase():c.toUpperCase()))},oa=sa,ia=a(126),la=function(e){return e?new Date(1e3*e).toISOString().substr(11,8).replace(/^00:/,""):null},ca=Object(Q.withCircleSkeleton)(oa),da=k.default.div.withConfig({displayName:"AssetProperties__Container",componentId:"sc-1j031sk-0"})(["display:flex;padding:",";border-bottom:1px solid ",";"],At.a.spacing.md,At.a.palette.secondary),ua=Object(k.default)($).withConfig({displayName:"AssetProperties__StyledCssTruncation",componentId:"sc-1j031sk-1"})(["white-space:unset;"]),ma=Object(k.default)(Lt.a).withConfig({displayName:"AssetProperties__TruncatedFolderName",componentId:"sc-1j031sk-2"})(["display:flex;overflow:hidden;text-overflow:ellipsis;> svg{overflow:initial;}"]),pa=k.default.ul.withConfig({displayName:"AssetProperties__PropertiesList",componentId:"sc-1j031sk-3"})(["margin:0;padding:0;list-style-type:none;width:100%;> li{display:flex;align-items:center;&:not(:last-child){padding-bottom:",";}> span{width:25%;}}"],At.a.spacing.lg),fa=Object(k.default)($e.Icon).withConfig({displayName:"AssetProperties__StyledIcon",componentId:"sc-1j031sk-4"})(["margin-right:",";"],At.a.spacing.sm),ba=Object(k.default)(ma).withConfig({displayName:"AssetProperties__ClickableTypography",componentId:"sc-1j031sk-5"})(["cursor:pointer;&:hover{text-decoration:underline;}"]),ha=Object(k.default)(Lt.a).withConfig({displayName:"AssetProperties__StyledTypography",componentId:"sc-1j031sk-6"})(["display:flex;align-items:center;"]),ga=function(e){var t=e.text;return h.a.createElement(Lt.a,{size:"xs",type:"lowContrast",as:"span"},h.a.createElement(ua,{text:t,tooltipText:t,display:"inherit"}))},va=function(e){var t=e.asset,a=e.isOperationAllowed,n=e.trackEvent,r=Object(ia.a)({name:t.folderName,path:t.folderPath})||Object(Ue.j)("assetProperties.rootFolder"),s=a(t,ce.a.SHOW_CONTAINING_ITEM),o=h.a.createElement(h.a.Fragment,null,h.a.createElement(fa,{name:t.folderPath===he.e?"cloud":"folder",size:"md",variant:"contrastLow"}),h.a.createElement($,{text:r,tooltipText:r,dataTest:"asset-folder"})),i=Object(b.useCallback)((function(e){Oe(e,t,n)}),[t,n]);return h.a.createElement(da,{"data-test":"asset-properties"},h.a.createElement(pa,null,t.kind!==ge.o.FETCH&&h.a.createElement("li",null,h.a.createElement(ga,{text:Object(Ue.j)("assetProperties.propertiesLabel.folder")}),s?h.a.createElement(na.a,{title:Object(Ue.j)("assetProperties.redirectText")},h.a.createElement(ba,{size:"sm",type:"regular",as:"div",onClick:i},o)):h.a.createElement(ma,{size:"sm",type:"regular",as:"div"},o)),h.a.createElement("li",null,h.a.createElement(ga,{text:Object(Ue.j)("assetProperties.propertiesLabel.type")}),h.a.createElement(ca,{isLoading:!t,asset:t,size:"sm"})),null!=t&&t.bytes?h.a.createElement("li",null,h.a.createElement(ga,{text:Object(Ue.j)("assetProperties.propertiesLabel.size")}),h.a.createElement(Lt.a,{size:"sm",type:"regular",as:"div","data-test":"asset-file-size"},Object(St.f)(t.bytes))):null,"video"===(null==t?void 0:t.resource_type)?t.duration?h.a.createElement("li",null,h.a.createElement(ga,{text:Object(Ue.j)("assetProperties.propertiesLabel.duration")}),h.a.createElement(Lt.a,{size:"sm",type:"regular",as:"div","data-test":"asset-duration"},la(t.duration))):null:null!=t&&t.width&&null!=t&&t.height?h.a.createElement("li",null,h.a.createElement(ga,{text:Object(Ue.j)("assetProperties.propertiesLabel.resolution")}),h.a.createElement(Lt.a,{size:"sm",type:"regular",as:"div","data-test":"asset-dimensions"},t.width+" × "+t.height)):null,t.kind!==ge.o.UPLOAD&&h.a.createElement("li",null,h.a.createElement(ga,{text:Object(Ue.j)("assetProperties.propertiesLabel.deliveryType")}),h.a.createElement(ha,{size:"sm",type:"regular",as:"div"},h.a.createElement(ee.a,{path:Object(N.c)(t),size:"sm",dataTest:"item-subtitle-icon",className:"mr1 flex-none fill-gray-60"}),Object(Ue.j)("assetProperties.deliveryTypes."+t.kind)))))},Ea=function(e){return{isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},ya=Object(g.connect)(Ea)(va),ja=Object(le.b)(ya),Oa=a(106),wa=a(66),Ia=a(243),Ta=a.n(Ia),Ma=a(292),Ca=a(137),Na=a(402),xa=a.n(Na),Aa=Object(k.default)(xa.a).withConfig({displayName:"Checkbox__StyledCheckbox",componentId:"sc-1odf0wb-0"})(["> input[type='checkbox']{position:unset;opacity:unset;}"]),Da=Object(k.default)(Ca.FieldLayout).withConfig({displayName:"Checkbox__StyledFieldLayout",componentId:"sc-1odf0wb-1"})(["margin-bottom:unset;width:100%;height:100%;> div:first-child{display:none;}"]),La=function(e){var t=e.onChange,a=e.value,n=e.id,r=e.label,s=e.tooltip,o=void 0===s?"":s;return h.a.createElement(Da,{layout:"horizontal"},h.a.createElement(Ca.InlineFieldLayout,{label:h.a.createElement(Ca.Label,{htmlFor:n,"data-test":"resolution-name"},h.a.createElement(Z.a,{tooltipText:o,tooltipPosition:"top",isSensitive:!1},r))},h.a.createElement(Aa,{id:n,onChange:t,value:a})))},Sa=a(863),ka=a.n(Sa),Pa=a(173),_a=(a(1556),a(626)),Ra=a.n(_a),Fa=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"dayInputRef",h.a.createRef()),p()(c()(t),"focusDayPicker",(function(){return t.dayInputRef&&t.dayInputRef.current&&t.dayInputRef.current.getInput().focus()})),t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,a=e.className,n=e.date,r=e.time,s=e.valid,o=e.handleDateChange,i=e.handleTimeChange,l=e.inputProps,c=e.placeholder,d=e.dayPickerProps;return h.a.createElement("div",{className:_()("flex items-center pb2 pt3",a)},h.a.createElement("span",{className:Ra.a.timeInputLabel},t),h.a.createElement("div",{className:_()("flex items-center ba br2 ml1 pv1 ph2 bg-gray-20",{error:!1===s},Ra.a.dayPickerWrapper,Ra.a.dateTimeDatePickerWrapper)},h.a.createElement("div",{className:"pointer",onClick:this.focusDayPicker},h.a.createElement(ee.a,{path:x.calendar,color:"gray-70",size:"xl"})),h.a.createElement(ka.a,{ref:this.dayInputRef,value:n,placeholder:c||"",parseDate:Pa.h,formatDate:Pa.f,dayPickerProps:d,onDayChange:o,inputProps:l})),h.a.createElement("div",{className:_()("flex items-center ba br2 ml3 pv1 ph2 bg-gray-20",{error:!1===s},Ra.a.dayPickerWrapper,Ra.a.dateTimeTimePickerWrapper)},h.a.createElement("input",{disabled:!n,type:"time",pattern:"[0-9]{2}:[0-9]{2}",placeholder:"--:--",value:r,onChange:i})))},t}(h.a.Component),za=Fa,Ba=a(82),Ua=a(162),Va=k.default.div.withConfig({displayName:"AssetCardAccessModalstyles__StyledTitle",componentId:"sc-6gj3tr-0"})(["display:flex;margin-bottom:",";"],At.a.spacing.xs),Ga=Object(k.default)(Ca.Label).withConfig({displayName:"AssetCardAccessModalstyles__StyledLabel",componentId:"sc-6gj3tr-1"})(["display:flex;flex-direction:column;"]),Wa=Object(k.default)(Ca.InlineFieldLayout).withConfig({displayName:"AssetCardAccessModalstyles__StyledInlineFieldLayout",componentId:"sc-6gj3tr-2"})(["margin-top:",";align-items:start;input{flex-shrink:0;}"],At.a.spacing.xs),Ha=[{value:pe.a.PUBLIC,label:"Public",icon:pe.b[pe.a.PUBLIC]},{value:pe.a.RESTRICTED,label:"Restricted",icon:pe.b[pe.a.RESTRICTED]}],Ya={date:null,time:""},Qa=pe.y.EDIT_ACCESS,Ka=function(e){var t=Object(b.useState)(!1),a=t[0],n=t[1],r=Object(b.useState)(""),o=r[0],l=r[1],c=Object(b.useState)(Ya),d=c[0],u=c[1],m=Object(b.useState)(Ya),p=m[0],f=m[1],g=Object(b.useState)(null),v=g[0],E=g[1],y=Object(b.useState)(!1),j=y[0],O=y[1];Object(b.useEffect)((function(){var t=Object(Oa.a)(e.asset);if(e.multi)u(Ya),f(Ya),E(null),O(!1);else{var a=t.parsedAcl.start?Ta()(t.parsedAcl.start,"HH:MM"):"",n=t.parsedAcl.end?Ta()(t.parsedAcl.end,"HH:MM"):"";u({date:t.parsedAcl.start,time:a}),f({date:t.parsedAcl.end,time:n}),E(t.parsedAcl.accessType),O(t.parsedAcl.start||t.parsedAcl.end)}}),[e.asset,e.multi]),Object(b.useEffect)((function(){var e="";j?(d.date||p.date?d.date&&!Object(me.k)(d.time)?e="startDateError":p.date&&!Object(me.k)(p.time)?e="endDateError":d.date&&p.date&&I(p)<I(d)&&(e="rangeError"):e="requiredDateError",o!==e&&l(e)):l("")}),[d,p,o,j]);var w=function(){var t=i()(s.a.mark((function t(){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),a=d.date?I(d):"",r=p.date?I(p):"",!(""===o)){t.next=13;break}return i={accessType:v,start:a=j&&a,end:r=j&&r},t.next=10,e.updateItem(e.asset,ge.k.ACCESS_CONTROL,i,ze.q.SET,{disableSuccessToast:!0});case 10:e.hideModal(),t.next=14;break;case 13:n(!1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(e){var t=e.date?new Date(e.date):new Date;if(e.time){var a=e.time.split(":");e.date&&(t.setHours(a[0]?Number(a[0]):0),t.setMinutes(a[1]?Number(a[1]):0))}return t};return h.a.createElement(Ua.a,{onClose:e.hideModal,dataTest:"asset-card-access-modal",headerTitle:Object(Ue.j)("accessCtrl.title"),cancelDataTest:"cancel-modal-btn",confirmDataTest:"submit-modal-btn",confirmText:Object(Ue.j)("accessCtrl.save"),onConfirm:w,isConfirmDisabled:v===pe.a.RESTRICTED&&j&&""!==o,isInProgress:a},h.a.createElement("div",{className:_()("pb3",{"mb3 bb b--gray-40":v===pe.a.RESTRICTED})},h.a.createElement(Lt.a,{size:"xs",type:"highContrast",as:"label"},Object(Ue.j)("accessCtrl.typeLabel")),h.a.createElement(Ma.RadioGroup,{name:"access-control",value:v||"",onChange:function(e){return E(e)}},h.a.createElement(Ca.GroupLayout,null,Ha.map((function(e){var t=h.a.createElement(Ga,{htmlFor:e.value},h.a.createElement(Va,null,h.a.createElement(ee.a,{path:e.icon,color:"gray-70",size:"sm",className:"mr2 ml1 flex-shrink-0"}),h.a.createElement(Lt.a,{size:"xs",type:"highContrast"},e.label)),h.a.createElement(Lt.a,{size:"xs",type:"regular"},Object(Ue.j)("accessCtrl."+e.value+"Info")));return h.a.createElement(Wa,{label:t,key:e.value},h.a.createElement(Ma.RadioGroup.Radio,{id:e.value,value:e.value}))}))))),v===pe.a.RESTRICTED&&h.a.createElement(La,{id:"restricted-dates",label:Object(Ue.j)("accessCtrl.dateCheckbox"),onChange:function(){return O(!j)},value:j}),v===pe.a.RESTRICTED&&j&&h.a.createElement("div",{className:_()({"o-0":!j})},h.a.createElement(za,{label:Object(Ue.j)("accessCtrl.startDate"),handleDateChange:function(e){d.time?u({date:e,time:d.time?d.time:"00:00"}):u({date:e,time:"00:00"})},handleTimeChange:function(e){u({time:e.target.value,date:d.date})},dayPickerProps:{disabledDays:{after:p.date}},date:d.date,placeholder:Object(Ue.j)("accessCtrl.startDatePlaceholder"),time:d.date?d.time:"",valid:""===o}),h.a.createElement(za,{label:Object(Ue.j)("accessCtrl.expDate"),handleDateChange:function(e){p.time?f({date:e,time:p.time?p.time:"00:00"}):f({date:e,time:"00:00"})},handleTimeChange:function(e){f({time:e.target.value,date:p.date})},dayPickerProps:{disabledDays:{before:d.date}},date:p.date,placeholder:Object(Ue.j)("accessCtrl.endDatePlaceholder"),time:p.date?p.time:"",valid:""===o}),""!==o&&h.a.createElement("div",{className:"tr destructive"},Object(Ue.j)("accessCtrl."+o))))},Za={updateItem:j.updateItem,hideModal:wa.hideModal},qa=Object(g.connect)(null,Za)(Ka);Ba.a.register(Qa,Object(le.b)(qa));var Xa=Qa,Ja=function(e,t,a){return e?pe.a.BLOCKED:t?null==a?void 0:a.parsedAcl.accessType:null==a?void 0:a.restriction},$a=function(e){var t=e.asset,a=e.hideText,n=void 0!==a&&a,r=e.size,s=void 0===r?"md":r,o=e.color,i=void 0===o?"gray-70":o,l=e.accessControlEnabled,c=e.isDeliveryBlocked,d=void 0!==c&&c,u=Object(Oa.a)(t),m=Ja(d,l,u),p=_()("flex items-center",i,"f-"+s,"min-"+s,"lh-"+s,"fill-"+i);return h.a.createElement("div",{className:p,"data-test":"asset-permission-text"},h.a.createElement(ee.a,{dataTest:"asset-permission-icon",size:s,path:pe.b[m],className:"mr1"}),!n&&Object(Ue.j)("assetPermission."+m))},en=$a,tn=a(133),an=a(3849),nn=a.n(an),rn=a(1559),sn=k.default.div.withConfig({displayName:"AssetAccess__Container",componentId:"lqinjo-0"})(["padding:",";"],At.a.spacing.md),on=Object(k.default)(Lt.a).withConfig({displayName:"AssetAccess__StyledTypography",componentId:"lqinjo-1"})(["padding-right:",";width:25%;"],At.a.spacing.xxs),ln=Object(k.default)($).withConfig({displayName:"AssetAccess__StyledCssTruncation",componentId:"lqinjo-2"})(["white-space:unset;"]),cn=function(e,t,a,n){return e?pe.a.BLOCKED:t?a.parsedAcl.accessType:n.access_mode},dn=function(e){var t,a=e.accessControlEnabled,n=e.asset,r=e.isItemOperationAllowed,s=e.trackEvent,o=e.showModal,i=e.showDisclaimer,l=r(n,ce.a.ACCESS_CONTROL_ITEM),c=!r(n,ce.a.DELIVER_ASSET_URL),d=Object(Oa.a)(n),u=d.parsedAcl.start&&!d.parsedAcl.end?Object(Ue.j)("summaryTab.since"):!d.parsedAcl.start&&d.parsedAcl.end?Object(Ue.j)("summaryTab.until"):Object(Ue.j)("summaryTab.between"),m=a?Object(Ue.j)("assetDrilldown.accessType"):Object(Ue.j)("assetDrilldown.permission");return h.a.createElement(sn,{"data-test":"access-permission-in-summary-tab"},h.a.createElement("div",{className:"flex items-center"},h.a.createElement(on,{size:"xs",type:"lowContrast",as:"span"},h.a.createElement(ln,{text:m,tooltipText:m,display:"inherit"})),h.a.createElement("div",{className:_()((t={},t[nn.a.accessEditable]=l,t))},a&&l&&!c?h.a.createElement("button",{"data-test":"access-permission-button",onClick:function(){s(fe.f.ACCESS_CONTROL,"intent to set access control"),o(Xa,{asset:n,multi:!1})}},h.a.createElement(en,{className:"mr1",size:"xs",color:"gray-80",asset:n,accessControlEnabled:a})):h.a.createElement(en,{className:"mr1",size:"xs",color:"gray-80",asset:n,accessControlEnabled:a,isDeliveryBlocked:c}))),a&&(d.parsedAcl.start||d.parsedAcl.end)&&h.a.createElement("div",{className:_()("flex items-center mb3 mt3 pl2",nn.a.ml25)},h.a.createElement("div",{className:"mr3 gray-60"},Object(Ue.j)("assetDrilldown.public"+u.toLowerCase())),h.a.createElement("div",null,h.a.createElement("div",{className:"flex flex-wrap"},d.parsedAcl.start&&h.a.createElement("div",{className:"mr1"},Object(St.g)(d.parsedAcl.start)+" ",d.parsedAcl.end?"-":""),d.parsedAcl.end&&h.a.createElement("div",null,Object(St.g)(d.parsedAcl.end))))),i&&a&&h.a.createElement("div",{className:_()("flex items-center mt3 pl2",nn.a.ml25)},h.a.createElement("div",{className:"gray-60 mr2 lh-md"},Object(Ue.j)("accessCtrl."+cn(c,a,d,n)+"Info",{assetExt:Object(mt.b)(n).toUpperCase()}),h.a.createElement("a",{className:"ml2 f-xs no-underline",href:c?tn.b.url.blockedDeliveryFormatsForSecurity:Ue.b.url.accessControl,onClick:function(){c&&s(fe.f.CLICK,"intent to read help (untrusted account)")},target:"_blank",rel:"noopener noreferrer"},c?Object(Ue.j)("summaryTab.learnMore"):Object(Ue.j)("summaryTab.readMore")))))},un=function(e){return{accessControlEnabled:Object(rn.selectAccessControlEnabled)(e),isItemOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},mn={showModal:wa.showModal},pn=Object(g.connect)(un,mn)(dn),fn=Object(le.b)(pn),bn=a(254),hn=a(3850),gn=a.n(hn),vn=a(441),En=a(1548),yn=a(4037),jn=a(3859),On=a.n(jn),wn=function(){return null},In=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{loaded:!1}),p()(c()(t),"onAssetLoaded",(function(){var e=t.props.onLoad;t.setState({loaded:!0}),"function"==typeof e&&e()})),p()(c()(t),"onAssetUnloaded",(function(){t.setState({loaded:!1})})),t}u()(t,e);var a=t.prototype;return a.renderFallbackIcons=function(){var e=this.props,t=e[Object(Te.v)(e.asset)];return t&&t(e.asset)},a.renderVideoOverlay=function(){var e=this.props,t=e.addTypeOverlay,a=e.asset,n=e.shouldDisplayThumbnail,r=e.size,s=this.state.loaded;return t&&n&&s&&"video"===(null==a?void 0:a.resource_type)&&b.createElement("div",{className:_()(On.a.centerIcon)},Object(I.a)(a)?b.createElement(ee.a,{size:r,path:x.audio,color:"primary"}):b.createElement("img",{alt:"video",className:On.a.video,src:Ue.b.url.prodRes+"/image/upload/q_auto,f_auto,h_60,c_scale,dpr_2.0/v1536227146/console/video-overlay.png"}))},a.render=function(){var e,t,a=this.props,n=_()(a.className,"flex flex-grow items-center justify-center h-100 relative");a.backgroundColorClassName&&(n=_()(n,((t={})[a.backgroundColorClassName]=a.asset&&!this.state.loaded||!a.shouldDisplayThumbnail,t[On.a["asset-gradient-background"]]=!a.asset,t)));var r=_()(((e={})[On.a.transparentBg]=this.state.loaded&&a.shouldDisplayThumbnail,e.assetLoaded=this.state.loaded,e));return b.createElement("div",{className:n,"data-test":"asset-display"},a.asset&&!a.shouldDisplayThumbnail&&this.renderFallbackIcons(),a.asset&&a.shouldDisplayThumbnail&&b.createElement(yn.b,{className:r,asset:a.asset,variant:a.variant,showVideoPlayer:a.showVideoPlayer,loading:a.loading||wn,failed:a.failed||wn,onLoad:this.onAssetLoaded,onUnload:this.onAssetUnloaded,onDimensionsChange:a.onDimensionsChange,overlayProps:this.state.loaded?a.overlayProps:null,loadOriginal:a.loadOriginal}),this.renderVideoOverlay())},t}(b.Component);p()(In,"defaultProps",{size:"xl4",backgroundColorClassName:"bg-gray-50"});var Tn=function(e,t){return{shouldDisplayThumbnail:Object(En.selectShouldDisplayThumbnail)(e,t.id,ge.m),asset:Object(_t.selectItem)(e,ge.m,t.id)}},Mn=Object(g.connect)(Tn,{})(In),Cn=Mn,Nn=a(1546),xn=a(85),An=a(4773),Dn=a.n(An),Ln=function(e){var t=Object(g.useDispatch)();return h.a.createElement(xn.a,{className:e.className,dataTest:"rejected-asset-page",imgSrc:Dn.a,subTitle:Object(Ue.j)("emptyPage.rejected.subTitle"),action:h.a.createElement(xn.a.Action,{icon:"openInNew",iconRight:!0,onClick:function(){t(Object(Nn.openBackupLink)(e.id)),e.trackEvent(fe.f.CLICK,"show rejected asset")}},Object(Ue.j)("emptyPage.rejected.actionText"))})},Sn=Object(le.b)(Ln),kn=a(4774),Pn=a.n(kn),_n=a(559),Rn=a(1282),Fn=a(35),zn=a(351),Bn=a(759),Un=a(225),Vn="RESTORE_BACKUP_MODAL",Gn=function(e){var t=e.asset,a=e.versions,n=e.hideModal,r=e.versionListId,s=e.ensureListExists,o=e.removeList,i=t.id;return Object(b.useEffect)((function(){return s(r,{itemType:Un.b,filter:{externalId:i}}),function(){return o(r)}}),[i,r,s,o]),h.a.createElement(_n.b,{title:Object(Ue.j)("emptyPage.deleted.restore.title"),buttonText:Object(Ue.j)("emptyPage.deleted.restore.cancel"),dataTest:"restore-backup-modal",maxBodyHeight:134},a&&h.a.createElement(Rn.a,{versions:a,asset:t,afterRestore:function(e){!e.error&&n()}}))},Wn={hideModal:wa.hideModal,ensureListExists:Fn.ensureListExists,removeList:Fn.removeList},Hn=function(e,t){var a=Object(zn.b)(t.id);return{asset:Object(_t.selectItem)(e,ge.m,t.id),versions:Object(Bn.selectVersions)(e,a),isLoading:Object(Ft.selectListInProgress)(e,t.versionListId),versionListId:a}},Yn=Object(g.connect)(Hn,Wn)(Gn);Ba.a.register(Vn,Yn);var Qn=Vn,Kn=function(e){var t=e.id,a=e.showModal,n=e.className;return h.a.createElement(xn.a,{dataTest:"deleted-asset-page",imgSrc:Pn.a,subTitle:Object(Ue.j)("emptyPage.deleted.subTitle"),className:n,action:h.a.createElement(xn.a.Action,{onClick:function(){return a(Qn,{id:t})}},Object(Ue.j)("emptyPage.deleted.actionText"))})},Zn={showModal:wa.showModal},qn=Object(g.connect)(null,Zn)(Kn),Xn=qn,Jn=a(1583),$n=a(4775),er=a.n($n),tr=function(e){var t=function(){var t=i()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.trackEvent(fe.f.DOWNLOAD,"asset downloaded successfully from no preview"),t.next=4,e.downloadAsset(e.id);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Be.d.error(Object(Ue.j)("emptyPage.generalError"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return h.a.createElement(xn.a,{className:e.className,dataTest:"no-preview-page",imgSrc:er.a,subTitle:Object(Ue.j)("emptyPage.noPreview.subTitle"),action:h.a.createElement(bn.b,{onClick:t},Object(Ue.j)("emptyPage.noPreview.actionText"))})},ar={downloadAsset:Jn.downloadAsset},nr=Object(le.b)(Object(g.connect)(null,ar)(tr)),rr=Object(k.css)(["width:100%;background:",";padding-top:",";"],At.a.color.gray40,At.a.spacing.md),sr=Object(k.default)(nr).withConfig({displayName:"AssetDisplayPreviewstyles__StyledEmptyPageNoPreview",componentId:"u1khbp-0"})(["",""],rr),or=Object(k.default)(Xn).withConfig({displayName:"AssetDisplayPreviewstyles__StyledEmptyPageDeleted",componentId:"u1khbp-1"})(["",""],rr),ir=Object(k.default)(Sn).withConfig({displayName:"AssetDisplayPreviewstyles__StyledEmptyPageRejected",componentId:"u1khbp-2"})(["",""],rr),lr=function(e){var t,a,n=_()(e.className,((t={})[On.a.hidden]=e.playMode===pe.d.ENABLED,t)),r=_()(e.className,((a={})[On.a.hidden]=e.playMode!==pe.d.ENABLED,a)),s=Object(b.useCallback)((function(){return h.a.createElement(ir,{id:e.id})}),[e.id]),o=Object(b.useCallback)((function(){return h.a.createElement(or,{id:e.id})}),[e.id]),i=Object(b.useCallback)((function(){return h.a.createElement(sr,{id:e.id})}),[e.id]);return h.a.createElement(b.Fragment,null,(!e.animated||e.playMode!==pe.d.ENABLED)&&h.a.createElement(Cn,{className:n,variant:e.variant,id:e.id,showVideoPlayer:e.showVideoPlayer,loading:e.loading,rejected:s,deleted:o,placeholder:i,noPreview:i,overlayProps:e.overlayProps,onDimensionsChange:e.onDimensionsChange,backgroundColorClassName:null}),e.animated&&e.playMode!==pe.d.DISABLED&&h.a.createElement(Cn,{className:r,variant:e.variant,loadOriginal:!0,id:e.id,showVideoPlayer:e.showVideoPlayer,onLoad:e.playAnimation,onDimensionsChange:e.onDimensionsChange,backgroundColorClassName:null}))},cr=function(e,t){return{animated:Object(jt.selectAssetAnimated)(e,t.id)}},dr=Object(g.connect)(cr,{})(lr),ur=a(850),mr=function(){return h.a.createElement(vn.a,{variant:"secondary",width:"50px"})},pr=function(e){var t=e.asset,a=e.shouldDisplayThumbnail,n=e.trackEvent,r=Object(b.useState)(pe.d.DISABLED),s=r[0],o=r[1],i=_()(gn.a.slide,"bg-black w-100"),l=Object(Oa.a)(t).restricted;return h.a.createElement("div",{"data-test":"asset-item-preview"},h.a.createElement("div",{className:"carousel"},h.a.createElement("div",{className:"mask"},h.a.createElement("div",{className:"flex fl w-100"},h.a.createElement("div",{className:i,style:{height:D(t)}},h.a.createElement(dr,{key:t.resourceId,variant:ur.a.PREVIEW,id:t.id,className:gn.a.previewThumbnail,playMode:s,playAnimation:function(){return o(pe.d.ENABLED)},loading:mr})))),h.a.createElement("div",{className:_()("justify-center absolute dn",gn.a.overlaybuttonContainer)},a&&h.a.createElement("div",null,t.animated&&s!==pe.d.ENABLED?h.a.createElement(bn.b,{dataTest:"play-btn",icon:x.play2,size:"lg",skin:"menuDark",className:_()(gn.a.overlayButton,gn.a.playButton),onClick:function(){return o(pe.d.LOADING)},progress:s===pe.d.LOADING}):null,!l&&h.a.createElement(bn.b,{dataTest:"window-btn",icon:x.openInNew,size:"lg",skin:"menuDark",className:_()(gn.a.overlayButton,gn.a.newWindow),onClick:function(){n(fe.f.NAVIGATE,"open url in new tab"),window.open(t.secureUrl,"_blank","noreferrer")}})))))},fr=function(e,t){return{shouldDisplayThumbnail:Object(En.selectShouldDisplayThumbnail)(e,t.asset.id,ge.m)}},br=Object(g.connect)(fr)(pr),hr=Object(le.b)(br),gr=function(e){var t=e.asset;return h.a.createElement(h.a.Fragment,null,h.a.createElement(hr,{asset:t}),h.a.createElement(ja,{asset:t}),h.a.createElement(ta,{asset:t}),h.a.createElement(fn,{asset:t}))},vr=a(105),Er=a.n(vr),yr=a(41),jr=a.n(yr),Or=a(183),wr=a(67),Ir=a(882),Tr=a(226),Mr=a(127),Cr=a(618),Nr=a(3909),xr=a.n(Nr),Ar=function(e){var t=e.rows,a=e.containerClassName;return h.a.createElement("table",{"data-test":"data-table",className:_()(xr.a["data-table"],a)},h.a.createElement("tbody",null,t.map((function(e){return h.a.createElement("tr",{"data-test":"table-row",className:xr.a.row,key:e.id},h.a.createElement("td",{"data-test":"row-key","data-test-row-label":e.id,className:_()("fs-exclude",xr.a.key)},e.label),h.a.createElement("td",{"data-test":"row-value",className:_()("fs-exclude",xr.a.value)},e.value))}))))},Dr=Ar,Lr=a(255),Sr=a.n(Lr),kr=Object(k.default)(Sr.a).withConfig({displayName:"Chipstyles__StyledChip",componentId:"sc-1yvku0d-0"})(["max-width:",";min-width:",";margin-left:",";margin-bottom:",";"],(function(e){return e.maxWidth+"px"}),(function(e){return e.minWidth+"px"}),At.a.spacing.xxs,At.a.spacing.xxs),Pr=Object(k.default)(et.a).withConfig({displayName:"Chipstyles__StyledRemoveIcon",componentId:"sc-1yvku0d-1"})(["cursor:pointer;"]),_r=function(e){var t=e.onClick;return h.a.createElement("div",{onClick:t,"data-test":"chip-close-button",className:"flex"},h.a.createElement(Pr,{name:"cross",size:"xs"}))},Rr=_r,Fr=150,zr=30,Br=function(e){var t=e.label,a=e.leftSlot,n=e.onClick,r=e.maxWidth,s=void 0===r?Fr:r,o=e.minWidth,i=void 0===o?zr:o,l=e.size,c=e.dataTest,d=e.style,u=e.className;return h.a.createElement("div",{"data-test":"chip-wrapper",className:"fs-exclude"},h.a.createElement(kr,{className:u,size:l,maxWidth:s,minWidth:i,style:d,label:h.a.createElement(na.a,{title:t,placement:"topRight",maxWidth:"md"},h.a.createElement(na.a.OverflowTrigger,null,h.a.createElement("span",{"data-test":c},t))),leftSlot:a,rightSlot:n&&h.a.createElement(Rr,{onClick:n})}))},Ur=Br,Vr=a(63),Gr=a.n(Vr),Wr=a(1272);function Hr(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Yr(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function Yr(e,t){if(e){if("string"==typeof e)return Qr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Qr(e,t):void 0}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Kr,Zr=50,qr=function(){var e=i()(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.a.metadataFields.datasourceSearch(t,{term:a,maxResults:Zr});case 2:return n=e.sent,e.abrupt("return",n.values);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Xr=function(e){return e.id||e.external_id||e.value},Jr=function(e){return e.id||e.external_id||e.value},$r=function(e,t){return Er()(e)?e:t.find((function(t){return Xr(t)===e}))},es=Object(wr.default)((function(e,t,a){var n=(null==e?void 0:e.slice(0,255))||[];if(t)for(var r,s=function(){var e=r.value;n.some((function(t){return Xr(t)===e||Er()(e)&&Xr(t)===Jr(e)}))||n.push(Object(Wr.b)($r(e,a)))},o=Hr(Gr()(t)?t:[t]);!(r=o()).done;)s();return n})),ts=function(e,t,a,n){return function(){var r=i()(s.a.mark((function r(o){var i,l;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===o&&(o=""),0!==o.trim().length){r.next=5;break}n(null),r.next=9;break;case 5:return r.next=7,qr(t,o);case 7:(i=r.sent)&&(l=i.map((function(e){return Object(Wr.b)(e)})),n(es(l,a,e)));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},as=Object(wr.default)((function(e,t){return null==e?void 0:e.reduce((function(e,a){return[ze.e.SET,ze.e.ENUM].includes(a.type)&&(e[a.id]=t),e}),{})})),ns=a(1269),rs=a(1268),ss=a(3971),os=function(e){var t=e.name,a=e.value,n=e.options,r=e.Component,s=Object(b.useState)(null),o=s[0],i=s[1],l=es(n,a,n);Object(b.useEffect)((function(){i(null)}),[t]);var c=Object(ss.a)(ts(l,t,a,i),Cr.a)[0];return h.a.createElement(r,W()({},e,{onInputChange:c,onClose:function(){i(null)},options:o||l}))},is=function(e){var t=e.fieldType,a=V()(e,["fieldType"]),n=ze.e.SET===t?ns.a:rs.a;return h.a.createElement(os,W()({Component:n},a))},ls=k.default.div.withConfig({displayName:"AssetMetadata__ChipContainer",componentId:"aul7f5-0"})(["display:inline-flex;font-size:10px;margin-right:4px;margin-bottom:4px;"]),cs=Object(wr.default)((function(e,t){return e.map((function(e){var a=e.id,n=e.label,r=e.type,s=t.metadata[a]||"";return s&&r===Cr.b.DATE?s=Ta()(new Date(s),ze.c):Er()(s)&&r===Cr.b.ENUM?s=s.value:s.length&&r===Cr.b.MULTISELECT&&(s=s.map((function(e){return h.a.createElement(ls,{key:e},h.a.createElement(Ur,{label:e.value}))}))),{id:a,label:n,value:s}}))})),ds=function(e){var t=e.item,a=e.fields,n=e.updateItem,r=e.trackEvent,o=!Object(Mr.b)(t.role).editAssetsMetadata||Object(Te.s)(t),l=Object(b.useCallback)(function(){var e=i()(s.a.mark((function e(a,o,i,l){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(fe.f.EDIT,"edit metadata_field"),e.next=3,n(t,"metadata."+a,jr()(o)?null:o);case 3:(c=e.sent)&&c.message&&l(a,c.message);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),[t,n,r]),c=Object(b.useMemo)((function(){return Object(Tr.b)(a||[])}),[a]),d=as(a,is);return t&&a&&a.length?o?h.a.createElement(Dr,{rows:cs(a,t)}):h.a.createElement(Or.Formik,{key:t.id,initialValues:t.metadata,validationSchema:c,enableReinitialize:!0},h.a.createElement(Ir.a,{fields:a,onFieldChange:l,showMandatoryIndication:!0,fieldsInputComponents:d})):null},us=function(e,t){return{item:Object(_t.selectItem)(e,ge.m,t.id),fields:Object(Ft.selectListItems)(e,pe.l)}},ms={updateItem:j.updateItem},ps=Object(g.connect)(us,ms)(ds),fs=Object(le.b)(ps),bs=a(321),hs=a.n(bs),gs=a(3910),vs={TOP:"top",BOTTOM:"bottom",BODY:"body"},Es=a(3860),ys="44",js=Object(k.default)(Es.CollapsibleCard).withConfig({displayName:"DataSectionstyles__StyledCollapsibleCard",componentId:"sc-1uv40dq-0"})(["border-radius:unset;margin:unset !important;overflow:",";flex:",";max-height:",";min-height:45px;&:not(:last-child){border-bottom:1px solid ",";}> div,div.ReactCollapse--collapse{border-radius:unset;box-shadow:unset;border-bottom:unset;}> div:first-child{background-color:",";position:sticky;top:0;z-index:2;box-shadow:",";}> div:first-child{padding-left:",";padding-right:",";}> div.ReactCollapse--collapse > div > div{padding:",";}> div.ReactCollapse--collapse{max-height:",";flex:",";overflow-y:",";overflow-x:",";}"],(function(e){return e.isExpanded&&"hidden"}),(function(e){var t=e.isExpanded;return null!==e.scrollPosition&&t&&"1"}),(function(e){return e.isExpanded&&"100%"}),At.a.palette.secondary,At.a.palette.surface,(function(e){var t=e.scrollPosition;return t!==vs.TOP&&null!==t&&"0 2px 4px 0 rgba(0, 0, 0, 0.27)"}),At.a.spacing.md,At.a.spacing.md,At.a.spacing.md,(function(e){return e.isExpanded&&"calc(100% - "+ys+"px) !important"}),(function(e){return e.isExpanded&&1}),(function(e){return e.isExpanded&&"auto !important"}),(function(e){return e.isExpanded&&"hidden !important"})),Os=function(e){var t=e.caption,a=e.children,n=e.actions,r=e.dataTest,s=e.isExpanded,o=e.setExpanded,i=e.trackEvent,l=Object(b.useState)(null),c=l[0],d=l[1],u=Object(b.useRef)(null),m=Object(b.useCallback)((function(e){e.target.classList.contains("ReactCollapse--collapse")&&(0===e.target.scrollTop?d(vs.TOP):e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight?d(vs.BOTTOM):d(vs.BODY))}),[d]),p=Object(ss.a)(m,16)[0],f=Object(b.useCallback)((function(e){e.persist(),p(e)}),[p]),g=Object(b.useCallback)((function(e){o(e),e?i(fe.f.SHOW,"Expand "+t+" section"):i(fe.f.HIDE,"Collapse "+t+" section")}),[t,o,i]),v=hs()((function(e){var t=e.height;if(s){var a,n,r,o=null===(a=u.current)||void 0===a?void 0:a.querySelector(".ReactCollapse--content"),i=null===(n=u.current)||void 0===n||null===(r=n.querySelector("div:first-child"))||void 0===r?void 0:r.clientHeight,l=Math.abs((null==o?void 0:o.clientHeight)-(t-i));d(l>1?vs.TOP:null)}}),100);return Object(gs.a)({ref:u,onResize:v}),h.a.createElement(js,W()({header:h.a.createElement(Lt.a,{size:"sm",type:"highContrast",as:"div"},t)},n?{actions:n}:{},{isExpanded:s,setExpanded:g,scrollPosition:c,rootProps:{"data-test":r,onScroll:f,ref:u}}),a)},ws=Object(le.b)(Os),Is=a(3846),Ts=a(1270),Ms=a(78),Cs=a(1581),Ns=function(e,t){return(e.find((function(e){return e.key===t}))||{}).value},xs=function(e){return!(!e||!e.trim())},As=a(3861),Ds=a.n(As),Ls=a(318),Ss=a(174),ks=a.n(Ss),Ps=a(852),_s={},Rs=Object(k.default)(Ps.a).withConfig({displayName:"ContextCustomPropKey__StyledKey",componentId:"sc-1rkp1f3-0"})(["display:block;flex:1 1 33%;margin-right:10px;margin-bottom:10px;"]),Fs={menuPortal:function(e){return W()({},e,{zIndex:9999})}},zs=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(c()(n),"state",{selectedOption:null,inputText:null}),p()(c()(n),"NoOptionsMessage",(function(){return h.a.createElement(Ls.ItemContext.Provider,{value:_s},h.a.createElement(Ls.Text,null,h.a.createElement("span",{"data-test":"no-results"},Object(Ue.j)("context.noResults"))))})),c()(n).onInputKeyDown=n.onInputKeyDown.bind(c()(n)),c()(n).onInputChange=n.onInputChange.bind(c()(n)),c()(n).onChange=n.onChange.bind(c()(n)),n}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.setState({selectedOption:this.props.propKey})},a.onInputChange=function(e){this.setState(W()({},this.state,{inputText:e})),this.onValueChange(e||this.state.selectedOption&&this.state.selectedOption.value)},a.onInputKeyDown=function(e){if(["tab","enter"].includes(ks()(e))){var t=this.state.inputText||this.state.selectedOption&&this.state.selectedOption.value;this.onValueSet(t),e.preventDefault()}"esc"===ks()(e)&&e.preventDefault()},a.onChange=function(e){this.setState({selectedOption:e});var t=e&&e.value;this.onValueChange(t),this.onValueSet(t)},a.onValueChange=function(e){this.props.onValueChange&&this.props.onValueChange(e)},a.onValueSet=function(e){this.props.onValueSet&&this.props.onValueSet(e)},a.render=function(){return h.a.createElement(Rs,{className:_()("fs-exclude",Ds.a.propKey),isCreatable:!0,isClearable:!1,placeholder:Object(Ue.j)("context.contextPlaceholderKey"),options:[].concat(this.props.optionsKeys.map(Bs)),value:this.state.selectedOption,onChange:this.onChange,onBlurResetsInput:!1,onInputKeyDown:this.onInputKeyDown,onInputChange:this.onInputChange,isDisabled:this.props.readOnly,components:{NoOptionsMessage:this.NoOptionsMessage},menuPortalTarget:document.body,styles:Fs})},t}(h.a.Component),Bs=function(e){return{value:e,label:e}},Us=zs,Vs=Object(k.default)(Ge.a).withConfig({displayName:"ContextCustomPropValue__StyledValue",componentId:"sc-1najakh-0"})(["display:block;flex:1 1 66%;margin-bottom:10px;"]),Gs=function(e){return h.a.createElement(Vs,{defaultValue:e.propValue,placeholder:Object(Ue.j)("context.contextPlaceholderValue"),disabled:e.disabled,readOnly:e.readOnly,input:{className:Ds.a.propValue},innerRef:function(t){return e.innerRef&&e.innerRef(t)},onFocus:e.onFocus,onBlur:e.onBlur})},Ws=Gs,Hs=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(c()(n),"state",{newKey:null,isFocused:!1,inProgress:!1}),p()(c()(n),"inputRef",void 0),p()(c()(n),"_isMounted",void 0),c()(n).setInputRef=n.setInputRef.bind(c()(n)),c()(n).onKeyChange=n.onKeyChange.bind(c()(n)),c()(n).onKeySet=n.onKeySet.bind(c()(n)),c()(n).onFocus=n.onFocus.bind(c()(n)),c()(n).onBlur=n.onBlur.bind(c()(n)),c()(n).onRemove=n.onRemove.bind(c()(n)),n}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this._isMounted=!0},a.componentWillUnmount=function(){this._isMounted=!1},a.onFocus=function(){this.setState(W()({},this.state,{isFocused:!0}))},a.onBlur=function(e){var t=this,a=e.currentTarget;setTimeout(i()(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.contains(document.activeElement)){e.next=2;break}return e.abrupt("return");case 2:if(n=W()({},t.state,{isFocused:!1}),t.setState(n),!t.isPropChanged()||!t.isValidKey()){e.next=12;break}if(t.setState(W()({},n,{inProgress:!0})),r=t.inputRef.value?t.inputRef.value.trim():void 0,e.t0=t.props.onUpdate,!e.t0){e.next=11;break}return e.next=11,t.props.onUpdate(t.props.propKey,t.state.newKey||t.props.propKey,r);case 11:t._isMounted&&t.setState(W()({},n,{inProgress:!1}));case 12:case"end":return e.stop()}}),e)}))))},a.onKeyChange=function(e){this.setState(W()({},this.state,{newKey:e}))},a.onKeySet=function(){var e=this;setTimeout((function(){return e.isValidKey()&&e.inputRef.focus()}))},a.onRemove=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState(W()({},this.state,{inProgress:!0})),e.t0=this.props.onRemove,!e.t0){e.next=5;break}return e.next=5,this.props.onRemove(this.props.propKey);case 5:this._isMounted&&this.setState(W()({},this.state,{inProgress:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.setInputRef=function(e){this.inputRef=e},a.isValidKey=function(){return!!xs(this.state.newKey)||!(this.state.newKey||!this.props.propKey)},a.isPropChanged=function(){return!(!this.state.newKey||this.state.newKey===this.props.propKey)||this.inputRef.value!==this.props.propValue},a.isButtonVisible=function(){return!this.props.readOnly&&(this.props.canRemove||this.state.inProgress)},a.renderProp=function(){var e=h.a.createElement(Us,{propKey:this.props.propKey,optionsKeys:this.props.optionsKeys,readOnly:this.props.readOnly,onValueChange:this.onKeyChange,onValueSet:this.onKeySet});return h.a.createElement(Ca.FieldLayout,{label:e,layout:"horizontal","data-test":"context-custom-prop",labelRatio:"xs"},h.a.createElement(Ws,{propValue:this.props.propValue,readOnly:this.props.readOnly,disabled:!this.isValidKey(),innerRef:this.setInputRef}))},a.renderButton=function(){return h.a.createElement(bn.b,{className:_()("flex-none","ml2",Ds.a.removeButton,{"visibility-hidden":!this.isButtonVisible()}),onClick:this.onRemove,icon:x.cross,progress:this.state.inProgress,skin:"basic",size:"xxs",dataTest:"remove-custom-prop"})},a.render=function(){var e;return h.a.createElement("div",{onFocus:this.onFocus,onBlur:this.onBlur,className:_()(Ds.a.customContextProp,(e={},e[Ds.a.readOnly]=this.props.readOnly,e[Ds.a.focus]=this.state.isFocused,e))},this.renderProp(),this.renderButton())},t}(h.a.Component),Ys=Hs,Qs={overflow:"unset"},Ks=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(c()(n),"getOptionsKeys",Object(wr.default)((function(e,t,a,n){return Gr()(e)?e.filter((function(e){return n===e||!t.includes(e.toLowerCase())&&!a.find((function(t){return t.key.toLowerCase()===e.toLowerCase()}))})):pe.i}))),p()(c()(n),"getPropsToRender",Object(wr.default)((function(e,t){return e.filter((function(e){return!t.includes(e.key)}))}))),n.state={emptyPropKey:1},c()(n).onUpdateEmptyProp=n.onUpdateEmptyProp.bind(c()(n)),c()(n).onUpdate=n.onUpdate.bind(c()(n)),n}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.keys||this.props.loadContextKeys()},a.onUpdate=function(){var e=i()(s.a.mark((function e(t,a,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.onUpdate){e.next=3;break}return e.next=3,this.props.onUpdate(t,a,n);case 3:this.ensureKeyExists(a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.onUpdateEmptyProp=function(){var e=i()(s.a.mark((function e(t,a,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.props.onCreate,!e.t0){e.next=4;break}return e.next=4,this.props.onCreate(a,n);case 4:this.setState({emptyPropKey:++this.state.emptyPropKey}),this.ensureKeyExists(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.ensureKeyExists=function(e){this.props.keys&&!this.props.keys.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase())&&this.props.setContextKeys([].concat(this.props.keys,[e]).sort())},t.renderNoProps=function(){return h.a.createElement("div",{className:"pl2 gray-70"},Object(Ue.j)("context.noCustomProps"))},a.renderEmptyProp=function(){var e=this.getOptionsKeys(this.props.keys,this.props.excludedKeys,this.props.context);return h.a.createElement(Ys,{key:this.state.emptyPropKey,optionsKeys:e,readOnly:this.props.readOnly,onUpdate:this.onUpdateEmptyProp,canRemove:!1})},a.renderPropsWithValue=function(e){var t=this;return e.map((function(e){var a=t.getOptionsKeys(t.props.keys,t.props.excludedKeys,t.props.context,e.key);return h.a.createElement(Ys,{key:e.key,propKey:e.key,propValue:e.value,optionsKeys:a,readOnly:t.props.readOnly,onUpdate:t.onUpdate,onRemove:t.props.onRemove,canRemove:!0})}))},a.render=function(){var e=this.getPropsToRender(this.props.context,this.props.excludedKeys);return h.a.createElement("div",{"data-test":"context-custom-props",className:"pv2",style:Qs},this.props.readOnly&&0===e.length?t.renderNoProps():h.a.createElement(b.Fragment,null,this.renderPropsWithValue(e),this.renderEmptyProp()))},t}(h.a.Component),Zs=function(e){return{keys:Ve.a.Context.keys.get(e)}},qs={loadContextKeys:Cs.loadContextKeys,setContextKeys:Ve.a.Context.keys.set},Xs=Object(g.connect)(Zs,qs)(Ks),Js=Xs,$s=Object(k.css)(["background-color:unset;border:none;box-shadow:none;> input{box-shadow:none;}"]),eo=Object(k.default)(Is.Textarea).withConfig({displayName:"Context__StyledTextarea",componentId:"vc6gei-0"})(["",""],(function(e){return e.isReadonly&&$s})),to=function(e){var t=e.label;return h.a.createElement(Ca.Label,{"data-test":"asset-"+t+"-label"},Object(Ms.d)("context."+t))},ao=function(e){var t,a,n=e.onUpdate,r=e.onCreate,s=e.context,o=e.readOnly,i=e.onRemove,l=e.staticProps,c=Object(b.useCallback)((function(e){return{placeholder:o?Object(Ms.d)("context."+e+"NotDefined"):Object(Ms.d)("context."+e+"Placeholder"),defaultValue:Ns(s,e),rootProps:{"data-test":"input-with-indicator"}}}),[s,o]),d=Object(b.useCallback)((function(e){var t;(e.stopPropagation(),"Enter"===e.key||"Escape"===e.key)&&(null===(t=e.target)||void 0===t||t.blur())}),[]),u=Object(b.useCallback)((function(e,t){ke()(Ns(s,e))?null==r||r(e,t):null==n||n(e,e,t)}),[s,r,n]),m=Object(b.useCallback)((function(e,t){(Ns(s,e)||"")!==t&&u(e,t)}),[s,u]);return h.a.createElement(h.a.Fragment,null,(t=l[0],a=l[1],h.a.createElement(h.a.Fragment,null,h.a.createElement(Ca.FieldLayout,{label:h.a.createElement(to,{label:t}),layout:"horizontal",labelRatio:"xs"},h.a.createElement(Ts.a,W()({},c(t),{isReadonly:o,onBlur:function(e){return!o&&m(t,e.target.value)},className:"fs-exclude",inputProps:{"data-test":"asset-"+t+"-input",onKeyDown:d,className:"ignoreP2h truncate"}}))),h.a.createElement(Ca.FieldLayout,{label:h.a.createElement(to,{label:a}),layout:"horizontal",labelRatio:"xs"},h.a.createElement(eo,W()({},c(a),{resizeDirection:"vertical",isReadonly:o,onBlur:function(e){return!o&&m(a,e.target.value)},className:"fs-exclude",textareaProps:{"data-test":"asset-"+a+"-input",onKeyDown:d}}))))),h.a.createElement(Js,{context:s,readOnly:o,excludedKeys:l,onCreate:r,onUpdate:n,onRemove:i}))},no=ao,ro=a(1578),so=[pe.h,pe.e],oo=((Kr={})[pe.h]="title",Kr[pe.e]="description",Kr),io=function(e){return e.asset&&h.a.createElement(Mr.a,{roleName:e.asset.role},(function(t){return h.a.createElement(no,{context:e.asset.context,staticProps:so,readOnly:!t.editAssetsContext||Object(Te.s)(e.asset),onCreate:function(){var t=i()(s.a.mark((function t(a,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=oo[a],e.trackEvent(fe.f.EDIT,r?"set asset "+r:"add asset context key and value"),t.next=4,e.createContextProp(e.asset,a,n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),onUpdate:function(){var t=i()(s.a.mark((function t(a,n,r){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=oo[n],e.trackEvent(fe.f.EDIT,o?"edit asset "+o:"edit asset context "+(a!==n?"key":"value")),t.next=4,e.updateContextProp(e.asset,a,n,r);case 4:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),onRemove:function(){var t=i()(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.trackEvent(fe.f.EDIT,"remove asset context key and value"),t.next=3,e.removeContextProp(e.asset,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),key:e.asset.resource_id})}))},lo=function(e,t){return{asset:Object(_t.selectItem)(e,ge.m,t.id)}},co={createContextProp:ro.createContextProp,updateContextProp:ro.updateContextProp,removeContextProp:ro.removeContextProp},uo=Object(g.connect)(lo,co)(io),mo=Object(le.b)(uo),po=a(19),fo=a(373),bo=a(973),ho=a(849),go="DELETE_TAGS",vo=function(e){var t=e.onDeleteConfirm;return b.createElement(ho.b,{"data-test":"delete-tags-modal",onConfirm:t,title:Object(Ue.j)("tagsDrop.confirmationModal.title"),text:Object(Ue.j)("tagsDrop.confirmationModal.body"),primaryButtonText:Object(Ue.j)("tagsDrop.confirmationModal.delete"),primaryButtonVariant:"error",secondaryButtonText:Object(Ue.j)("tagsDrop.confirmationModal.cancel")})};Ba.a.register(go,vo);var Eo=Object(k.default)(Lr.Chip).withConfig({displayName:"TagsDrop__StyledChip",componentId:"sc-1kyvoz7-0"})(["max-width:calc(100% - ",");"],po.globalTheme.spacing.xs),yo=function(e){var t=e.tags,a=e.placeholder;return t.length>0?h.a.createElement(Lr.ChipsList,null,t.map((function(e){return h.a.createElement(Eo,{key:e.label,label:h.a.createElement(na.a,{title:e.label,placement:"topRight",maxWidth:"md"},h.a.createElement(na.a.OverflowTrigger,null,e.label)),variant:"secondary",size:"sm"})}))):h.a.createElement(Lt.a,{size:"xs",variant:"lowContrast",as:"div"},a)},jo={control:function(e){return W()({},e,{maxHeight:"220px",overflowY:"auto"})},indicatorsContainer:function(e){return W()({},e,{maxHeight:"220px"})},valueContainer:function(e){return W()({},e,{margin:"unset"})}},Oo={menuPortal:function(e){return W()({},e,{zIndex:9999})}},wo=function(){var e=Object(po.useMixin)(Dt.theme);return{input:function(e){return W()({},e,{maxWidth:"285px",overflow:"hidden"})},placeholder:function(t){return W()({},t,{fontSize:e.xs.size})}}},Io=[],To=function(e){var t=e.placeholder,a=e.loadOptions,n=e.value,r=e.onChange,o=e.isTagsInputActive,l=void 0!==o&&o,c=e.isClearable,d=e.isFixed,u=e.noResultsText,m=e.maxSelectedOptions,p=e.isCaseSensitive,f=e.dataTest,g=e.autoFocus,v=void 0!==g&&g,E=e.showModal,y=e.isInlineEdit,j=void 0!==y&&y,O=Object(b.useState)([]),w=O[0],I=O[1],T=Object(b.useState)(!1),M=T[0],C=T[1],N=Object(b.useState)(""),x=N[0],A=N[1],D=wo(),L=Object(b.useRef)(!1);Object(b.useEffect)((function(){i()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,a(x);case 3:t=e.sent,L.current&&(I(t.options),C(!1));case 5:case"end":return e.stop()}}),e)})))()}),[a,x]),Object(b.useEffect)((function(){return L.current=!0,function(){L.current=!1}}),[]);var S=Object(b.useCallback)((function(e,t){j&&"clear"===(null==t?void 0:t.action)?E(go,{onDeleteConfirm:function(){return S([])}}):m&&(null==e?void 0:e.length)>(null==n?void 0:n.length)&&(null==e?void 0:e.length)>m||null==r||r(e)}),[m,r,n,j,E]),k=Object(b.useCallback)((function(){return h.a.createElement(Ls.ItemContext.Provider,{value:{}},h.a.createElement(Ls.Text,null,M?Object(Ue.j)("tagsDrop.loading"):u))}),[M,u]),P=function(e){if(0!==e.length)return 0===[].concat(w,n).filter((function(t){var a=t.value;return Object(bo.a)(a,e,p)})).length},R=Object(b.useMemo)((function(){return{NoOptionsMessage:k,DropdownIndicator:null}}),[k]),F=m&&(null==n?void 0:n.length)===m,z=Object(b.useCallback)((function(){return d&&!F?k:null}),[k,d,F]),B=d?fo.Combobox:fo.ComboboxCreatable,U=!l;return h.a.createElement("div",{"data-test":f||"tags-dropdown",className:_()("fs-exclude",{"read-only":U})},l?h.a.createElement(B,W()({options:F?Io:w,value:n,placeholder:M?Object(Ue.j)("tagsDrop.loading"):t,isMulti:!0,onChange:S,isDisabled:U,isClearable:c,escapeClearsValue:!1,maxMenuHeight:200,noOptionsMessage:z,components:R,autoFocus:v,onInputChange:function(e){","!==e&&A(e)}},d?{styles:W()({},jo,D,Oo)}:{isValidNewOption:P,defaultValue:n,styles:W()({},D,Oo),formatCreateLabel:function(e){return Object(Ue.j)("tagsDrop.addNewTag")+" "+e},inputValue:x,onKeyDown:function(e){","===e.key&&(P(x)&&S([].concat(n,[{label:x,value:x}])),A(""))}},{menuPortalTarget:document.body})):h.a.createElement(yo,{tags:n,placeholder:t}))},Mo=function(e){return{isCaseSensitive:Object(zt.isCapabilityEnabled)(e,fe.i.CASE_SENSITIVE)}},Co={showModal:wa.showModal},No=Object(g.connect)(Mo,Co)(To),xo=No,Ao=a(1562),Do=Object(St.b)(function(){var e=i()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.u)(t,C);case 2:return a=e.sent,e.abrupt("return",{options:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Lo=function(e){var t=e.asset,a=e.updateItem,n=e.trackEvent,r=e.editAssetsTags,s=e.disableSuccessToast,o=void 0!==s&&s;return h.a.createElement(xo,{isInlineEdit:!0,isClearable:r,onChange:function(e){e=e||[],a(t,ge.k.TAGS,e.map((function(e){return e.value})),ze.q.SET,{disableSuccessToast:o}),!t.tags||e.length>t.tags.length?n(fe.f.TAG,"tag added to asset"):0===e.length&&t.tags.length>1?n(fe.f.TAG,"all tags removed from asset"):n(fe.f.TAG,"tag removed from asset")},loadOptions:Do,value:Object(Te.x)(t,r),isTagsInputActive:r&&!Object(Te.s)(t),placeholder:r?Object(Ue.j)("tagsDrop.placeholder"):Object(Ue.j)("assetDrilldown.noTags")})},So={updateItem:j.updateItem,showTagsInAnalysis:Ao.showTagsInAnalysis},ko=function(e,t){return{editAssetsTags:Object(Mr.b)(t.asset.role).editAssetsTags}},Po=Object(g.connect)(ko,So)(Lo),_o=Object(le.b)(Po),Ro=function(e){var t=yt.a.getItem(e)||pe.v.TAGS,a=Object(b.useState)(t),n=a[0],r=a[1];return[n,function(t,a){if(a)return r(t),void yt.a.setItem(e,t);r(null),yt.a.setItem(e,"")}]},Fo=function(e){var t=e.asset,a=e.contextMetadataEnabled,n=e.metadataFields,r=Ro(pe.B.ASSET_PREVIEW_PANE_METADATA_ACTIVE_SECTION),s=r[0],o=r[1];return h.a.createElement(h.a.Fragment,null,h.a.createElement(ws,{isExpanded:s===pe.v.TAGS,setExpanded:function(e){return o(pe.v.TAGS,e)},dataTest:"tags-section",caption:Object(Ms.d)("previewPane.asset.tags"),key:"tags-"+t.id},h.a.createElement(_o,{asset:t,disableSuccessToast:!0})),null!=n&&n.length?h.a.createElement(ws,{isExpanded:s===pe.v.METADATA,setExpanded:function(e){return o(pe.v.METADATA,e)},dataTest:"structured-metadata-section",caption:Object(Ms.d)("assetMetadata.caption"),key:"metadata-"+t.id},h.a.createElement(fs,{id:t.id})):null,a&&h.a.createElement(ws,{isExpanded:s===pe.v.CONTEXT,setExpanded:function(e){return o(pe.v.CONTEXT,e)},dataTest:"contextual-metadata-section",caption:Object(Ms.d)("context.sectionCaption"),key:"contextual-"+t.id},h.a.createElement(mo,{id:t.id})))},zo=function(e){return{contextMetadataEnabled:Object(zt.selectIsContextualMetadataEnabled)(e),metadataFields:Object(Ft.selectListItems)(e,pe.l)}},Bo=Object(g.connect)(zo)(Fo),Uo=Bo,Vo=a(1226),Go=a.n(Vo),Wo=a(146),Ho=a(870),Yo=a.n(Ho),Qo=a(3911),Ko=a.n(Qo),Zo=h.a.createElement("span",null,"◀"),qo=function(e){function t(t){var a;return a=e.call(this,t)||this,p()(c()(a),"wrapperRef",{}),p()(c()(a),"tipRef",{}),c()(a).onDotClick=a.onDotClick.bind(c()(a)),c()(a).deactivateHint=a.deactivateHint.bind(c()(a)),c()(a).handleClickOutside=a.handleClickOutside.bind(c()(a)),c()(a).isActive=a.isActive.bind(c()(a)),c()(a).setWrapperRef=a.setWrapperRef.bind(c()(a)),c()(a).setTipRef=a.setTipRef.bind(c()(a)),a.state={tipIsVisible:!1,active:a.isActive()},a}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.state.active&&(document.addEventListener("mousedown",this.handleClickOutside),this.updateParentPositionStyle())},a.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)},a.onDotClick=function(e){e.stopPropagation(),this.setState({tipIsVisible:!0}),this.props.onOpen&&this.props.onOpen(this.props.id)},a.setWrapperRef=function(e){this.wrapperRef=e},a.setTipRef=function(e){this.tipRef=e},a.updateParentPositionStyle=function(){if(this.wrapperRef){var e=this.wrapperRef.parentElement;if(e)"static"===window.getComputedStyle(e).position&&e.classList.add("relative")}},a.isActive=function(){var e=this.props,t=e.id,a=e.expiration;return!(a&&a<=(new Date).getTime())&&!JSON.parse(yt.a.getItem(Mt)||"[]").includes(t)},a.updateLocalStorage=function(){var e=this.props.id,t=JSON.parse(yt.a.getItem(Mt)||"[]");t.push(e),yt.a.setItem(Mt,JSON.stringify(Yo()(t)))},a.handleClickOutside=function(e){this.state.tipIsVisible&&this.tipRef&&!this.tipRef.contains(e.target)&&this.deactivateHint()},a.deactivateHint=function(){this.setState({tipIsVisible:!1,active:!1}),this.updateLocalStorage(),this.props.onClose&&this.props.onClose(this.props.id)},a.render=function(){var e,t=this,a=this.state.tipIsVisible;return this.state.active?h.a.createElement("div",W()({className:_()("hint",Ko.a.hint,Ko.a[this.props.position||wt],Ko.a.popIn,this.props.className),style:{zIndex:a?11:1},ref:this.setWrapperRef},this.props.dataTest?{"data-test":this.props.dataTest}:{}),h.a.createElement("div",{className:_()("hintDot",Ko.a.hintDot),onClick:this.onDotClick},h.a.createElement("div",{className:_()(Ko.a.wave,Ko.a.hintWave)}),h.a.createElement("div",{className:_()(Ko.a.inner)})),a&&h.a.createElement("div",{className:_()("tip-container",Ko.a.tipContainer,Ko.a[this.props.tipDirection||this.props.position||It],(e={},e[Ko.a.show]=a,e)),ref:this.setTipRef},h.a.createElement(Go.a,{onClose:this.deactivateHint,closeOnEsc:!0},h.a.createElement(Wo.a,{className:_()("hintBody",Ko.a.hintBody)},this.props.title&&h.a.createElement("span",{className:_()(Ko.a.title)},this.props.title),h.a.createElement("div",null,this.props.children),this.props.onButtonClicked&&h.a.createElement("div",null,h.a.createElement(bn.b,{dataTest:"tip-action",onClick:function(){t.props.onButtonClicked&&(t.props.onButtonClicked(t.props.id),t.props.closeOnButtonClick&&t.deactivateHint())},skin:"action",focus:!0},h.a.createElement(ee.a,{path:x.keyboardArrowRight}),this.props.buttonLabel)))),h.a.createElement("span",{className:_()(Ko.a.triangle,this.props.title?Ko.a.withTitle:void 0)},Zo))):null},t}(h.a.Component),Xo=function(e){var t=Object.assign({},e,{onOpen:function(){e.onOpen&&e.onOpen(),le.c.hints({eventCategory:Tt,eventAction:fe.e.click,eventLabel:"show hint - "+e.id})},onButtonClicked:e.onButtonClicked?function(){"function"==typeof e.onButtonClicked&&(e.onButtonClicked(),le.c.hints({eventCategory:Tt,eventAction:fe.e.click,eventLabel:"button clicked hint - "+e.id}))}:void 0});return b.createElement(qo,t)},Jo=Xo,$o=Object(k.default)(Jo).withConfig({displayName:"AssetPreviewPaneTabsManagerstyles__StyledHint",componentId:"sc-1x30yto-0"})(["&.-hint___3q.-centerleft___1i{left:-20px;}.-triangle____a{display:none;}.tip-container{top:calc(100% + 15px);left:120px;}&.-hint___3q.-bottomleft___5z{left:-50px;bottom:0;}"]),ei=k.default.div.withConfig({displayName:"AssetPreviewPaneTabsManagerstyles__StyledHintBody",componentId:"sc-1x30yto-1"})(["white-space:normal;width:300px;& > div:first-child{font-size:18px;color:",";padding-bottom:10px;}& > div:nth-of-type(2){font-size:14px;line-height:20px;color:",";}"],At.a.color.gray90,At.a.color.gray80),ti=function(e){var t=e.asset,a=e.activeTab,n=e.trackEvent,r=e.setActiveTab,s=Object(b.useMemo)((function(){return[{id:ft.g,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.summary.title"),component:h.a.createElement(gr,{asset:t}),display:!0,icon:"info"},{id:ft.e,title:h.a.createElement("div",null,h.a.createElement($o,{id:"metadata-tab-preview-pane",position:Ot.BOTTOM_LEFT},h.a.createElement(ei,null,h.a.createElement("div",null,Object(Ue.j)("previewPane.hint.title")),h.a.createElement("div",null,Object(Ue.j)("previewPane.hint.body")))),Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.metadata.title")),component:h.a.createElement(Uo,{asset:t}),display:!0,icon:"contextualMetadata"}]}),[t]);return Object(b.useEffect)((function(){return r(yt.a.getItem(pe.B.ASSET_PREVIEW_PANE_ACTIVE_TAB)||ft.g),function(){r(null)}}),[]),a?h.a.createElement(Et,{activeId:a,onTabClick:function(e){n(fe.f.NAVIGATE,e+" tab"),yt.a.setItem(pe.B.ASSET_PREVIEW_PANE_ACTIVE_TAB,e),r(e)},dataTest:"preview-pane-tabs",tabs:s}):null},ai=function(e){return{activeTab:Object(Ct.selectAssetPreviewPaneActiveTab)(e),isAssetDrilldownOn:Object(jt.selectIsAssetDrilldownOn)(e)}},ni={setActiveTab:Nt.setActiveTab},ri=Object(g.connect)(ai,ni)(ti),si=Object(le.b)(ri),oi=Object(k.default)(B).withConfig({displayName:"AssetPreviewPane__StyledItemPreviewPaneBody",componentId:"sc-1vrocw2-0"})([".content-holder{overflow:hidden !important;}"]),ii=function(e){var t=e.item,a=e.onClose,n=e.isItemOperationAllowed,r=e.loadItem,s=Object(mt.h)(t);return Object(b.useEffect)((function(){s&&r(ge.m,t.id,{forceLoad:!0})}),[s,r,t]),h.a.createElement(z,null,h.a.createElement(ut,{item:t,icon:A(t),canRename:n(t,ce.a.RENAME_ITEM),onClose:a,progress:s,hideItemPath:!0}),h.a.createElement(oi,null,h.a.createElement(si,{asset:t})))},li=function(e){return{isItemOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},ci={loadItem:j.loadItem},di=Object(g.connect)(li,ci)(ii),ui=di,mi={height:"100%"},pi=k.default.div.withConfig({displayName:"EmptyPreviewPane__StyledPanelBody",componentId:"sc-104snif-0"})(["display:flex;justify-content:center;align-items:center;text-align:center;flex-direction:column;height:131px;background-color:",";"," color:",";","{margin-bottom:",";}"],At.a.palette.background,Dt.typography.sm.highContrast,At.a.palette.secondaryAlt,et.a,At.a.spacing.sm),fi=function(e){var t=e.onClose?function(){e.trackEvent(fe.f.SHOW_HIDE,"close preview pane"),e.onClose()}:null;return h.a.createElement("div",{"data-test":"empty-preview-panel",className:"details-popup flex-column flex-shrink-0",style:mi,id:"empty-preview-pane"},h.a.createElement(st,{dataTest:"empty-preview-panel-title",closeButtonDataTest:"pp-close-btn",onClose:t},Object(Ue.j)("mediaLibrary.searchPane.emptyTitle")),h.a.createElement(pi,null,h.a.createElement(et.a,{name:"eyeOn",size:"xl",color:"#90a0b3"}),Object(Ue.j)("mediaLibrary.searchPane.emptyBody")))},bi=Object(le.b)(fi),hi={},gi=function(e,t){if(hi[e])throw new Error("Preview pane component for itemType '"+e+"' already exists.");hi[e]=t},vi=function(e){var t=hi[e];if(!t)throw new Error("Preview pane component for itemType '"+e+"' was not found.");return t},Ei=function(e){var t=e.item?vi(e.item.itemType):null;return h.a.createElement(le.a.Provider,{value:fe.g.PREVIEW_PANE},t?h.a.createElement(t,{item:e.item,onClose:e.onClose}):h.a.createElement(bi,{onClose:e.onClose}))},yi=Object(b.memo)(Ei);gi(ge.m,ui);var ji=a(185),Oi=a(337),wi=a(276),Ii=a(613),Ti=a(851),Mi=a(3912),Ci=a.n(Mi),Ni=function(e){var t=e.text,a=e.size,n=void 0===a?"md":a,r=e.className,s=e.dataTest,o=_()(r,[Ci.a[n]]);return h.a.createElement("div",W()({},s?{"data-test":s}:{},{className:o}),t)},xi=Ni,Ai=a(3872),Di=a.n(Ai),Li=function(e){var t,a=e.label,n=e.selected,r=void 0!==n&&n,s=e.highlighted,o=void 0!==s&&s,i=e.disabled,l=void 0!==i&&i,c=e.inheriteRole,d=e.className,u=e.subText,m=void 0===u?"":u,p=e.textSize,f=!r&&!l&&o;return h.a.createElement("div",{"data-test":"share-drop-item",className:_()("flex items-center",d,(t={"bg-action-light":r},t[Di.a.item]=!r,t[Di.a.highlighted]=f,t[Di.a.disabled]=l,t))},h.a.createElement("div",{className:"flex-grow"},h.a.createElement(xi,{className:_()({white:r}),text:a,size:p}),m&&h.a.createElement(xi,{className:_()("gray-60",Di.a.roleDropdownSubText,{white:r}),text:m})),(r||c)&&h.a.createElement(ee.a,{size:"xxl",color:r?"white":"gray-50",path:c?x.inherited:x.done}))},Si=Li,ki=a(217),Pi=a(3913),_i=a(3839),Ri=a(3838),Fi=a(437),zi=a(202),Bi=a.n(zi),Ui="bottom-start",Vi={AUTO:"auto",TOP:"top",TOP_START:"top-start",TOP_END:"top-end",RIGHT:"right",RIGHT_START:"right-start",RIGHT_END:"right-end",BOTTOM:"bottom",BOTTOM_START:"bottom-start",BOTTOM_END:"bottom-end",LEFT:"left",LEFT_START:"left-start",LEFT_END:"left-end"},Gi=a(3914),Wi=a.n(Gi),Hi=function(e){var t,a=e.selected,n=e.isOpen,r=e.getToggleButtonProps,s=e.props,o=e.ref,i=s.inputClassName||"justify-between";return h.a.createElement("button",W()({ref:o,className:_()("flex w-100",i),skin:"menu"},r()),a?(t=a,s.inputText?s.inputText(t,n):t):s.placeholder,h.a.createElement(ee.a,{path:n?x.arrowDropUp:x.arrowDropDown}))},Yi=function(e){var t=e.props,a=e.item,n=e.selected,r=e.highlightedIndex,s=e.getItemProps,o=e.index,i=n===a,l=r===o,c=t.disabledItems&&t.disabledItems.includes(a);return h.a.createElement("div",W()({},s({item:a,disabled:c}),{key:t.getItemKey?t.getItemKey(a):a,className:_()({pointer:!c},t.itemClassName)}),t.dropItemComponent?t.dropItemComponent(W()({item:a,isSelected:i,isHighlighted:l,index:o},t.dropItemData)):a)},Qi=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"getPopperContentRenderer",(function(e){return t.memoizedRenderPopperContent||(t.memoizedRenderPopperContent=Object(wr.default)((function(e){var a=e.closeMenu,n=e.toggleMenu,r=e.getItemProps,s=e.selected,o=e.highlightedIndex;return function(e){var i=e.style,l=e.ref,c=t.props,d=c.getItems(),u=Bi()(d);return h.a.createElement("div",{"data-test":"drop-down-list",style:i,ref:l,className:_()("drop-down-list","bg-white",Wi.a.list,c.dropClassName)},u?d({props:c,selected:s,highlightedIndex:o,closeMenu:a,toggleMenu:n,getItemProps:r}):d.length?d.map((function(e,t){return Yi({props:c,item:e,selected:s,highlightedIndex:o,getItemProps:r,index:t})})):c.dropPlaceholder?h.a.createElement("div",{className:"pa3"},c.dropPlaceholder):null,c.dropDownAction?c.dropDownAction(W()({},c.actionData,{closeMenu:a})):null)}}))),t.memoizedRenderPopperContent(e)})),p()(c()(t),"memoizedRenderPopperContent",null),p()(c()(t),"renderDownshiftContent",(function(e){var a=e.isOpen,n=e.getToggleButtonProps,r=e.getInputProps,s=e.getItemProps,o=e.selectedItem,i=e.highlightedIndex,l=e.toggleMenu,c=e.closeMenu,d=e.clearSelection,u=t.props;u.getDropDownActions&&u.getDropDownActions({closeMenu:c,toggleMenu:l});var m=u.selected||o||u.defaultSelectedItem,p=u.disabled,f=function(e){var t=W()({disabled:p,selected:m,isOpen:a,getToggleButtonProps:n,getInputProps:r,closeMenu:c,toggleMenu:l,highlightedIndex:i,props:u},e,{clearSelection:d});return u.inputItem?u.inputItem(t):Hi(t)};return h.a.createElement("div",W()({},u.dataTest?{"data-test":u.dataTest+"-dropdown"}:{},{className:_()(u.className,"flex",{"dd-open":a})}),h.a.createElement(_i.a,null,f),a&&h.a.createElement(Ri.a,{modifiers:u.modifiers,key:u.popperKey||"popper",placement:u.placement,className:u.popperClassName},t.getPopperContentRenderer({selected:m,getItemProps:s,highlightedIndex:i,toggleMenu:l,closeMenu:c})))})),t}return u()(t,e),t.prototype.render=function(){return h.a.createElement(Fi.c,{tag:!1},h.a.createElement(Pi.a,W()({},this.props,{render:this.renderDownshiftContent})))},t}(b.Component);p()(Qi,"defaultProps",{placeholder:"",placement:Ui,popperClassName:""});var Ki=Qi,Zi=function(e){var t,a=e.shareItemType,n=e.highlighted;return h.a.createElement("div",{"data-test":"share-drop-remove-item",className:_()("flex pa3 items-center bt b--gray-40",(t={},t[Di.a.highlighted]=n,t))},h.a.createElement(ee.a,{size:"xs",color:"primary",path:x.cross}),h.a.createElement("div",{className:_()("flex-grow ml2")},h.a.createElement(xi,{className:_()("fw5 destructive",Di.a.removeAccess),text:Object(Ue.j)("share."+a+".roles.remove.label")})))},qi=function(e){var t=function(t){return Object(Ue.j)("share."+e.shareItemType+".roles."+t+".label")};return h.a.createElement(Ki,{"data-test":"share-select-role",dataTest:"permissions",popperClassName:e.popperClassName,className:_()(Di.a.dropDown,e.className),placement:Vi.BOTTOM,getItems:function(){return Object(Ti.a)(e.shareItemType,e.hasRemoveOption)},disabledItems:e.disabledItems,defaultSelectedItem:e.selectedRole,onSelect:function(t){return e.onUpdate(t)},inputText:t,inputClassName:_()("justify-end items-center",e.inputClassName),dropItemComponent:function(a){var n=a.item,r=a.isSelected,s=a.isHighlighted;return"remove"===n?h.a.createElement(Zi,{shareItemType:e.shareItemType,highlighted:s}):h.a.createElement(Si,{label:t(n),selected:r,highlighted:s,disabled:!!e.disabledItems&&e.disabledItems.includes(n),inheriteRole:e.sharee&&e.sharee.inherited_ml_role===n,subText:Object(Ue.j)("share."+e.shareItemType+".roles."+n+".description"),className:"ph3 pv2"})}})},Xi=a(3915),Ji=a.n(Xi),$i=k.default.div.withConfig({displayName:"ShareListItem__ListItemContainer",componentId:"sc-11my28-0"})(["padding:6px 0;display:flex;justify-content:space-between;align-items:center;width:100%;",";",""],(function(e){return!e.readOnly&&"cursor: pointer"}),(function(e){return e.collectionOwner&&"background-color: "+tt.k})),el=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"roleMap",Ii.e[t.props.shareItemType]),t}u()(t,e);var a=t.prototype;return a.renderReadOnly=function(e){return h.a.createElement(Si,{label:Object(Ue.j)("share."+this.props.shareItemType+".roles."+e[this.roleMap]+".label"),textSize:"sm"})},a.renderEditable=function(e){var t=this,a=Object(Ti.a)(this.props.shareItemType);return h.a.createElement(qi,{selectedRole:e[this.roleMap],onUpdate:function(a){var n;t.props.trackEvent(fe.f.EDIT,Object(Ue.j)(Ii.a.LABELS.MODIFY_PERMISSION,{permission:a,shareItemType:t.props.shareItemType})),t.props.updateRole(W()({},e,((n={})[t.roleMap]=a,n)))},hasRemoveOption:!e.inherited_ml_role,disabledItems:a.filter((function(t){return function(t){return e.possible_ml_roles&&!e.possible_ml_roles.includes(t)&&e.inherited_ml_role&&e.inherited_ml_role!==t}(t)})),sharee:e,shareItemType:this.props.shareItemType,inputClassName:"fw4"})},a.render=function(){var e=this.props,t=e.sharee,a=e.className,n=e.shareItemType,r=Object(Ti.c)(t),s=n===pe.w.COLLECTION&&"owner"===t.ml_role,o=this.props.readOnly||s;return h.a.createElement($i,{className:a,readOnly:o,collectionOwner:s,"data-test":"share-list-item"},h.a.createElement(Pt.a,{subText:r,userType:t.type,user:t,avatarSize:this.props.userAvatarSize,userShowDisplayName:this.props.userShowDisplayName}),h.a.createElement("div",{className:_()("flex items-center",Ji.a["share-permission"])},t.inherited&&h.a.createElement("div",{className:"pa2"},h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("share.inheritedTooltip")},h.a.createElement(ee.a,{path:x.inherited,color:"gray-60",size:"sm"}))),o?this.renderReadOnly(t):this.renderEditable(t)))},t}(h.a.Component);p()(el,"defaultProps",{readOnly:!1,userAvatarSize:ki.a.SM});var tl=Object(le.b)(el),al=a(3855),nl=a.n(al),rl=Object(k.default)(tl).withConfig({displayName:"SharesList__ShareListItemContainer",componentId:"sc-1vofn3s-0"})(["margin-bottom:",";&:first-child{",";}"],(function(e){return e.readOnly?"4px":"12px"}),(function(e){return!e.readOnly&&"margin-top: 12px"})),sl=k.default.div.withConfig({displayName:"SharesList__StyledShareList",componentId:"sc-1vofn3s-1"})(["",""],(function(e){return e.withBorder&&"\n        border: 1px solid "+At.a.color.gray60+";\n        border-radius: "+At.a.radius.lg+";\n        padding: 0 "+At.a.spacing.xs+";\n    "})),ol=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{currentSharees:t.props.currentSharees}),p()(c()(t),"updateRole",(function(e){t.setState((function(a){var n=Object(Ti.d)(a.currentSharees,e,t.props.shareItemType);return t.props.updateShares&&t.props.updateShares(n),{currentSharees:n}}))})),t}return u()(t,e),t.prototype.render=function(){var e,t,a=this,n=this.props,r=n.readOnly,s=n.shareItemType;return h.a.createElement(sl,{"data-test":"share-list",withBorder:this.state.currentSharees.length>0&&!r,className:_()((e={},e[nl.a.shareList]=!r,e["bt b--gray-40"]=this.state.currentSharees.length<=1&&!r,e))},this.state.currentSharees.length?this.state.currentSharees.map((function(e){return h.a.createElement(rl,{className:"fs-exclude",key:e.type+"-"+e.id,sharee:e,readOnly:r,updateRole:a.updateRole,shareItemType:s,userAvatarSize:a.props.userAvatarSize,userShowDisplayName:a.props.userShowDisplayName})})):h.a.createElement("div",{className:_()("flex items-center mt3",nl.a.shareListItem,(t={},t[nl.a.readOnly]=r,t["justify-center"]=r,t)),"data-test":"shared-placeholder"},h.a.createElement("div",{className:"br-100 bg-gray-40 pa2 mr3"},h.a.createElement(ee.a,{color:"gray-60",path:x.authenticated})),Object(Ue.j)("share."+this.props.shareItemType+".noSharers.placeholder")))},t}(h.a.Component),il=ol,ll=a(623),cl=a(627),dl=Object.freeze({PERMISSIONS:"permissions",INNER_LINK:"inner_link"}),ul=a(443),ml=a(223),pl=a(1553),fl=a(40),bl=500,hl=function(e,t){if(e.itemType===fl.e){var a,n=e,r=(null==n?void 0:n.assetCount)||0;if(r>bl)return Object(Ue.j)("linkGenerateSection.publicAssetCountExceed",{assetCount:r,maxNum:bl});if(0===r)return Object(Ue.j)("linkGenerateSection.noAssets",{itemType:fl.e});if(null!=n&&null!==(a=n.metadata)&&void 0!==a&&a.has_restricted)return!(null==t||!t.url)?Object(Ue.j)("linkGenerateSection.collection.hasRestricted.shared"):Object(Ue.j)("linkGenerateSection.collection.hasRestricted.notShared")}return null},gl=a(1554),vl=function(e){var t=e.text,a=e.beforeCopyText,n=e.afterCopyText,r=e.type,s=e.dataTest,o=e.icon,i=e.isUrl,l=e.size,c=e.onCopy,d=e.isTextInline,u=Object(b.useState)(a),m=u[0],p=u[1];return h.a.createElement(gl.CopyToClipboard,{text:t,options:{onCopy:function(e){Object(me.a)(e,t||"",i),p(n)}}},h.a.createElement(Xe.a,{type:r,size:l,icon:o,dataTest:s,onClick:c,tooltipText:d?"":m,tooltipProps:{onVisibleChange:function(e){return!e&&setTimeout((function(){return p(a)}),200)}}},d&&m))},El=function(e){var t=e.url,a=e.trackEvent,n=e.previewMode,r=e.analyticsEventLabel,s=e.type,o=void 0===s?"link":s,i=e.size,l=void 0===i?"sm":i,c=e.beforeCopyText,d=void 0===c?Object(Ue.j)("copyUrl.beforeCopy"):c;return h.a.createElement("div",{className:_()("h-100 flex items-center",{"bg-white ml2 br2":n}),"data-test":"public-link-copy-btn"},h.a.createElement(vl,{text:t,beforeCopyText:d,afterCopyText:Object(Ue.j)("copyText.afterCopy"),type:"link"===o?"link":void 0,dataTest:"copy-url-btn",icon:"fetch",onCopy:function(){a(fe.f.COPY_URL,r)},isUrl:!0,size:l,isTextInline:!n}))},yl=Object(le.b)(El),jl=a(3862),Ol=a.n(jl),wl=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"previewMode","preview pane"===t.props.context),p()(c()(t),"totalLines",t.previewMode?2:1),p()(c()(t),"renderUrl",(function(e){return e(t.props.url)})),t}return u()(t,e),t.prototype.render=function(){var e;return this.props.url?h.a.createElement("div",{className:_()("flex items-center justify-between flex-grow-1",{"bg-gray-40 pa2 lh-sm":this.previewMode,"bg-white br3 pl2 mr1 lh-xl3 b--gray-60 ba":!this.previewMode}),"data-test":"public-download-link-url"},h.a.createElement("div",{className:"flex items-center flex-grow-1"},h.a.createElement(ee.a,{path:x.sharePublicURL,color:"gray-70",size:"md",className:Ol.a.generatedUrlIcon}),h.a.createElement(K.a,{render:this.renderUrl,dataTest:"share-url",className:_()("fs-exclude code h-100 pl2 f-xxs",Ol.a.generatedUrl),lines:this.totalLines,tooltipText:this.props.url||"",tooltipPosition:"bottom"})),h.a.createElement(yl,{url:this.props.url||"",previewMode:this.previewMode,analyticsEventLabel:"public "+((null===(e=this.props)||void 0===e?void 0:e.itemType)||"")+" url copied"+(this.props.context?" from "+this.props.context:"")})):null},t}(h.a.Component),Il=wl,Tl=a(1587),Ml={NOT_START:"not start",ON_PROGRESS:"on progress",DONE:"done"},Cl=function(e){var t=e.generateLink;return h.a.createElement(bn.b,{onClick:t,skin:"link",size:"sm",icon:x.code,dataTest:"create-url-btn",className:Ol.a.publicUrlBtn},Object(Ue.j)("linkGenerateSection.create"))},Nl=function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement(vn.a,null),h.a.createElement("div",{className:"fw6 f-sm gray-100 ml2"},Object(Ue.j)("linkGenerateSection.onProgress")))},xl=function(e){var t=e.url,a=e.renderShareLinkConfig,n=e.itemType;return h.a.createElement(h.a.Fragment,null,h.a.createElement(Il,{url:t,itemType:n}),h.a.createElement(bn.b,{onClick:a,skin:"link",size:"sm",icon:x.edit,dataTest:"url-options-btn",className:_()(Ol.a.publicUrlBtn,"ml2")},Object(Ue.j)("linkGenerateSection.edit")))},Al=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{generateStatus:Ml.NOT_START}),p()(c()(t),"setLinkState",(function(){var e;!t.unmounted&&t.setState({generateStatus:null!==(e=t.props.publicLink)&&void 0!==e&&e.id?Ml.DONE:Ml.NOT_START})})),p()(c()(t),"unmounted",!1),p()(c()(t),"generate",(function(){return t.generatePublicLink()})),p()(c()(t),"renderShareLinkConfig",(function(){t.props.trackEvent(fe.f.CLICK,Object(Ue.j)(Ii.a.LABELS.URL_OPTIONS,{shareItemType:t.props.shareItem.itemType})),t.props.switchToPublicLinkConfig()})),p()(c()(t),"renderWarning",(function(){var e=hl(t.props.shareItem,t.props.publicLink);return e?h.a.createElement("div",{className:"flex items-center"},h.a.createElement(ee.a,{path:x.warning,size:"xs",color:"primary",className:"flex-none"}),h.a.createElement("span",{className:"f-xxs lh-xs ml1 black"},h.a.createElement(ml.a,{text:e}))):null})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.setLinkState(),this.props.loadSharedItemMetadataByType(this.props.shareItem)},a.componentDidUpdate=function(e){this.props.publicLink!==e.publicLink&&this.setLinkState()},a.componentWillUnmount=function(){this.unmounted=!0},a.generatePublicLink=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.trackEvent(fe.f.CREATE,Ii.a.LABELS.GENERATE_URL),!this.unmounted&&this.setState({generateStatus:Ml.ON_PROGRESS}),e.prev=2,e.next=5,this.props.createPublicLink(this.props.shareItem);case 5:e.sent&&!this.unmounted&&this.setState({generateStatus:Ml.DONE}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),!this.unmounted&&this.setState({generateStatus:Ml.NOT_START});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),a.render=function(){var e;return this.props.publicLink?h.a.createElement("div",{"data-test":"share-generate-public-link-section",className:_()("bg-gray-40 b--gray-50 bb pt3 pb2",Ol.a.generateUrlSection,{pv2:this.state.generateStatus===Ml.NOT_START})},h.a.createElement("div",{className:"flex items-center justify-between"},h.a.createElement("div",{className:"f-sm fw6 gray-100"},Object(Ue.j)("linkGenerateSection.title")),this.state.generateStatus===Ml.NOT_START&&h.a.createElement(Cl,{generateLink:this.generate})),h.a.createElement("div",{className:_()("flex items-center",Ol.a.shareUrlWrapper,{mv2:this.state.generateStatus!==Ml.NOT_START,"justify-between":this.state.generateStatus!==Ml.ON_PROGRESS})},this.state.generateStatus===Ml.ON_PROGRESS&&h.a.createElement(Nl,null),this.state.generateStatus===Ml.DONE&&h.a.createElement(xl,{url:null===(e=this.props.publicLink)||void 0===e?void 0:e.url,renderShareLinkConfig:this.renderShareLinkConfig,itemType:this.props.shareItem.itemType})),this.renderWarning()):null},t}(h.a.Component),Dl={createPublicLink:pl.createPublicLink,loadItem:j.loadItem,loadSharedItemMetadataByType:Tl.loadSharedItemMetadataByType},Ll=Object(g.connect)(null,Dl)(Al),Sl=Object(le.b)(Ll),kl=a(875),Pl=function(e){switch(e){case"xs":default:return"sm"}},_l=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"boxClassName","lh-"+(t.props.size||"xs")+" box-"+Pl(t.props.size)),t}u()(t,e);var a=t.prototype;return a.renderBox=function(){return h.a.createElement("div",W()({},this.props.dataTest?{"data-test":this.props.dataTest}:{},{className:_()("white",{"bg-action ba b--action":this.props.checked,"ba b--gray-60":!this.props.checked},this.boxClassName),onClick:this.props.onChange}),h.a.createElement(ee.a,{size:this.props.size,path:x.check,color:"white"}))},a.render=function(){return h.a.createElement("div",{className:_()(this.props.className,"flex items-center")},this.renderBox(),this.props.name&&h.a.createElement(xi,{text:this.props.name,className:"pl2",size:"sm"}))},t}(h.a.PureComponent);p()(_l,"defaultProps",{size:"xs",name:""});var Rl=_l,Fl=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{from:new Date(t.props.fromDate),to:t.props.toDate?new Date(t.props.toDate):void 0}),p()(c()(t),"resolveFromTo",(function(e,t){var a=Object(Pa.d)(e)>Object(Pa.d)(t);return[e?new Date(e):void 0,t?new Date(a?e:t):void 0]})),p()(c()(t),"handleTimeChange",(function(e,a){var n=t.resolveFromTo(e,a),r=n[0],s=n[1];t.props.updateTime(r,s),!t.unmounted&&t.setState({from:r,to:s})})),p()(c()(t),"updateFromDate",(function(e){return t.handleTimeChange(e,t.state.to)})),p()(c()(t),"updateToDate",(function(e){return t.handleTimeChange(t.state.from,e)})),p()(c()(t),"toggleToDateCheckbox",(function(){t.props.trackEvent(t.state.to?"remove":"add");var e=t.state.to?void 0:t.previousSavedToDate||t.state.from||new Date;t.props.updateTime(t.state.from,e||null),!t.unmounted&&t.setState({to:e})})),p()(c()(t),"fromLabel",t.props.fromDateLabel||Object(Ue.j)("dateRangePicker.fromDate")),p()(c()(t),"toLabel",t.props.toDateLabel||Object(Ue.j)("dateRangePicker.toDate")),p()(c()(t),"startDateInputProps",{required:!0}),p()(c()(t),"toDateOptional",!0),p()(c()(t),"unmounted",!1),p()(c()(t),"previousSavedToDate",void 0),p()(c()(t),"pastDays",{before:new Date}),t}u()(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){var e;this.previousSavedToDate=this.state.to?this.state.to:this.previousSavedToDate;var t={start:this.state.from,end:this.state.to};return h.a.createElement("div",{className:_()("bt b--gray-40 pt3",this.props.className)},h.a.createElement(kl.a,{dataTest:"start-date-picker",date:this.state.from,label:this.fromLabel,className:_()((e={},e[Ra.a.alignWithCheckBox]=this.toDateOptional,e)),dayPickerProps:{month:this.state.from,modifiers:t,disabledDays:this.pastDays},inputProps:this.startDateInputProps,handleSelect:this.updateFromDate,placeholder:this.fromLabel}),h.a.createElement("div",{className:"flex items-center"},h.a.createElement(Rl,{dataTest:"expiration-date-check-box",checked:void 0!==this.state.to,className:"mt1 mr2",size:"xs",onChange:this.toggleToDateCheckbox}),h.a.createElement(kl.a,{dataTest:"expiration-date-picker",date:this.state.to,label:this.toLabel,dayPickerProps:{month:this.state.to,modifiers:t,disabledDays:{before:this.state.from}},handleSelect:this.updateToDate,placeholder:this.toLabel})))},t}(h.a.Component),zl=Fl,Bl=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{saveDisabled:!1,deleteDisabled:!1}),p()(c()(t),"updateTime",(function(e,a){t.dateRange.expiredDate=Object(St.i)(a),t.dateRange.startDate=Object(St.i)(e),e?e&&t.state.saveDisabled&&!t.unmounted&&t.setState({saveDisabled:!1}):!t.unmounted&&t.setState({saveDisabled:!0})})),p()(c()(t),"dateRange",{startDate:t.props.publicLink.start_at,expiredDate:t.props.publicLink.end_at}),p()(c()(t),"unmounted",!1),p()(c()(t),"trackDatePicker",(function(e){return t.props.trackEvent(fe.f[e.toUpperCase()],e+" expiration date")})),p()(c()(t),"deleteLink",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!t.unmounted&&t.setState({deleteDisabled:!0,saveDisabled:!0}),t.props.trackEvent(fe.f.DELETE,Ii.a.LABELS.DELETE_URL),e.next=4,t.props.deletePublicLink(t.props.publicLink,t.props.shareItem);case 4:t.props.backToShareBlock();case 5:case"end":return e.stop()}}),e)})))),p()(c()(t),"save",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!t.unmounted&&t.setState({deleteDisabled:!0,saveDisabled:!0}),t.props.trackEvent(fe.f.EDIT,Object(Ue.j)(Ii.a.LABELS.EDIT,{shareItemType:t.props.shareItem.itemType})),e.next=4,t.props.updatePublicLink(t.props.publicLink,t.props.shareItem,t.dateRange.startDate,t.dateRange.expiredDate);case 4:!t.unmounted&&t.props.hideModal();case 5:case"end":return e.stop()}}),e)})))),t}u()(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){return this.props.publicLink?h.a.createElement(h.a.Fragment,null,h.a.createElement(Wo.a,null,h.a.createElement(R.a,null,h.a.createElement("div",{className:"flex items-center justify-between mt3 mb4","data-test":"public-download-share-link"},h.a.createElement(Il,{url:this.props.publicLink.url,itemType:this.props.shareItem.itemType,context:"options"})),h.a.createElement(zl,{className:_()("bt b--gray-40 mt3",Ol.a.downloadLinkTimeWrapper),fromDate:this.props.publicLink.start_at,toDate:this.props.publicLink.end_at,fromDateLabel:Object(Ue.j)("publicDownloadLink.startDate"),toDateLabel:Object(Ue.j)("publicDownloadLink.expiredDate"),updateTime:this.updateTime,trackEvent:this.trackDatePicker}))),h.a.createElement(Wo.b,null,h.a.createElement(bn.b,{onClick:this.save,skin:"action",icon:x.check,dataTest:"submit-modal-btn",disabled:this.state.saveDisabled},Object(Ue.j)("publicDownloadLink.save")),h.a.createElement(bn.b,{onClick:this.deleteLink,icon:x.del,skin:"destructive",dataTest:"delete-link-btn",disabled:this.state.deleteDisabled},Object(Ue.j)("publicDownloadLink.delete")))):null},t}(h.a.Component),Ul={hideModal:wa.hideModal,deletePublicLink:pl.deletePublicLink,updatePublicLink:pl.updatePublicLink},Vl=Object(g.connect)(null,Ul)(Bl),Gl=Object(le.b)(Vl),Wl=a(1571),Hl=a(32),Yl="Home",Ql=function(e){var t=e.shareItem,a=e.publicLinkMode,n=void 0!==a&&a?Object(Ue.j)("publicDownloadLink.title"):Object(Ue.j)("share.title")+" "+(Object(Te.k)(t)||Yl),r=t.itemType!==ge.m?t.itemType:"share";return h.a.createElement(Wo.c,{icon:r,title:n})},Kl=Ql,Zl=a(147),ql=a.n(Zl),Xl=a(621),Jl=a.n(Xl),$l=a(3916),ec=a.n($l),tc=function(e,t){return ke()(e.inputValue)?t.input:e.inputValue},ac=function(e,t,a){var n=Bi()(e)?e:e.filter((function(e){return!t.selected.includes(e)}));return t.autocomplete&&n.filter?n.filter((function(e){return t.autocomplete&&t.autocomplete(e,tc(t,a))})):n},nc=function(e,t,a){t.inputWrapperRef&&(t.inputWrapperRef.current=e),a(e)},rc=function(e){var t=e.props,a=e.textInput,n=e.onInputChange,r=e.onInputKeyDown,s=e.inputProps;return function(e){var o=e.getInputProps,i=e.toggleMenu,l=e.ref,c=e.isOpen,d=e.closeMenu,u=e.highlightedIndex;return b.createElement("div",W()({ref:function(e){return nc(e,t,l)},onClick:function(){return a.current&&a.current.focus()},className:_()("flex flex-row flex-wrap w-100 h-100",t.inputItemWrapperClassName)},t.dataTest?{"data-test":t.dataTest+"-multiple-select"}:{}),b.createElement("div",{className:_()("flex flex-wrap overflow-hidden",t.selectedWrapperClassName)},t.selected?t.selected.map((function(e,a){return t.selectedItemComponent?t.selectedItemComponent({item:e,index:a}):e})):null),b.createElement("div",{className:_()("ml1 flex-grow-2",ec.a.inputWrapper)},b.createElement("input",W()({"data-test":"multiselect-input",ref:a,className:_()("w-100 h-100 bw0 outline-0",ec.a.input)},o(W()({},s,{onChange:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.apply(void 0,[s].concat(t))},onKeyDown:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r.apply(void 0,[s,u].concat(t))},placeholder:!t.selected.length&&t.placeholder||""})),{onClick:i}))),t.children?Bi()(t.children)?t.children({isOpen:c,toggleMenu:i,closeMenu:d}):t.children:null)}},sc=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{input:""}),p()(c()(t),"textInput",b.createRef()),p()(c()(t),"clearInput",(function(){t.setState({input:""})})),p()(c()(t),"handleChange",(function(){t.clearInput()})),p()(c()(t),"handleInputChange",(function(e,a){t.setState({input:a.target.value}),e&&e.onChange&&e.onChange(a)})),p()(c()(t),"handleInputKeyDown",(function(e,a,n){var r=ks()(n);if("enter"===r)null!==a&&-1!==a||t.props.onInputEnter&&t.props.onInputEnter(n),t.clearInput();else if("backspace"===r){var s=tc(t.props,t.state),o=t.props.selected.length;!s&&o&&t.props.removeItem&&t.props.removeItem(t.props.selected[o-1])}})),t}return u()(t,e),t.prototype.render=function(){var e=this,t=tc(this.props,this.state),a=this.props.getInputProps?this.props.getInputProps({clearInput:this.clearInput}):null,n=rc({props:this.props,textInput:this.textInput,onInputChange:this.handleInputChange,onInputKeyDown:this.handleInputKeyDown,inputProps:a});return b.createElement(Ki,W()({},this.props,{selected:null,getItems:function(){return ac(e.props.getItems(t),e.props,e.state)},inputValue:t,inputItem:n,dropClassName:_()(this.props.dropClassName,"absolute bg-white",ec.a.list),dropPlaceholder:this.props.autocompletePlaceholder,dropItemComponent:this.props.dropItemComponent,dropItemData:this.props.dropItemData,actionData:{value:t,selected:this.props.selected}}))},t}(b.Component);p()(sc,"defaultProps",{autocompletePlaceholder:""});var oc=sc,ic=function(e){return e&&""!==e.trim()?e:Object(Ms.d)("userDescriptor.unknown")},lc=k.default.div.withConfig({displayName:"UserChipAvatarstyles__StyledChipAvatarContainer",componentId:"sc-1qevwum-0"})(["margin-left:-",";margin-top:-",";margin-bottom:-",";"],At.a.spacing.xs,At.a.spacing.xxs,At.a.spacing.xxs),cc=a(555),dc=function(e){var t=e.user,a=e.size;return h.a.createElement(lc,null,h.a.createElement(cc.a,{user:t,size:a}))},uc=dc,mc=function(e){var t=e.user,a=e.size,n=e.className,r=ic(t.name),s=h.a.createElement(uc,{user:{name:t.name,avatar_color_scheme:t.avatar_color_scheme,firstName:t.firstName,lastName:t.lastName,avatar:t.avatar},size:t.avatarSize});return h.a.createElement(Ur,{size:a,onClick:t.removeValue,label:r,leftSlot:s,dataTest:"user-chip-text",className:_()("fs-exclude",n)})},pc=mc,fc=function(e,t){return e.toLowerCase().includes(t.toLowerCase())},bc=function(e,t,a){return t.filter((function(t){var n;return(!e||fc(t.name,e)||fc(t.email,e))&&(!a||(null===(n=t.allowedCustomerIds)||void 0===n?void 0:n.includes(a)))}))},hc={preventOverflow:{enabled:!1},offset:{offset:"-5, 0"}},gc=ql()((function(e,t){return e.filter((function(e){return!t.some((function(t){return t.id===e.id&&t.type===e.itemType}))}))}),(function(e,t){return JSON.stringify([].concat(e,t))})),vc=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{value:"",selectedSharees:[],selectedRole:Ii.c}),p()(c()(t),"onSelectOption",(function(e){t.props.trackEvent(fe.f.SELECT,Object(Ue.j)(Ii.a.LABELS.SELECT_SHAREEE,{shareItemType:e.type===Rt.a?Rt.a:"group"})),t.setState({value:""}),t.update(e)})),p()(c()(t),"onSelectRole",(function(e){t.props.trackEvent(fe.f.SELECT,Object(Ue.j)(Ii.a.LABELS.ADD_PERMISSION,{permission:e,shareItemType:t.props.shareItemType})),t.setRole(e)})),p()(c()(t),"onInputChange",(function(e){var a=e.target.value;t.setState({value:a})})),p()(c()(t),"setRole",(function(e){void 0===e&&(e=Ii.c),t.props.updateselectedSharees(t.state.selectedSharees,e),t.setState({selectedRole:e})})),p()(c()(t),"getItems",(function(){return t.renderOptions})),p()(c()(t),"unmounted",!1),p()(c()(t),"update",(function(e,a){var n=a?t.state.selectedSharees.filter((function(t){return t.id!==e.id})):[].concat(t.state.selectedSharees,[e]);t.props.updateselectedSharees(n,t.state.selectedRole),t.setState({selectedSharees:n})})),p()(c()(t),"inputWrapper",Object(b.createRef)()),p()(c()(t),"removeSelectedSharee",(function(e){return t.update(e,!0)})),p()(c()(t),"renderDropItemComponent",(function(e){var t,a=e.item,n=e.isHighlighted;return h.a.createElement(Pt.a,{subText:Object(Ti.c)(a),className:_()("w-100",nl.a.dropItem,(t={},t[nl.a.highlighted]=n,t)),userType:a.type,avatarSize:ki.a.MD,user:a})})),p()(c()(t),"renderSelectedOptionChip",(function(e){var a=e.item,n=function(){t.props.trackEvent(fe.f.SHARE,Ii.a.LABELS.REMOVE_SHAREE_SELECTION),t.update(a,!0)},r={name:a.name,firstName:a.first_name,lastName:a.last_name,id:a.id,removeValue:n,avatarSize:ki.a.SM,avatar_color_scheme:a.avatar_color_scheme};return a.type===Rt.a?h.a.createElement(pc,{user:r,className:"fs-exclude mt1-sm mb0",key:r.id}):h.a.createElement(Ur,{className:"fs-exclude mt1-sm mb0",onClick:n,key:r.id,label:r.name,leftSlot:h.a.createElement(ee.a,{color:"gray-70",path:x.group,size:"sm"})})})),p()(c()(t),"renderOptionsSection",(function(e){var t=e.props,a=e.selected,n=e.highlightedIndex,r=e.getItemProps,s=e.options,o=e.sectionHeader;return h.a.createElement(b.Fragment,null,h.a.createElement("div",{className:"gray-70 f-xxs ph2"},o),s.map((function(e,s){return Yi({props:t,item:W()({},e,{type:e.itemType}),selected:a,highlightedIndex:n,getItemProps:r,index:s})})))})),p()(c()(t),"renderOptions",(function(e){var a=e.props,n=e.selected,r=e.highlightedIndex,s=e.getItemProps,o=Jl()(t.state.value).toLowerCase(),i=o?t.props.userGroups.filter((function(e){return e.name.toLowerCase().includes(o)})):t.props.userGroups,l=gc(i,t.props.currentSharees),c=o?bc(o,t.props.users,t.props.customerId):t.props.users,d=gc(c,t.props.currentSharees);return l.length||d.length?h.a.createElement(b.Fragment,null,l.length>0&&t.renderOptionsSection({props:a,selected:n,highlightedIndex:r,getItemProps:s,options:l,sectionHeader:Object(Ue.j)("share.userGroups")}),d.length>0&&t.renderOptionsSection({props:a,selected:n,highlightedIndex:r-l.length,getItemProps:s,options:d,sectionHeader:Object(Ue.j)("share.users")})):h.a.createElement("div",{className:"pa3"},Object(Ue.j)("share.groups.autocompletePlaceholder"))})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.inputWrapper.current&&this.inputWrapper.current.querySelector("input");e&&e.focus()},a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){var e=this;return h.a.createElement("div",{className:_()(nl.a.shareSelect)},h.a.createElement("div",{className:"f-sm fw6 mb3 gray-80"},Object(Ue.j)("share."+this.props.shareItemType+".subtitle")),h.a.createElement("div",{"data-test":"group-and-permission-box",className:_()("flex flex-grow ba b--gray-60 h-100 w-100 br2 ph1",this.props.className,nl.a.multiSelectWrapper)},h.a.createElement(oc,{placement:"bottom-start",dataTest:"groups",className:_()("flex-grow overflow-auto pv1",nl.a.multipleSelect),dropClassName:_()("ba bt-0 b--gray-60",nl.a.multiSelectDrop),getItems:this.getItems,selected:this.state.selectedSharees,placeholder:Object(Ue.j)("share.groups.placeholder"),onSelect:this.onSelectOption,defaultSelectedItem:this.state.selectedSharees,dropItemComponent:this.renderDropItemComponent,selectedItemComponent:this.renderSelectedOptionChip,getItemKey:function(e){return e.id},getInputProps:function(){return{onChange:e.onInputChange}},inputWrapperRef:this.inputWrapper,removeItem:this.removeSelectedSharee,inputValue:this.state.value,itemToString:function(){return""},popperKey:this.state.value,modifiers:hc}),h.a.createElement("div",{className:_()("bl b--gray-60 flex items-center")},h.a.createElement(qi,W()({},this.props,{selectedRole:this.state.selectedRole,onUpdate:this.onSelectRole,className:_()(nl.a.shareSelectRole),popperClassName:nl.a.roleDropDown})))))},t}(h.a.Component),Ec=Object(le.b)(vc),yc=a(4776),jc=a.n(yc),Oc=a(3873),wc=a.n(Oc),Ic=function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(Wo.a,null,h.a.createElement(xn.a,{imgSrc:jc.a,subTitle:Object(Ue.j)("share."+e.shareItemType+".noGroup"),className:"bg-white pv4",dataTest:"share-empty-single-user"})),h.a.createElement(Wo.b,null,h.a.createElement(bn.b,{onClick:function(){e.trackEvent(Ii.a.ACTIONS.LEARN_MORE,Ii.a.LABELS.LEARN_MORE),window.open(Object(Ti.b)())},skin:"action",icon:x.documentation,dataTest:"submit-modal-btn"},Object(Ue.j)("share.singleUserState.learnMore")),h.a.createElement(bn.b,{onClick:e.hideModal,skin:"secondary",dataTest:"cancel-modal-btn",icon:x.cross,className:wc.a.cancelBtn},Object(Ue.j)("share.cancel"))))},Tc={hideModal:wa.hideModal},Mc=Object(g.connect)(null,Tc)(Ic),Cc=Object(le.b)(Mc),Nc=a(558),xc=a(1586);function Ac(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Dc(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function Dc(e,t){if(e){if("string"==typeof e)return Lc(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Lc(e,t):void 0}}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Sc=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{selectedSharees:[],currentSharees:t.props.currentSharees||[]}),p()(c()(t),"onSave",i()(s.a.mark((function e(){var a,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.props.trackEvent("share",Object(Ue.j)(Ii.a.LABELS.SAVE,{shareItemType:t.props.shareItem.itemType})),e.prev=1,a=Object(Ti.g)(t.props.shareItem.itemType),n=Ii.e[t.props.shareItem.itemType],r=[].concat(t.state.currentSharees||[],t.state.selectedSharees.map((function(e){var a;return W()({},e,((a={})[n]=t.selectedRole,a))}))),e.next=7,a(t.props.shareItem.id,{shared_with:r.filter((function(e){return!e.inherited})).map((function(e){var t;return(t={id:e.id})[n]=e[n],t.type=e.type,t}))});case 7:return(o=e.sent)&&(Be.d.success(Object(Ue.j)("share."+t.props.shareItem.itemType+".toast.success",{name:t.props.shareItem.name})),t.props.onUpdateEnded(t.props.shareItem,{currentSharees:Object(Ti.f)(o.shared_with?o:{shared_with:r})}),t.props.updateShareStatusWithSelfAndDescendants(t.props.shareItem,r.length>0)),e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(1),Be.d.error(Object(Ue.j)("share."+t.props.shareItem.itemType+".toast.error")),e.abrupt("return",e.t0);case 16:return e.prev=16,t.props.hideModal&&t.props.hideModal(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))),p()(c()(t),"selectedRole",""),p()(c()(t),"filterOptions",(function(e){return e.filter((function(e){return t.state.currentSharees&&!t.state.currentSharees.some((function(t){return t.id===e.id&&t.itemType===e.itemType}))&&!t.state.selectedSharees.some((function(t){return t.id===e.id&&t.itemType===e.itemType}))}))||[]})),p()(c()(t),"hasChanges",(function(e,t){for(var a,n=Ac(e);!(a=n()).done;)for(var r,s=a.value,o=Ac(t);!(r=o()).done;){var i=r.value;if(s.id===i.id&&(s.ml_role!==i.ml_role||s.collection_role!==i.collection_role))return!0}return!1})),p()(c()(t),"hasShareeListChanged",(function(){return!!t.props.currentSharees&&(!!t.hasChanges(t.state.currentSharees,t.props.currentSharees)||(t.state.currentSharees.length!==t.props.currentSharees.length||t.state.selectedSharees.length>0))})),t}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(){this.state.currentSharees||this.setState({currentSharees:this.props.currentSharees})},a.renderShareesSelectSection=function(){var e=this;return h.a.createElement(Ec,{users:this.filterOptions(this.props.users),userGroups:this.filterOptions(this.props.userGroups),customerId:this.props.customerId,updateselectedSharees:function(t,a){e.setState({selectedSharees:t}),e.selectedRole=a},shareItemType:this.props.shareItem.itemType,currentSharees:this.state.currentSharees})},a.renderShareeList=function(){var e=this;return h.a.createElement("div",{className:_()(nl.a.shareList,"mt1"),"data-test":"share-list"},this.state.currentSharees&&h.a.createElement(il,{userAvatarSize:ki.a.MD,shareItemType:this.props.shareItem.itemType,currentSharees:this.state.currentSharees,updateShares:function(t){e.setState({currentSharees:t})}}))},a.render=function(){var e=!this.hasShareeListChanged();return this.props.users.length+this.props.userGroups.length>0?h.a.createElement(h.a.Fragment,null,h.a.createElement(Wo.a,{dataTest:"share-"+this.props.shareItem.itemType+"-modal"},h.a.createElement(R.a,null,this.renderShareesSelectSection(),this.renderShareeList())),h.a.createElement(Wo.b,null,h.a.createElement(bn.b,{onClick:this.onSave,skin:"action",icon:x.check,dataTest:"submit-modal-btn",disabled:e},Object(Ue.j)("share.save")),h.a.createElement(bn.b,{onClick:this.props.hideModal,icon:x.cross,skin:"secondary",dataTest:"cancel-modal-btn",className:nl.a.cancelBtn},Object(Ue.j)("share.cancel")))):h.a.createElement(Cc,{shareItemType:this.props.shareItem.itemType})},t}(h.a.Component),kc=function(e){return{users:Object(Nc.selectUsersWithoutSelf)(e),userGroups:Object(Nc.selectUserGroups)(e),customerId:Object(zt.selectCurrentCustomerId)(e)}},Pc={onUpdateEnded:ll.onUpdateEnded,hideModal:wa.hideModal,updateShareStatusWithSelfAndDescendants:xc.updateShareStatusWithSelfAndDescendants},_c=Object(g.connect)(kc,Pc)(Sc),Rc=Object(le.b)(_c),Fc=Object(k.default)(Wo.a).withConfig({displayName:"ShareLinkBlock__StyledBody",componentId:"sc-23zly0-0"})(["strong{color:",";}"],tt.a),zc=k.default.div.withConfig({displayName:"ShareLinkBlock__ButtonsSection",componentId:"sc-23zly0-1"})(["margin-top:15px;display:flex;justify-content:space-between;& > div:first-child{margin-left:auto;}& > button:first-child{padding-left:0px;padding-right:0px;}"]),Bc=k.default.div.withConfig({displayName:"ShareLinkBlock__SharedBox",componentId:"sc-23zly0-2"})(["height:125px;overflow-y:auto;border:1px solid ",";border-radius:5px;padding:5px 15px;margin-top:10px;.-ShareeItem___3d{height:32px;padding:0px;border:0px !important;opacity:0.5;.-item___1J *,span{font-size:12px !important;}span{color:",";font-weight:500;}.-item___1J *{font-weight:normal !important;color:",";}.-userBlockInfo___1W{margin-left:-8px;}}"],tt.m,tt.j,tt.o),Uc=h.a.createContext({trackEvent:Object(le.d)(fe.g.SHARE)}),Vc=function(e){var t=Object(b.useState)(!1),a=t[0],n=t[1],r=Object(b.useContext)(Uc).trackEvent,s=e.shareItem.itemType,o=s===ge.m?he.c:s,i=Object(b.useCallback)((function(){r(fe.f.SHOW_HIDE,a?"collapse access list":"expand access list"),n(!a)}),[a,n,r]),l=window.location.origin+Object(be.a)(e.shareItem);return h.a.createElement(h.a.Fragment,null,h.a.createElement(Fc,{noPadding:!0},h.a.createElement("div",{className:_()(nl.a.shareSelect)},h.a.createElement("div",{className:"f-sm fw6 mb3 gray-80"},Object(Ms.d)("share."+s+".subtitle")),h.a.createElement("div",null,Object(Ms.d)("share."+s+".description")),a&&h.a.createElement(Bc,{className:_()(nl.a.shareList,"mt1"),"data-test":"share-list"},h.a.createElement(il,{readOnly:!0,shareItemType:o,currentSharees:e.currentSharees,key:"share-inner-"+s,userAvatarSize:ki.a.MD})),h.a.createElement(zc,null,e.canSeeSharees&&h.a.createElement(bn.b,{onClick:i,skin:"link",size:"sm",dataTest:"who-has-access"},a?Object(Ms.d)("share."+s+".hideWhoHasAccess"):Object(Ms.d)("share."+s+".whoHasAccess")),h.a.createElement(yl,{type:"primary",size:"md",url:l,beforeCopyText:Object(Ms.d)("share."+s+".copyLink"),analyticsEventLabel:"internal url copied",previewMode:!1})))))},Gc=Vc,Wc=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{publicLinkConfigMode:!1,loadingShareInfo:!1,loadingPublicLink:!1,canLoadSharees:!0}),p()(c()(t),"hasPublicUrlSection",(function(){return!t.state.publicLinkConfigMode&&t.props.isOperationAllowed(t.props.shareItem,ce.a.SHARE_EXTERNAL)&&Object(Hl.s)(t.props.shareItem.itemType)})),p()(c()(t),"isLoading",(function(){return t.state.loadingPublicLink||t.state.loadingShareInfo})),p()(c()(t),"switchToPublicLinkConfig",(function(){return!t.unmounted&&t.setState({publicLinkConfigMode:!0})})),p()(c()(t),"updateAndSwitchToShareBlock",(function(){return!t.unmounted&&t.setState({publicLinkConfigMode:!1})})),p()(c()(t),"unmounted",!1),p()(c()(t),"renderProgress",(function(){return h.a.createElement("div",{className:"flex justify-center pa3"},h.a.createElement(ji.a,{className:"w-10"}))})),p()(c()(t),"renderShare",(function(){return t.props.mode===dl.PERMISSIONS?h.a.createElement(Rc,{currentSharees:t.props.currentSharees,shareItem:t.props.shareItem}):t.props.mode===dl.INNER_LINK?h.a.createElement(Gc,{currentSharees:t.props.currentSharees,shareItem:t.props.shareItem,canSeeSharees:t.state.canLoadSharees}):void 0})),p()(c()(t),"renderContent",(function(){return h.a.createElement(h.a.Fragment,null,t.hasPublicUrlSection()&&h.a.createElement(Sl,{switchToPublicLinkConfig:t.switchToPublicLinkConfig,shareItem:t.props.shareItem,publicLink:t.props.publicLink}),t.state.publicLinkConfigMode?h.a.createElement(Gl,{shareItem:t.props.shareItem,backToShareBlock:t.updateAndSwitchToShareBlock,publicLink:t.props.publicLink}):t.renderShare())})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=i()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPublicUrlSection()&&this.props.loadPublicLinkByItem(this.props.shareItem),this.props.currentSharees&&this.props.currentSavedSharedItemId===this.props.shareItem.id){e.next=13;break}if(t=this.props.shareItem,this.setState({loadingShareInfo:!0}),this.props.shareItem.itemType!==ge.m){e.next=8;break}return e.next=7,this.props.loadItem(he.c,this.props.shareItem.folderId);case 7:t=e.sent;case 8:if(!(a=this.props.isOperationAllowed(t,ce.a.SHARE_ITEM))){e.next=12;break}return e.next=12,this.props.loadShareInfo(t);case 12:!this.unmounted&&this.setState({canLoadSharees:a,loadingShareInfo:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement(Kl,{shareItem:this.props.shareItem,publicLinkMode:this.state.publicLinkConfigMode}),this.isLoading()?this.renderProgress():this.renderContent())},t}(h.a.Component),Hc=function(e){return{currentSharees:Object(cl.selectSavedCurrentSharees)(e),currentSavedSharedItemId:Object(cl.selectSavedSharedItemId)(e),publicLink:Object(Wl.selectSavedPublicLink)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},Yc={loadItem:j.loadItem,loadPublicLinkByItem:pl.loadPublicLinkByItem,loadShareInfo:ll.loadShareInfo},Qc=Object(g.connect)(Hc,Yc)(Wc),Kc=Qc,Zc=a(4777),qc=a.n(Zc),Xc=function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(Kl,{hideModal:wa.hideModal,publicLinkMode:!1,shareItem:e.shareItem}),h.a.createElement(Wo.a,null,h.a.createElement(xn.a,{imgSrc:qc.a,subTitle:Object(Ue.j)("share.singleUserState.subtitle"),action:h.a.createElement(xn.a.Action,{onClick:function(){e.trackEvent(Ii.a.ACTIONS.LEARN_MORE,Object(Ue.j)(Ii.a.LABELS.LEARN_MORE,{shareItemType:e.shareItem.itemType})),window.open(Object(Ti.b)())},dataTest:"empty-share-singleuser-learnmore"},Object(Ue.j)("share.singleUserState.learnMore")),className:"bg-white pv4",dataTest:"share-empty-single-user"})),h.a.createElement(Wo.b,null,h.a.createElement(bn.b,{onClick:function(){e.trackEvent(Ii.a.ACTIONS.UPGRADE,Ii.a.LABELS.UPGRADE),window.location.replace(Ue.b.path.modules.react.settings)},skin:"primaryLight",icon:x.check,dataTest:"submit-modal-btn"},Object(Ue.j)("share.singleUserState.upgrade")),h.a.createElement(bn.b,{onClick:e.hideModal,skin:"secondary",dataTest:"cancel-modal-btn",icon:x.cross,className:wc.a.cancelBtn},Object(Ue.j)("share.cancel"))))},Jc={hideModal:wa.hideModal},$c=Object(g.connect)(null,Jc)(Xc),ed=Object(le.b)($c),td=a(1572),ad=Object(k.default)(ul.a).withConfig({displayName:"ShareModal__StyledBasicModal",componentId:"sc-1hbrem2-0"})(["","{overflow-y:initial;}"],Wo.a),nd=function(e){var t=e.hideModal,a=e.shareItem,n=e.multipleUsersEnabled,r=e.mode,s=void 0===r?dl.PERMISSIONS:r;return h.a.createElement(ad,{onClose:function(){t&&t()},dataTest:"share-"+a.itemType+"-modal"},n?h.a.createElement(Kc,{shareItem:a,mode:s}):h.a.createElement(ed,{shareItem:a}))},rd=function(e,t){return{multipleUsersEnabled:Object(td.selectShareMultipleUsersEnabled)(e),shareItem:Object(_t.selectItem)(e,t.shareItemType,t.shareItemId)}},sd={hideModal:wa.hideModal},od=Object(g.connect)(rd,sd)(nd);Ba.a.register(Ii.b,od);var id=Ii.b,ld=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"openShare",(function(){t.props.trackEvent(fe.f.SHARE,"intent to share "+t.props.item.itemType),t.props.showModal(id,{shareItemId:t.props.item.id,shareItemType:t.props.item.itemType,trackingCategory:Object(Ue.j)(Ii.a.CATEGORY,{shareItemType:t.props.item.itemType})})})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.onStartLoad&&this.props.onStartLoad(),e.prev=1,this.props.currentSharees){e.next=5;break}return e.next=5,this.props.loadShareInfo(this.props.item);case 5:if(!this.props.isExternalShareAllowed){e.next=8;break}return e.next=8,this.props.loadPublicLinkByItem(this.props.item);case 8:return e.prev=8,this.props.onEndLoad&&this.props.onEndLoad(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),a.render=function(){return this.props.isShareAllowed?h.a.createElement("div",{className:_()("f-sm w-100 pt3 mb3",this.props.className,gn.a["permissions-block"]),"data-test":"pp-share-info"},h.a.createElement("div",{className:"mb3 br4 items-center flex justify-between"},h.a.createElement("div",{className:"f-xs"},Object(Ue.j)("share.previewTitle")),h.a.createElement("div",{className:"f-xs"},h.a.createElement(Xe.a,{dataTest:"share-btn",size:"sm",icon:"share",type:"link",onClick:this.openShare},Object(Ue.j)("share.title")))),this.props.publicLink&&this.props.isExternalShareAllowed&&h.a.createElement(Il,{url:this.props.publicLink.url,key:this.props.publicLink.id,previewMode:!0,itemType:this.props.item.itemType,context:"preview pane"}),this.props.currentSharees&&h.a.createElement("div",{className:"mt3"},h.a.createElement(il,{readOnly:!0,shareItemType:this.props.item.itemType,currentSharees:this.props.currentSharees,key:this.props.sharesListKey}))):null},t}(h.a.Component),cd={showModal:wa.showModal,loadShareInfo:ll.loadShareInfo,loadPublicLinkByItem:pl.loadPublicLinkByItem},dd=function(e){return{currentSavedSharees:Object(cl.selectSavedCurrentSharees)(e),currentSavedSharedItemId:Object(cl.selectSavedSharedItemId)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),sharesListKey:Object(cl.selectSavedShareeListKey)(e),currentSavedPublicLink:Object(Wl.selectSavedPublicLink)(e)}},ud=function(e,t,a){return W()({},a,t,{isShareAllowed:e.isOperationAllowed(a.item,ce.a.SHARE_ITEM),isExternalShareAllowed:e.isOperationAllowed(a.item,ce.a.SHARE_EXTERNAL),currentSharees:e.currentSavedSharedItemId===a.item.id?e.currentSavedSharees:null,sharesListKey:e.sharesListKey,publicLink:e.currentSavedPublicLink})},md=Object(g.connect)(dd,cd,ud)(ld),pd=Object(le.b)(md),fd=a(569),bd=a(3980),hd=a(872),gd=a(1223);function vd(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Ed(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function Ed(e,t){if(e){if("string"==typeof e)return yd(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?yd(e,t):void 0}}function yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var jd=function(e){var t=e.value,a=void 0===t?gd.a:t,n=e.onFieldChange,r=e.name,s=e.setFieldValue,o=e.setFieldTouched,i=V()(e,["value","onFieldChange","name","setFieldValue","setFieldTouched"]),l=W()({onChangeCallback:function(e){e!==a&&(s(r,e),o(r,!0),n(r,e,a))},value:function(e){if(jr()(e))return gd.a;for(var t,a=[],n=vd(e);!(t=n()).done;){var r=t.value,s={type:r.type,children:[].concat(r.children)};a.push(s)}return a}(a),context:"wysiwyg-field"},i);return h.a.createElement(hd.WysiwygEditor,W()({isMobile:!0},l))},Od=a(151),wd=a.n(Od),Id=a(1601),Td=a.n(Id),Md=a(204),Cd=a.n(Md),Nd=function(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Unexpected error occurred. Can only update a single field. fields = '"+t.join(",")+"'");return t[0]},xd=function(e,t,a){if(!a.error_code)return null;var n=Nd(t),r=t[n];return Object(Be.b)(Y()(e)?ze.h.CREATE_ITEM:ze.h.UPDATE_ITEM,ze.n.ERROR,{item:e,itemType:e.itemType,updateType:ze.q.SET,propName:n,propValue:r,error:{payload:a}})},Ad=a(1485),Dd=a(279),Ld=function(e){var t=e.onSubmit,a=e.item,n=e.fieldsIds,r=e.icon,o=V()(e,["onSubmit","item","fieldsIds","icon"]),l=Object(b.useMemo)((function(){var e=Object(Dd.a)(a);return n?e.filter((function(e){return Td()(Cd()(n),e.id)})):e}),[a,n]),c=function(){var e=i()(s.a.mark((function e(n,r){var o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,r);case 2:return o=e.sent,i=xd(a,n,o),1===(l=Object.keys(n)).length?r.setFieldError(l[0],i):r.setError(i),e.abrupt("return",{operationStatus:i?ze.n.ERROR:ze.n.SUCCESS});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=Object(b.useMemo)((function(){return Object(Hl.m)(a,l)}),[a,l]),u=Object(b.useMemo)((function(){return wd()(a,l.map((function(e){return e.id})))}),[l]);return h.a.createElement(Ad.a,W()({initialValues:u},o,{fields:l,validationSchema:d,icon:r||a.itemType,onSubmit:c}))},Sd="UPDATE_MODAL",kd=function(e){var t,a=e.item,n=(e.trackingCategory,e.trackOperation),r=e.updateItem,o=e.submitButtonIcon,l=void 0===o?x.check:o,c=V()(e,["item","trackingCategory","trackOperation","updateItem","submitButtonIcon"]);Object(b.useEffect)((function(){return t=!0,function(){t=!1}}),[]);var d=function(){var e=i()(s.a.mark((function e(o){var i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nd(o),e.next=3,r(a,i,o[i],ze.q.SET,{showBrowseLink:!0,disableErrorToast:function(){return t}});case 3:return null!=(l=e.sent)&&l.id&&n(ze.h.UPDATE_ITEM,{fieldName:i,itemType:a.itemType}),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h.a.createElement(Ld,W()({},c,{item:a,onSubmit:d,submitButtonIcon:l}))},Pd={updateItem:j.updateItem},_d=Object(g.connect)(null,Pd)(Object(le.b)(kd));Ba.a.register(Sd,_d);var Rd=_d,Fd="EDIT_DESCRIPTION_MODAL",zd=k.default.div.withConfig({displayName:"EditDescriptionModal__StyledSubTitle",componentId:"nzld6a-0"})(["font-size:",";color:",";margin-bottom:",";"],At.a.font.size.sm,At.a.palette.contrastHigh,At.a.spacing.sm),Bd=function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(zd,null,Object(Ue.j)("editDescriptionModal.body")),h.a.createElement(jd,e))},Ud=function(e){var t=fl.c.DESCRIPTION,a={description:Bd};return h.a.createElement(Rd,W()({title:Object(Ue.j)("editDescriptionModal.header"),submitButtonLabel:Object(Ue.j)("editDescriptionModal.submitButton"),submitButtonIcon:null,fieldsIds:t,dataTest:"prompt-edit-description-dialog",fieldsInputComponents:a},e))};Ba.a.register(Fd,Ud);var Vd=k.default.div.withConfig({displayName:"CollectionDescriptionstyles__StyledHeaderRow",componentId:"sc-1b7g11n-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;"]),Gd=k.default.span.withConfig({displayName:"CollectionDescriptionstyles__StyledHeaderText",componentId:"sc-1b7g11n-1"})(["color:",";font-size:",";"],At.a.palette.contrastHigh,At.a.font.size.xs),Wd=k.default.div.withConfig({displayName:"CollectionDescriptionstyles__StyledContentRow",componentId:"sc-1b7g11n-2"})(["margin-top:",";"],At.a.spacing.xs),Hd=k.default.span.withConfig({displayName:"CollectionDescriptionstyles__StyledContentText",componentId:"sc-1b7g11n-3"})(["color:",";font-size:",";word-break:break-all;text-overflow:hidden;"],At.a.palette.contrastHigh,At.a.font.size.xxs),Yd=k.default.span.withConfig({displayName:"CollectionDescriptionstyles__StyledEmptyContentText",componentId:"sc-1b7g11n-4"})(["color:",";font-size:",";"],At.a.palette.secondaryAlt,At.a.font.size.xxs),Qd=function(e){return jr()(e)?h.a.createElement(Yd,null," ",Object(Ue.j)("collectionDescription.emptyDescription")):h.a.createElement(Hd,null," ",Object(fd.a)(e))},Kd=Object(k.default)("div").withConfig({displayName:"CollectionDescription___StyledDiv",componentId:"rwdrjh-0"})(["",""],(function(e){return e._css})),Zd=function(e){var t=e.item,a=e.wrapperStyles,n=Object(bd.a)(),r=Object(g.useDispatch)(),s=Object(g.useSelector)(Ie.selectIsItemOperationAllowed)(t,ce.a.UPDATE_ITEM),o=t.description;return h.a.createElement(Kd,{_css:a},h.a.createElement(Vd,null,h.a.createElement(Gd,null,Object(Ue.j)("collectionDescription.header")),s&&h.a.createElement(Xe.a,{size:"sm",icon:"edit",onClick:function(){r(Object(wa.showModal)(Fd,{item:t})),n(fe.f.EDIT,"intent to edit description")},type:Je.a.LINK},Object(Ue.j)("collectionDescription.editDescription"))),h.a.createElement(Wd,null,Qd(o)))},qd=Zd,Xd=function(){return Object(g.useSelector)(zt.selectCurrentCloudName)},Jd=function(e){var t=Object(b.useCallback)((function(t){return Object(Ft.selectListInProgress)(t,e)}),[e]),a=Object(b.useCallback)((function(t){return Object(Ft.selectListError)(t,e)}),[e]),n=Object(b.useCallback)((function(t){return Object(Ft.selectListItems)(t,e)}),[e]);return{isLoading:!!Object(g.useSelector)(t),error:Object(g.useSelector)(a),items:Object(g.useSelector)(n)}},$d=a(3991),eu=a(1565),tu=function(){var e=Jd(pe.m),t=e.isLoading,a=e.error,n=e.items;return{isLoading:t,error:a,item:null==n?void 0:n[0]}},au=function(e){var t=tu().item,a=Object(b.useState)(!0),n=a[0],r=a[1],o=Object(b.useState)(void 0),l=o[0],c=o[1],d=Object(b.useState)(void 0),u=d[0],m=d[1],p=Object($d.a)();return Object(b.useEffect)((function(){return r(!1),c(void 0),m(void 0),i()(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}return r(!0),t.prev=2,t.next=5,p.subscribe(Ue.a.portals.portalsOfCollection(e));case 5:a=t.sent,m(a.portals),r(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.canceled||(c(t.t0.message),r(!1));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))(),p.cancel}),[e,t]),{isLoading:n,error:l,isPartOfPortal:!(null==u||!u.some((function(e){return e.id===(null==t?void 0:t.id)})))}},nu=function(){var e=Object(g.useDispatch)(),t=tu().item,a=Object(b.useState)(!1),n=a[0],r=a[1],o=Object(b.useState)(void 0),l=o[0],c=o[1],d=Object($d.a)();return{portal:t,isSaving:n,error:l,save:function(){var a=i()(s.a.mark((function a(n){var o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r(!1),c(void 0),d.cancel(),!t){a.next=17;break}return a.prev=4,r(!0),a.next=8,d.subscribe(e(Object(eu.savePortal)(t,n)));case 8:if(null==(o=a.sent)||!o.error_code){a.next=11;break}throw new Error(o.error_code);case 11:r(!1),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),a.t0.canceled||(c(a.t0.message),r(!1));case 17:case"end":return a.stop()}}),a,null,[[4,14]])})));return function(e){return a.apply(this,arguments)}}()}},ru=function(){var e=Object(g.useDispatch)(),t=Object(b.useState)(!1),a=t[0],n=t[1],r=Object(b.useState)(void 0),o=r[0],l=r[1],c=Object($d.a)();return{isSaving:a,error:o,create:function(){var t=i()(s.a.mark((function t(a){var r,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!1),l(void 0),c.cancel(),t.prev=3,n(!0),t.next=7,c.subscribe(e(Object(eu.createPortal)(a)));case 7:if(null==(o=t.sent)||null===(r=o.payload)||void 0===r||!r.error_code){t.next=10;break}throw new Error(o.payload.error_code);case 10:return n(!1),t.abrupt("return",o);case 14:return t.prev=14,t.t0=t.catch(3),t.t0.canceled||(l(t.t0.message),n(!1)),t.abrupt("return",void 0);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()}},su=function(e){var t=Object(g.useDispatch)(),a=tu().item;return{addToPortal:function(){return a&&t(Object(eu.addCollectionToPortal)(e,a))},removeFromPortal:function(){return a&&t(Object(eu.removeCollectionFromPortal)(e,a))}}},ou=function(e,t){return t?"-staging":"production"===e?"":"-"+e},iu=function(){return Ue.b.env},lu=function(){return Object({NODE_ENV:"production",INTERCOM_APP_ID:"avmr5b6h",DEV_WITH_STAGING_BACKEND:!1,AUTOMATION:!1,TRANSLATIONS:["src/components/AssetPermissionIcon/AssetPermission.translations.js","src/components/DateRangePicker/DateRangePicker.translations.js","src/components/FilterableDataTable/FilterableDataTable.translations.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.translations.js","src/core/Components/Item/Container/PreviewPane/ContainerPreviewPane.translations.js","src/core/Components/Item/Folder/Modal/MoveModal/FolderMoveModal.translations.js","src/core/Components/Item/Folder/Modal/RenameModal/FolderRenameModal.translations.js","src/core/Components/Item/Item/Modal/CreateItemModal/CreateItemModal.translations.js","src/core/Components/Item/Item/Modal/MoveModal/MoveModal.translations.js","src/core/Components/Item/Item/Modal/RenameModal/RenameModal.translations.js","src/core/Components/Item/MetadataField/PreviewPane/MetadataFieldPreviewPane.translations.js","src/core/Components/Modal/FormModal/FormModal.translations.js","src/core/Components/PreviewPane/CollectionDescription/CollectionDescription.translations.js","src/core/Components/PreviewPane/CollectionDescription/EditDescriptionModal/EditDescriptionModal.translations.js","src/core/Components/PreviewPane/PortalInfo/PortalInfo.translations.js","src/modules/Core/ButtonWithModal/ButtonWithModal.translations.js","src/modules/Core/CmsUsageStats/CmsUsageStats.translations.js","src/modules/Core/CopyText/CopyText.translations.js","src/modules/Core/CopyUrl/CopyUrl.translations.js","src/modules/Core/EmptyPage/EmptyPage.translations.js","src/modules/Core/layouts/MainLayout/MainLayout.translations.js","src/modules/Core/LogInExpiration/LogInExpirationDialog.translations.js","src/modules/Core/ModalDialog/ConfirmDialog/ConfirmDialog.translations.js","src/modules/Core/ModalDialog/ModalDialog.translations.js","src/modules/Core/ToastManager/ToastManager.translations.js","src/modules/Core/Video/Video.translations.js","src/modules/MainBar/HelpBlock/HelpBlock.translations.js","src/modules/MainBar/MainBar.translations.js","src/modules/MainBar/ProductUpdatesBlock/ProductUpdatesBlock.translations.js","src/modules/MainBar/SettingsBlock/SettingsBlock.translations.js","src/modules/MainBar/UserBlock/UserBlock.translations.js","src/modules/MediaLibrary/AddAssetsToCollection/AddAssetsToCollection.translations.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.translations.js","src/modules/MediaLibrary/AdvancedSearch/ImageTab/ImageTabPromotion.translations.js","src/modules/MediaLibrary/AdvancedSearch/SearchBox/SearchBox.translations.js","src/modules/MediaLibrary/AdvancedSearch/SearchByMetadata/SearchByMetadata.translations.js","src/modules/MediaLibrary/AssetActivity/AssetActivity.translations.js","src/modules/MediaLibrary/AssetCard/AssetCard.translations.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.translations.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/SummaryTab/SummaryTab.translations.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownTopBar/AssetDrilldownTopBar.translations.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentsPane.translations.js","src/modules/MediaLibrary/AssetDrilldown/MediaEditor/MediaEditor.translations.js","src/modules/MediaLibrary/AssetDrilldown/MediaEditor/MediaEditorWidget.translations.js","src/modules/MediaLibrary/AssetExif/AssetExif.translations.js","src/modules/MediaLibrary/AssetMetadata/AssetMetadata.translations.js","src/modules/MediaLibrary/AssetProperties/AssetProperties.translations.js","src/modules/MediaLibrary/AssetsKindDropdown/AssetsKindDropdown.translations.js","src/modules/MediaLibrary/ContainerCard/ContainerCard.translations.js","src/modules/MediaLibrary/Context/Context.translations.js","src/modules/MediaLibrary/DeleteContainerModal/DeleteContainerModal.translations.js","src/modules/MediaLibrary/Folders/Folders.translations.js","src/modules/MediaLibrary/Grids/CollectionsGrid/CollectionsGrid.translations.js","src/modules/MediaLibrary/Grids/Grid.translations.js","src/modules/MediaLibrary/Grids/GridViewToolbar/Breadcrumbs/Breadcrumbs.translations.js","src/modules/MediaLibrary/Grids/GridViewToolbar/GridViewToolbar.translations.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NavigationMenu/NavigationMenu.translations.js","src/modules/MediaLibrary/ItemOperations/ItemOperationsMenu.translations.js","src/modules/MediaLibrary/ItemTitle/ItemTitle.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/AuditReport/AuditReportDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/CustomAction/CustomActionDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Customer/CustomerDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Portal/PortalConfigDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Portal/PortalDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Preference/PreferenceDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/PublicLink/PublicLinkDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Transformation/TransformationDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/UserGroup/UserGroupDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Version/VersionDescriptor.translations.js","src/modules/MediaLibrary/MediaLibrary.translations.js","src/modules/MediaLibrary/Modals/Modals.translations.js","src/modules/MediaLibrary/ModifyItemNameDialog/UpdateItemNameDialog.translations.js","src/modules/MediaLibrary/MoveAsset/MoveAsset.translations.js","src/modules/MediaLibrary/PanelHeader/PanelHeader.translations.js","src/modules/MediaLibrary/RemoveAssetsFromCollection/RemoveAssetsFromCollectionModal.translations.js","src/modules/MediaLibrary/Selection/BulkOperations/OperationPopover/BulkUpdateMetadataModal/BulkUpdateMetadataModal.translations.js","src/modules/MediaLibrary/Selection/Selection.translations.js","src/modules/MediaLibrary/ShareModal/ShareBlock/ShareBlock.translations.js","src/modules/MediaLibrary/ShareModal/SharePublicLinkConfig/SharePublicLinkConfig.translations.js","src/modules/MediaLibrary/TagsDrop/TagsDrop.translations.js","src/modules/MediaLibrary/Upload/Upload.translations.js","src/modules/MediaLibrary/Upload/UploadButton/UploadButton.translations.js","src/modules/MediaLibrary/Upload/UploadReview/UploadReview.translations.js","src/modules/MediaLibrary/Upload/UploadWidget.translations.js","src/modules/MediaLibrary/Views/AuditReportsView/AuditReportsView.translations.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.translations.js","src/modules/MediaLibrary/Views/CustomActionsManageView/components/Form/CustomActionsForm.translations.js","src/modules/MediaLibrary/Views/CustomActionsManageView/CustomActionsManageView.translations.js","src/modules/MediaLibrary/Views/MetadataFieldsView/MetadataFieldsView.translations.js","src/modules/MediaLibrary/Views/ModerationView/EmptyModeration/EmptyModeration.translations.js","src/modules/MediaLibrary/Views/ModerationView/ModerationView.translations.js","src/modules/MediaLibrary/Views/NavigationView/EmptyFolder/EmptyFolder.translations.js","src/modules/MediaLibrary/Views/NavigationView/NavigationView.translations.js","src/modules/MediaLibrary/Views/PortalsView/PortalsView.translations.js","src/modules/MediaLibrary/Views/PreferencesView/PreferencesView.translations.js","src/modules/MediaLibrary/Views/RecentUploadView/RecentUploadView.translations.js","src/modules/MediaLibrary/Views/SearchView/EmptySearch/EmptySearch.translations.js","src/modules/OnBoarding/OnBoarding.translations.js"],REDUCERS:["src/modules/Core/Core.reducers.js","src/modules/Core/DropdownManager/DropdownManager.reducers.js","src/modules/Core/Intercom/Intercom.reducers.js","src/modules/Core/layouts/MainLayout/Notifications/Notifications.reducers.js","src/modules/Core/ModalDialog/ModalDialog.reducers.js","src/modules/Core/OperationsInProgress/OperationsInProgress.reducers.js","src/modules/Core/PopoverManager/PopoverManager.reducers.js","src/modules/Core/UserPreferences/UserPreferences.reducers.js","src/modules/Dashboard/Dashboard.reducers.js","src/modules/Identity/Identity.reducers.js","src/modules/MainBar/MainBar.reducers.js","src/modules/MainIFrame/MainIFrame.reducers.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.reducers.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.reducers.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/AnalysisTab.reducers.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/TagsPanel/TagsPanel.reducers.js","src/modules/MediaLibrary/CmsConfig/CmsConfig.reducers.js","src/modules/MediaLibrary/Context/Context.reducers.js","src/modules/MediaLibrary/FoldersPane/FoldersPane.reducers.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.reducers.js","src/modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.reducers.js","src/modules/MediaLibrary/Grids/GridView.reducers.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NavigationMenu/NavigationMenu.reducers.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NewSearch/NewSearch.reducers.js","src/modules/MediaLibrary/ItemTitle/ItemTitle.reducers.js","src/modules/MediaLibrary/MediaLibrary.reducers.js","src/modules/MediaLibrary/RecentItems/RecentItems.reducers.js","src/modules/MediaLibrary/Selection/BulkOperations/DownloadSelection/DownloadSelection.reducers.js","src/modules/MediaLibrary/Selection/Selection.reducers.js","src/modules/MediaLibrary/ShareModal/ShareInfos/ShareInfos.reducers.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.reducers.js","src/modules/OnBoarding/OnBoarding.reducers.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.reducers.js","src/core/Data/Items/Items.reducers.js","src/core/Data/Lists/Lists.reducers.js"],MIDDLEWARE:["src/modules/Core/Core.middleware.js","src/modules/Core/Fullstory/Fullstory.middleware.js","src/modules/Core/Intercom/Intercom.middleware.js","src/modules/Core/ToastManager/ToastManager.middleware.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.middleware.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.middleware.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.middleware.js","src/modules/MediaLibrary/FoldersTree/FoldersTree.middleware.js","src/modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.middleware.js","src/modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.middleware.js","src/modules/MediaLibrary/MediaLibrary.middleware.js","src/modules/MediaLibrary/RecentItems/RecentItems.middleware.js","src/modules/MediaLibrary/Selection/BulkOperations/OperationPopover/BulkUpdateMetadataModal/BulkUpdateMetadataModal.middleware.js","src/modules/MediaLibrary/Views/MetadataFieldsView/MetadataFieldsView.middleware.js","src/modules/MediaLibrary/Views/NavigationView/NavigationView.middleware.js","src/modules/MediaLibrary/Views/RecentUploadView/RecentUploadsView.middleware.js","src/core/Data/Lists/Lists.middleware.js"],SERIALIZERS:["src/modules/MediaLibrary/ItemTypesDescriptors/Portal/PortalDescriptor.serializers.js","src/modules/MediaLibrary/ItemTypesDescriptors/Transformation/TransformationDescriptor.serializers.js","src/modules/MediaLibrary/MediaLibrary.serializers.js"],ACTIONS:["src/modules/Core/Core.actions.js","src/modules/Core/DropdownManager/DropdownManager.actions.js","src/modules/Core/Intercom/Intercom.actions.js","src/modules/Core/layouts/MainLayout/Notifications/Notifications.actions.js","src/modules/Core/ModalDialog/ModalDialog.actions.js","src/modules/Core/OperationsInProgress/OperationsInProgress.actions.js","src/modules/Core/PopoverManager/PopoverManager.actions.js","src/modules/Core/UserPreferences/UserPreferences.actions.js","src/modules/Identity/Identity.actions.js","src/modules/MainBar/MainBar.actions.js","src/modules/MainBar/UserBlock/UserBlock.actions.js","src/modules/MainIFrame/MainIFrame.actions.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.actions.js","src/modules/MediaLibrary/AdvancedSearch/SearchByFolder/CloseableFolder.actions.js","src/modules/MediaLibrary/AssetContext/AssetContext.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/AnalysisTab.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/TagsPanel/TagsPanel.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/SummaryTab/SummaryTab.actions.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentEditorWrapper/CommentEditor/CommentEditor.actions.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentsPane.actions.js","src/modules/MediaLibrary/AssetExif/AssetExif.actions.js","src/modules/MediaLibrary/AssetTags/AssetTags.actions.js","src/modules/MediaLibrary/CmsConfig/CmsConfig.actions.js","src/modules/MediaLibrary/Context/Context.actions.js","src/modules/MediaLibrary/CustomActions/Callbacks/CustomActionCallbacks.actions.js","src/modules/MediaLibrary/CustomActions/CustomAction.actions.js","src/modules/MediaLibrary/Data/Item.actions.js","src/modules/MediaLibrary/Folders/Folders.actions.js","src/modules/MediaLibrary/FoldersPane/FoldersPane.actions.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.actions.js","src/modules/MediaLibrary/FoldersTree/FoldersTree.actions.js","src/modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.actions.js","src/modules/MediaLibrary/Grids/GridView.actions.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NewSearch/NewSearch.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataField.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Portal/Portal.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Preference/Preference.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/PublicLink/PublicLink.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Version/VersionDescriptor.actions.js","src/modules/MediaLibrary/MediaLibrary.actions.js","src/modules/MediaLibrary/MoveAsset/MoveAsset.actions.js","src/modules/MediaLibrary/RecentItems/RecentItems.actions.js","src/modules/MediaLibrary/Selection/BulkOperations/DownloadSelection/DownloadSelection.actions.js","src/modules/MediaLibrary/Selection/BulkOperations/MoveAssets/MoveAssetsPopover.actions.js","src/modules/MediaLibrary/Selection/Selection.actions.js","src/modules/MediaLibrary/ShareModal/ShareBlock/ShareBlock.actions.js","src/modules/MediaLibrary/ShareModal/ShareInfos/ShareInfos.actions.js","src/modules/MediaLibrary/ShareModal/SharePublicLinkConfig/GeneratePublicLinkSection.actions.js","src/modules/MediaLibrary/Upload/Upload.actions.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.actions.js","src/modules/MediaLibrary/Views/CustomActionsManageView/CustomActionsManage.actions.js","src/modules/MediaLibrary/Views/PreferencesView/PreferencesView.actions.js","src/modules/MediaLibrary/Views/SearchView/SearchView.actions.js","src/modules/OnBoarding/OnBoarding.actions.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.actions.js","src/core/Components/Item/Folder/Field/FolderIdSelector.actions.js","src/core/Data/Items/Items.actions.js","src/core/Data/Lists/Lists.actions.js","src/core/Data/ListsManager/ListsManager.actions.js"],SELECTORS:["src/modules/Core/Core.selectors.js","src/modules/Core/DropdownManager/DropdownManager.selectors.js","src/modules/Core/Intercom/Intercom.selectors.js","src/modules/Core/layouts/MainLayout/Notifications/Notifications.selectors.js","src/modules/Core/ModalDialog/ModalDialog.selectors.js","src/modules/Core/OperationsInProgress/OperationsInProgress.selectors.js","src/modules/Core/PopoverManager/PopoverManager.selectors.js","src/modules/Identity/Identity.selectors.js","src/modules/MainBar/MainBar.selectors.js","src/modules/MainBar/ModuleNavigation/ClassicTabs/ClassicTabs.selectors.js","src/modules/MainIFrame/MainIFrame.selectors.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.selectors.js","src/modules/MediaLibrary/AdvancedSearch/SearchByFolder/ClodeableFolder.selectors.js","src/modules/MediaLibrary/AdvancedSearch/SearchByMetadata/SearchByMetadata.selectors.js","src/modules/MediaLibrary/AssetAccess/AssetAccess.selectors.js","src/modules/MediaLibrary/AssetDisplay/AssetDisplay.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/AnalysisTab.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/FacesPanels/FacesPanels.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/OCRPanel/OCRPanel.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/TagsPanel/TagsPanel.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownTemplates/AssetDrilldownTemplates.selectors.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentsPane.selectors.js","src/modules/MediaLibrary/AssetDrilldown/MediaEditor/MediaEditor.selectors.js","src/modules/MediaLibrary/CmsConfig/CmsConfig.selectors.js","src/modules/MediaLibrary/CustomActions/CustomAction.selectors.js","src/modules/MediaLibrary/Data/Collection/Collection.selectors.js","src/modules/MediaLibrary/Data/Item.selectors.js","src/modules/MediaLibrary/Data/Portal/Portal.selectors.js","src/modules/MediaLibrary/Folders/Folders.selectors.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.selectors.js","src/modules/MediaLibrary/FoldersTree/FoldersTree.selectors.js","src/modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.selectors.js","src/modules/MediaLibrary/Grids/GridView.selectors.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NewSearch/NewSearch.selectors.js","src/modules/MediaLibrary/Grids/TopBar/TopBar.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/CustomAction/CustomActionDescriptor.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/Customer/Customer.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataField.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/PublicLink/PublicLink.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/Version/VersionDescriptor.data.selectors.js","src/modules/MediaLibrary/MediaLibrary.selectors.js","src/modules/MediaLibrary/RecentItems/RecentItems.selectors.js","src/modules/MediaLibrary/Selection/Selection.selectors.js","src/modules/MediaLibrary/ShareModal/ShareBlock/ShareBlock.selectors.js","src/modules/MediaLibrary/ShareModal/ShareInfos/ShareInfos.selectors.js","src/modules/MediaLibrary/ShareModal/ShareModal.selectors.js","src/modules/MediaLibrary/Upload/Upload.selectors.js","src/modules/MediaLibrary/Upload/UploadReview/UploadReview.selectors.js","src/modules/MediaLibrary/Views/AuditReportsView/AuditReportsView.selectors.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.selectors.js","src/modules/MediaLibrary/Views/CollectionView/CollectionView.selectors.js","src/modules/MediaLibrary/Views/ModerationView/ModerationView.selectors.js","src/modules/MediaLibrary/Views/NavigationView/NavigationView.selectors.js","src/modules/MediaLibrary/Views/PreferencesView/PreferencesView.selectors.js","src/modules/MediaLibrary/Views/SearchView/SearchView.selectors.js","src/modules/OnBoarding/OnBoarding.selectors.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.selectors.js","src/core/Data/Items/Items.selectors.js","src/core/Data/Lists/Lists.selectors.js","src/core/Data/ListsManager/ListsManager.selectors.js"],VERSION:"1142"}).DEV_WITH_STAGING},cu=function(){return"https://portal"+ou(iu(),"true"===lu())+".cloudinary.com"},du=function(e,t){return cu()+"/"+t+"/"+e},uu=function(e,t){return window.open(du(e,t),"_blank","noopener")},mu=function(e,t){return window.open(Object(be.e)(e),"_blank","noopener")},pu=a(10),fu=a.n(pu),bu=k.default.div.withConfig({displayName:"PortalInfo__HeaderRow",componentId:"sc-14rqal1-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),hu=k.default.span.withConfig({displayName:"PortalInfo__HeaderText",componentId:"sc-14rqal1-1"})(["font-size:12px;line-height:32px;color:",";"],tt.o),gu=k.default.div.withConfig({displayName:"PortalInfo__ContentRow",componentId:"sc-14rqal1-2"})(["margin-top:8px;display:flex;flex-direction:row;justify-content:center;align-items:center;"]),vu=k.default.span.withConfig({displayName:"PortalInfo__ContentTextWrapper",componentId:"sc-14rqal1-3"})(["display:flex;flex-direction:column;"]),Eu=k.default.span.withConfig({displayName:"PortalInfo__ContentText",componentId:"sc-14rqal1-4"})(["font-size:14px;line-height:17px;color:",";"],tt.o),yu=k.default.div.withConfig({displayName:"PortalInfo__ContentIcon",componentId:"sc-14rqal1-5"})(["border-radius:100%;padding:8px;margin:0 8px;background:",";path{fill:",";}"],(function(e){return e.inPortal?tt.a:"#e4ebf0"}),(function(e){return e.inPortal?tt.h:tt.n})),ju=k.default.a.withConfig({displayName:"PortalInfo__PortalLink",componentId:"sc-14rqal1-6"})(["font-size:12px;line-height:14px;margin-top:8px;"]),Ou=function(e){var t=e.brandPortalUrl,a=e.onAddToPortal,n=e.onRemoveFromPortal,r=!!t;return h.a.createElement("div",null,h.a.createElement(bu,null,h.a.createElement(hu,null,Object(Ue.j)("portalInfo.header")),h.a.createElement(Xe.a,{size:"sm",icon:r?"sharePublicURLOff":"sharePublicURL",onClick:r?n:a,type:"link"},r?Object(Ue.j)("portalInfo.removeFromPortal"):Object(Ue.j)("portalInfo.addToPortal"))),h.a.createElement(gu,null,h.a.createElement(yu,{inPortal:r},h.a.createElement(ee.a,{color:"gray-60",path:r?x.sharePublicURL:x.sharePublicURLCrossed})),h.a.createElement(vu,null,h.a.createElement(Eu,null,r?Object(Ue.j)("portalInfo.inPortal"):Object(Ue.j)("portalInfo.notInPortal")),r&&h.a.createElement(ju,{href:t,target:"_blank",rel:"noreferrer noopener"},t))))};Ou.propTypes={brandPortalUrl:fu.a.string,onAddToPortal:fu.a.func.isRequired,onRemoveFromPortal:fu.a.func.isRequired};var wu=Ou,Iu=Object(k.default)("div").withConfig({displayName:"ConnectedPortalInfo___StyledDiv",componentId:"sc-1mw7zx8-0"})(["",""],(function(e){return e._css})),Tu=function(e){var t=e.collectionId,a=e.wrapperStyles,n=Xd(),r=tu().item,s=au(t).isPartOfPortal,o=su(t),i=o.addToPortal,l=o.removeFromPortal;if(!r)return null;var c=s&&r?du(r.deliveryName,n):null;return h.a.createElement(Iu,{_css:a},h.a.createElement(wu,{brandPortalUrl:c,onAddToPortal:i,onRemoveFromPortal:l}))},Mu=Tu,Cu=a(263),Nu=a.n(Cu),xu=a(3874),Au=a.n(xu),Du={resourceCount:St.l,totalBytes:St.f,createdAt:St.g,lastUploadedAt:St.g,lastModifiedAt:St.g},Lu=function(e,t){var a=_()("mb3 flex justify-between",gn.a[e+"-attr"]);return t?h.a.createElement("div",{className:a,key:e},h.a.createElement("div",{className:"f-xs"},Object(Ue.j)("previewPane.container.attr."+e)),h.a.createElement("div",{className:"f-sm w-60","data-test":e+"-attr"},t)):null},Su=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.loadAggregationsInfo()},a.componentDidUpdate=function(e){this.props.item.id===e.item.id&&this.props.aggregationsInfo||this.loadAggregationsInfo()},a.loadAggregationsInfo=function(){if(!this.props.inProgress&&Nu()(this.props.aggregationsInfo)){this.props.onStartLoad&&this.props.onStartLoad();try{this.props.loadItem(this.props.item.itemType,this.props.item.id,{forceLoad:!0,apiOptions:{propTypes:ze.b.AGGREGATION}})}finally{this.props.onEndLoad&&this.props.onEndLoad()}}},a.render=function(){var e=this;return this.props.aggregationsInfo?h.a.createElement(b.Fragment,null,Object.keys(Du).map((function(t){var a=e.props.aggregationsInfo[t],n=Du[t];return null!=a?Lu(t,n(a)):null}))):null},t}(b.Component),ku={loadItem:j.loadItem,showModal:wa.showModal},Pu=function(e){return Au()(e,[ze.b.AGGREGATION,"totalBytes"])?e[ze.b.AGGREGATION]:null},_u=function(e,t){return{aggregationsInfo:Pu(Object(_t.selectItem)(e,t.item.itemType,t.item.id)),inProgress:Object(_t.selectItemInProgress)(e,t.item.itemType,t.item.id)}},Ru=Object(g.connect)(_u,ku)(Su),Fu=Ru,zu=a(1564),Bu=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{thumbnailsLoaded:0}),p()(c()(t),"renderPlaceHolder",(function(){return h.a.createElement(ee.a,{size:"xxl",path:x[t.props.itemType],color:"gray-60"})})),t}u()(t,e);var a=t.prototype;return a.getTransformation=function(e){var t=Math.ceil(T/e);return btoa("w_"+t+",h_88,c_thumb")},a.render=function(){var e=this;return h.a.createElement("div",{className:"flex bg-gray-40 h-100 items-center justify-center"},this.state.thumbnailsLoaded!==this.props.collageAssets.length&&this.renderPlaceHolder(),h.a.createElement("div",{className:_()(this.props.className,"flex-grow items-center justify-center",{dn:this.state.thumbnailsLoaded!==this.props.collageAssets.length,flex:this.state.thumbnailsLoaded===this.props.collageAssets.length}),"data-test":"container-preview-thumbnail"},this.props.collageAssets.length>0?h.a.createElement(b.Fragment,null,this.props.collageAssets.map((function(t){return h.a.createElement(yn.a,{asset:t,key:t.resource_id,variant:ur.a.CONTAINER_THUMBNAIL+"/"+e.getTransformation(e.props.collageAssets.length),currentCustomer:e.props.currentCustomer,onLoad:function(){e.setState({thumbnailsLoaded:e.state.thumbnailsLoaded+1})}})}))):this.renderPlaceHolder()))},t}(h.a.Component),Uu=function(e){return{currentCustomer:Object(zt.selectCurrentCustomer)(e)}},Vu=Object(g.connect)(Uu,{})(Bu),Gu=Vu,Wu=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{collageAssets:[]}),p()(c()(t),"mounted",!0),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setCollageAssets();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.componentDidUpdate=function(){var e=i()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.item.id===this.props.item.id){e.next=3;break}return e.next=3,this.setCollageAssets();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.componentWillUnmount=function(){this.mounted=!1},a.setCollageAssets=function(){var e=i()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mounted){e.next=12;break}return this.setState({collageAssets:[]}),e.prev=2,e.next=5,this.props.getCollageAssets(this.props.item);case 5:t=e.sent,this.mounted&&this.setState({collageAssets:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({collageAssets:[]});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),a.render=function(){var e=_()(gn.a.slide,"bg-black w-100"),t=this.props;return h.a.createElement("div",{"data-test":"container-item-preview"},h.a.createElement("div",{className:"carousel"},h.a.createElement("div",{className:"mask"},h.a.createElement("div",{className:"flex fl w-100"},h.a.createElement("div",{className:e},t.shouldDisplayThumbnail&&h.a.createElement(Gu,{key:t.item.id,collageAssets:this.state.collageAssets,className:t.className,itemType:t.item.itemType}))))))},t}(h.a.Component),Hu=function(e,t){return{shouldDisplayThumbnail:Object(En.selectShouldDisplayThumbnail)(e,t.item.id,t.item.itemType)}},Yu={getCollageAssets:zu.getCollageAssets},Qu=Object(g.connect)(Hu,Yu)(Wu),Ku=Qu,Zu="\n    padding-top: 16px;\n    margin-bottom: 16px;\n    border-top: 1px solid #c6d1db;\n",qu=Object(k.css)(["& >:last-child{margin-bottom:3.5em;}"]),Xu=Object(k.default)(pd).withConfig({displayName:"ContainerPreviewPane__StyledPreviewPaneShareInfo",componentId:"sc-1ectf7m-0"})(["@media screen and (min-width:","){","}"],wi.b,(function(e){return e.isIntercomWidgetDisplayed&&qu})),Ju=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{loadingAggregations:!1,loadingShareInfo:!1}),p()(c()(t),"getCollectionDescription",(function(e){var a=t.props.loadItem;e.itemType===fl.e&&a(fl.e,e.id,{forceLoad:!0})})),p()(c()(t),"onStartLoadAggregations",(function(){!t.unmounted&&t.setState(W()({},t.state,{loadingAggregations:!0}))})),p()(c()(t),"onEndLoadAggregations",(function(){!t.unmounted&&t.setState(W()({},t.state,{loadingAggregations:!1}))})),p()(c()(t),"onStartLoadShareInfo",(function(){!t.unmounted&&t.setState(W()({},t.state,{loadingShareInfo:!0}))})),p()(c()(t),"onEndLoadShareInfo",(function(){!t.unmounted&&t.setState(W()({},t.state,{loadingShareInfo:!1}))})),p()(c()(t),"isLoading",(function(){return t.state.loadingAggregations||t.state.loadingShareInfo})),p()(c()(t),"unmounted",!1),p()(c()(t),"shouldReloadItem",(function(){var e=t.props.item;return e.itemType===he.c&&!Y()(e.path)})),t}u()(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.unmounted=!0},a.componentDidUpdate=function(e){var t=this.props.item;e.item.id!==t.id&&this.getCollectionDescription(t)},a.componentDidMount=function(){var e=this.props.item;this.getCollectionDescription(e)},a.render=function(){var e=this.props.item,t=e.itemType===fl.e,a=t?x.person:Object(N.c)(e),n=t&&this.props.isPortalEnabled,r=this.shouldReloadItem();return h.a.createElement(z,null,h.a.createElement(ut,{canRename:e.itemType!==he.c&&this.props.isOperationAllowed(e,ce.a.RENAME_ITEM),item:this.props.item,icon:a||"",onClose:this.props.onClose,progress:r}),h.a.createElement(B,null,h.a.createElement(Ku,{item:e}),h.a.createElement("div",{className:"pa3"},this.isLoading()&&h.a.createElement(ji.a,{className:gn.a.progress}),h.a.createElement("div",{className:this.isLoading()?"dn":""},h.a.createElement(Fu,{item:e,onStartLoad:this.onStartLoadAggregations,onEndLoad:this.onEndLoadAggregations}),t&&h.a.createElement(qd,{wrapperStyles:Zu,item:e}),n&&h.a.createElement(Mu,{collectionId:e.id,wrapperStyles:Zu}),h.a.createElement(Xu,{item:e,key:e.id,onStartLoad:this.onStartLoadShareInfo,onEndLoad:this.onEndLoadShareInfo,isIntercomWidgetDisplayed:this.props.isIntercomWidgetDisplayed})))))},t}(h.a.Component),$u=function(e){return{isPortalEnabled:Object(zt.isCapabilityEnabled)(e,fe.i.PORTALS),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),isIntercomWidgetDisplayed:Object(Oi.selectIsIntercomWidgetDisplayed)(e)}},em={loadItem:j.loadItem},tm=Object(g.connect)($u,em)(Ju),am=tm;gi(he.c,am),gi(fl.e,am);var nm=a(275),rm=a.n(nm),sm=a(3875),om=a.n(sm),im=a(15),lm=a.n(im),cm=a(71),dm=a(3876),um=a.n(dm),mm=a(1555),pm=a.n(mm),fm=function e(t){if(null==t)return[];if(t.type===ze.g.AND){var a=t;return pm()(a.rules.map(e))}return[t]},bm=function(e,t){return e.find((function(e){return e.type===t}))},hm=function(e,t,a){var n=t.filter((function(e){return!e.id}));return n.length?a(e,"datasource",n,ze.q.ADD):a(e,"datasource",t,ze.q.SET)},gm=function(e){return e.when("mandatory",{is:!0,then:function(e){return e.test("is-mandatory","The default value is required for mandatory fields",Em)},otherwise:function(e){return e.nullable()}})},vm=function(e){return""!==e&&null!=e},Em=function(e){return""!==e&&null!=e},ym=function(e){return!vm(e)},jm=function(e){return!Em(e)},Om=a(75),wm=function(e){return new Date(e).getTime()||0},Im=Om.f((function(e){var t=e.ltEqual,a=e.gtEqual,n=e.ltValue,r=e.gtValue,s=jm(r),o=jm(n),i=jm(e.defaultValue),l=s||o,c=wm(r),d=wm(n),u=wm(e.defaultValue);return Om.i().shape({gtEqual:Om.d(),ltEqual:Om.d(),mandatory:Om.d(),defaultValue:gm(Om.e()).typeError(Object(Ue.j)("assetMetadata.validations.date.invalidType")).test({name:"isDefaultAboveLowerBound",message:Object(Ue.j)("assetMetadata.validations.date.moreThan",{more:Ta()(new Date(c),ze.c)}),test:function(){return i||s||a||u>c}}).test({name:"isDefaultAboveOrEqualLowerBound",message:Object(Ue.j)("assetMetadata.validations.date.min",{min:Ta()(new Date(c),ze.c)}),test:function(){return i||s||u>=c}}).test({name:"isDefaultBelowUpperBound",message:Object(Ue.j)("assetMetadata.validations.date.lessThan",{less:Ta()(new Date(d),ze.c)}),test:function(){return i||o||t||u<d}}).test({name:"isDefaultBelowOrEqualUpperBound",message:Object(Ue.j)("assetMetadata.validations.date.max",{max:Ta()(new Date(d),ze.c)}),test:function(){return i||o||u<=d}}),gtValue:Om.e().typeError(Object(Ue.j)("assetMetadata.validations.date.invalidType")).test({name:"isBelowUpperBound",message:Object(Ue.j)("assetMetadata.validations.date.lessThan",{less:Ta()(new Date(d),ze.c)}),test:function(){return l||t||c<d}}).test({name:"isBelowOrEqualUpperBound",message:Object(Ue.j)("assetMetadata.validations.date.max",{max:Ta()(new Date(d),ze.c)}),test:function(){return l||c<=d}}),ltValue:Om.e().typeError(Object(Ue.j)("assetMetadata.validations.date.invalidType")).test({name:"isAboveLowerBound",message:Object(Ue.j)("assetMetadata.validations.date.moreThan",{more:Ta()(new Date(c),ze.c)}),test:function(){return l||a||d>c}}).test({name:"isAboveOrEqualLowerBound",message:Object(Ue.j)("assetMetadata.validations.date.min",{min:Ta()(new Date(c),ze.c)}),test:function(){return l||d>=c}})})})),Tm=Object(k.default)((function(e){var t=e.children,a=V()(e,["children"]);return h.a.createElement("div",a,h.a.createElement(ee.a,{path:x.warning,color:"destructive",size:"xs"}),t)})).withConfig({displayName:"Error__ErrorRenderer",componentId:"sc-16nmxt2-0"})(["padding-top:0.2em;color:#f44235;display:flex;align-items:center;& >:first-child{margin-right:0.3em;}"]),Mm=function(e){var t=e.errors,a=e.touched,n=Object.keys(t);return n.length&&(n.find((function(e){return a[e]}))||n[0])||null},Cm=Object(Or.connect)((function(e){var t=e.name,a=e.formik,n=V()(e,["name","formik"]);return t===Mm(a)?h.a.createElement(Tm,n,a.errors[t]):null})),Nm=arguments,xm=function(e){var t=function(t){var a=t.onApply,n=t.onBlur,r=V()(t,["onApply","onBlur"]);return h.a.createElement(e,W()({onBlur:function(){var e=i()(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=t.target.value),e.next=3,a&&a(r,t.target);case 3:n&&n(Nm);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},r))};return t.displayName="withApplyOnBlur("+(e.displayName||e.name||"Component")+")",t},Am=function(e){if(!e)return null;if(!/[0-9]{4}-[0-9]{2}-[0-9]{2}/.test(e))return e;var t=new Date(e);if(!isNaN(t.getTime())){var a=new Date(t.getTime()+60*t.getTimezoneOffset()*1e3);return Ta()(a,ze.c)}return e},Dm=function(e){return e?Ta()(new Date(e),ze.o):null},Lm=Object(k.css)(["border-color:",";background-color:",";color:",";"],tt.m,tt.l,tt.n),Sm=Object(k.css)(["color:",";border-color:#51a3ff;"],tt.r),km=(Object(k.css)([""," .Select-value{background-color:",";color:",";border:0;.Select-value-label{color:",";}}.Select-arrow{border-color:"," transparent transparent;}"],Lm,tt.l,tt.n,tt.o,tt.n),Object(k.css)(["border:1px solid ",";border-radius:5px;height:30px;background-color:",";&:disabled{","}&:focus,&:focus-within{color:",";border-color:",";}&:not(:focus){color:",";}"],tt.n,tt.k,Lm,tt.r,tt.c,tt.r));function Pm(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_m(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function _m(e,t){if(e){if("string"==typeof e)return Rm(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Rm(e,t):void 0}}function Rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Fm=xm((function(e){var t=e.className,a=e.fieldName,n=e.placeholder,r=e.onChange,s=e.onBlur,o=V()(e,["className","fieldName","placeholder","onChange","onBlur"]),i=Object(b.useRef)();Object(b.useEffect)((function(){var e=i.current.input.parentElement,t=new MutationObserver((function(e){for(var t,a=Pm(e);!(t=a()).done;){t.value.addedNodes.length&&c()}}));return t.observe(e,{childList:!0}),function(){return t.disconnect()}}),[i]);var l=function(){var e=i.current.getDayPicker().dayPicker.parentElement,t=i.current.getInput().parentElement.parentElement,a=t.offsetParent,n=a.classList.contains("with-notification")?a.offsetParent:a,r=t.getBoundingClientRect(),s=r.width,o=r.height,l=e.getBoundingClientRect(),c=l.right,d=l.bottom,u=l.left,m=l.height,p=l.width,f=n.getBoundingClientRect(),b=f.right,h=d>f.bottom,g=u<f.left;c>b&&(e.style.left=s-p-Bm+"px"),h&&(e.style.top="-"+(m-e.offsetTop+o)+"px"),g&&(e.style.left=-Bm+"px")},c=function(){requestAnimationFrame(l)},d=function(){i.current.input.focus(),i.current.showDayPicker()};return h.a.createElement(Or.Field,{name:a,render:function(e){var l=e.field,c=e.form,u=!1,m=function(e){c.setFieldValue(a,e).then((function(){return c.setFieldTouched(a)})),r&&r(e)};return h.a.createElement(zm,W()({className:_()(t,"flex items-center ba br2 pv1 ph2 bg-gray-20",Ra.a.dayPickerWrapper),style:{width:"auto"}},o),h.a.createElement("div",{className:"pointer",onClick:d},h.a.createElement(ee.a,{path:x.calendar,color:"gray-70",size:"xl"})),h.a.createElement(ka.a,{ref:i,value:Am(l.value)||"",placeholder:n||"Select Date",parseDate:Pa.h,formatDate:Pa.f,onDayChange:function(e){if(u)u=!1;else{var t=Dm(e);m(t)}},inputProps:{onBlur:function(e){var t=e.relatedTarget;(Nu()(t)||!t.className||!t.className.includes("DayPicker-Day"))&&s(e,l.value)},onChange:function(e){var t=e.target.value,a=Object(Pa.h)(t),n=Dm(a);m(n||t),u=!0}}}))}})})),zm=k.default.div.withConfig({displayName:"DateInput__Root",componentId:"o6ka43-0"})(["height:30px;[class*='-timeInputLabel___']{display:none;}[class*='-dayPickerWrapper___']{width:100%;margin:0;border:none;","}&&&{.DayPickerInput-Overlay,.DayPicker-wrapper,.DayPicker-Months,.DayPicker-Day,.DayPicker-NavButton{outline:none;}}.DayPickerInput{flex:1;width:100%;color:black;input{width:100%;background-color:transparent;}}"],km),Bm=32,Um=a(244),Vm=k.default.span.withConfig({displayName:"MandatoryIndication",componentId:"sc-1yqnq1s-0"})(["margin-left:1px;color:",";"],tt.f),Gm=k.default.div.withConfig({displayName:"FieldWrapper__Root",componentId:"sc-1occif-0"})(["font-size:12px;margin-bottom:10px;display:flex;"]),Wm=k.default.label.withConfig({displayName:"FieldWrapper__FieldLabel",componentId:"sc-1occif-1"})(["display:block;flex-grow:1;margin-right:10px;"," "," padding-top:6px;padding-bottom:6px;&.mandatory{padding-top:3px;}"],(function(e){return e.labelMode===Um.a.LEFT&&Object(k.css)(["text-align:left;"])}),(function(e){return e.labelMode===Um.a.RIGHT&&Object(k.css)(["text-align:right;"])})),Hm=k.default.div.withConfig({displayName:"FieldWrapper__ComponentWrapper",componentId:"sc-1occif-2"})(["flex-basis:","%;"],(function(e){return 100-e.basis})),Ym=Object(k.default)(Rl).withConfig({displayName:"FieldWrapper__MetadataCheckBox",componentId:"sc-1occif-3"})(["align-items:flex-start;"]),Qm=k.default.div.withConfig({displayName:"FieldWrapper__LabelAndCheckboxContainer",componentId:"sc-1occif-4"})(["flex:0 1 ","%;display:flex;flex-direction:row;align-items:center;"],(function(e){return e.labelMode===Um.a.NONE?0:e.basis})),Km=function(e){var t=e.htmlFor,a=e.checked,n=e.onCheckedToggle,r=e.label,s=e.showCheckBox,o=e.labelMode,i=e.showMandatoryIndication,l=e.children,c=e.className,d=e.basis,u=s&&n?function(){return n(!a)}:void 0;return h.a.createElement(Gm,{"data-test":t+"-field",className:_()(c,o===Um.a.TOP?"flex-column":"flex-row items-center")},h.a.createElement(Qm,{labelMode:o,basis:d},s&&h.a.createElement(Ym,{checked:a,onChange:u,className:"pr2"}),o!==Um.a.NONE&&h.a.createElement(Wm,{htmlFor:t,onClick:u,labelMode:o,"data-test":t+"-field-label",className:_()({mandatory:i})},h.a.createElement(K.a,{className:"black inline-flex",tooltipPosition:"top",tooltipText:r,render:function(e){return e(r)}}),i&&h.a.createElement(Vm,null,Object(Ue.j)("assetMetadata.form.mandatory")))),h.a.createElement(Hm,{basis:d},l))};Km.defaultProps={basis:33};var Zm=Km,qm=a(438),Xm=a.n(qm),Jm=function(e){var t=e.className,a=e.label,n=e.checked,r=e.onChange;return h.a.createElement("div",{className:t},h.a.createElement("input",{className:_()(Xm.a.sliderInput),type:"checkbox",id:"bool-slider-"+a,onChange:function(e){r&&r(e.target.checked)},checked:n}),h.a.createElement("div",{className:Xm.a.sliderLabelContainer},h.a.createElement("label",{className:_()(Xm.a.sliderLabel),htmlFor:"bool-slider-"+a},h.a.createElement("span",{className:_()(Xm.a.handleExtension)}))))},$m=Jm,ep=function(e){var t=function(t){var a=t.onApply,n=t.onChange,r=V()(t,["onApply","onChange"]);return h.a.createElement(e,W()({onChange:function(e){n&&n(e),a&&a(e)}},r))};return t.displayName="withApplyOnChange("+(e.displayName||e.name||"Component")+")",t},tp=ep(Object(k.default)($m).withConfig({displayName:"SwitchInput__BooleanSliderWithApplyOnChange",componentId:"sc-1tj4725-0"})(["margin:6px 0;",""],(function(e){return e.disabled&&Object(k.css)(["opacity:0.3;pointer-events:none;"])}))),ap=function(e){var t=e.fieldName,a=e.onChange,n=e.disabled,r=V()(e,["fieldName","onChange","disabled"]);return h.a.createElement(Or.Field,{name:t,render:function(e){var s=e.field,o=e.form;return h.a.createElement(tp,W()({},r,{disabled:n,label:t,checked:s.value,onChange:function(e){o.setFieldValue(t,e).then((function(){return o.setFieldTouched(t)})),a&&a(e)}}))}})},np=Object(Or.connect)((function(e){var t=ym(e.formik.values.defaultValue)||ym(e.formik.initialValues.defaultValue);return h.a.createElement(b.Fragment,null,h.a.createElement("strong",{className:"db mb2"},Object(Ue.j)("previewPane.mandatoryField")),h.a.createElement(Zm,{className:"fs-exclude",htmlFor:"mandatory",labelMode:Um.a.NONE,basis:100},h.a.createElement(Z.a,{tooltipDisabled:!t,tooltipPosition:"bottom",tooltipText:Object(Ue.j)("previewPane.mandatoryFieldTooltip")},h.a.createElement(ap,{fieldName:"mandatory",onApply:function(t){return e.onApply({mandatory:t})},disabled:t}))))})),rp=function(e){return h.a.createElement(b.Fragment,null,h.a.createElement("strong",{className:"db mt4 mb2"},Object(Ue.j)("previewPane.defaultValue")),h.a.createElement(Zm,{className:"fs-exclude",basis:0,htmlFor:"defaultValue",labelMode:Um.a.NONE},e.children))},sp=a(272),op=ep((function(e){var t=e.fieldName,a=e.onChange,n=e.options,r=e.clearable,s=e.onClose,o=e.multi,i=V()(e,["fieldName","onChange","options","clearable","onClose","multi"]);return h.a.createElement(Or.Field,{name:t,render:function(e){var l=e.field,c=e.form;return h.a.createElement(fo.Combobox,W()({name:t,value:Object(sp.a)(l.value,n),options:n,isMulti:o,isClearable:!!o||r,onMenuClose:s,onChange:function(e){var n=o?(e||[]).map((function(e){return e.value})):e&&e.value;c.setFieldValue(t,n).then((function(){return c.setFieldTouched(t)})),a&&a(n)}},i,{components:o&&{DropdownIndicator:null}}))}})}));op.defaultProps={clearable:!1};var ip,lp=Object.freeze({GREATER_THAN:"gt",LESS_THAN:"lt"}),cp=Object(Or.connect)((function(e){var t=e.onApply,a=e.mode,n=e.InputComponent,r=e.type,s=e.formik,o=e.onBlur,i=V()(e,["onApply","mode","InputComponent","type","formik","onBlur"]),l=a+"Equal",c=a+"Value",d=s.values[l],u=s.values[c],m=ke()(u)?null:o;return h.a.createElement(b.Fragment,null,h.a.createElement("div",{className:"w-100 flex flex-row justify-stretch"},h.a.createElement(op,W()({},i,{className:"flex-grow-1 mr2",fieldName:l,onApply:function(e){var a;t(((a={})[l]="true"===e.toString(),a))},options:[{label:Object(Ue.j)("previewPane.constraints."+r+"."+a+"e"),value:"true"},{label:Object(Ue.j)("previewPane.constraints."+r+"."+a),value:"false"}],onBlur:m})),h.a.createElement(n,W()({},i,{style:{width:100},fieldName:c,onApply:function(e){var a;return t(((a={})[c]=e,a[l]="true"===d.toString(),a))},onBlur:o}))))})),dp=Object(k.default)(Fm).withConfig({displayName:"DateView__StyledDateInput",componentId:"knydxb-0"})(["width:115px !important;flex-shrink:0;"]),up=function(e){var t=e.onApply,a=V()(e,["onApply"]);return h.a.createElement(b.Fragment,null,h.a.createElement(np,{onApply:t}),h.a.createElement(rp,null,h.a.createElement(Fm,W()({},a,{fieldName:"defaultValue",onApply:function(e){return t({defaultValue:e})}})),h.a.createElement(Cm,{name:"defaultValue"})),h.a.createElement("strong",{className:"db mt4 mb2"},Object(Ue.j)("previewPane.constraints.validations")),h.a.createElement("div",{className:"w-100 flex flex-row justify-stretch"},h.a.createElement(cp,W()({},a,{mode:lp.GREATER_THAN,onApply:t,type:"date",InputComponent:dp}))),h.a.createElement("div",{className:"w-100 flex flex-row justify-stretch mt2"},h.a.createElement(cp,W()({},a,{mode:lp.LESS_THAN,onApply:t,type:"date",InputComponent:dp}))),h.a.createElement(Cm,{name:"gtEqual"}),h.a.createElement(Cm,{name:"gtValue"}),h.a.createElement(Cm,{name:"ltEqual"}),h.a.createElement(Cm,{name:"ltValue"}))},mp=function(e){var t=e.gtValue,a=e.gtEqual,n=e.ltValue,r=e.ltEqual,s=e.mandatory,o=e.defaultValue,i=jm(o);if(s&&i)return!0;var l=Em(t),c=Em(n),d=l&&c,u=parseFloat(t),m=parseFloat(n),p=d&&(a&&m<u||!a&&m<=u),f=d&&(r&&u>m||!r&&u>=m);if(i)return p||f;var b=parseFloat(o);return p||f||l&&(a&&b<u||!a&&b<=u)||c&&(r&&b>m||!r&&b>=m)},pp={schema:Im,getView:function(e){return h.a.createElement(up,e)},getInitialValues:function(e){var t=e.mandatory,a=e.defaultValue,n=e.validation,r=bm(fm(n),ze.g.GREATER_THAN)||{},s=bm(fm(n),ze.g.LESS_THAN)||{};return{mandatory:!!t,defaultValue:a,ltValue:s.value,ltEqual:!!s.equals,gtValue:r.value,gtEqual:!!r.equals}},shouldUpdate:function(e,t){var a=W()({},e,t),n=a.gtValue,r=a.gtEqual,s=a.ltValue,o=a.ltEqual,i=a.defaultValue,l=a.mandatory;return!mp({gtValue:new Date(n).getTime(),gtEqual:r,ltValue:new Date(s).getTime(),ltEqual:o,mandatory:l,defaultValue:Em(i)?new Date(i).getTime():i})&&(t.hasOwnProperty("gtEqual")?t.hasOwnProperty("gtValue")||Em(e.gtValue):!t.hasOwnProperty("ltEqual")||(t.hasOwnProperty("ltValue")||Em(e.ltValue)))},handleUpdate:function(e,t,a,n){var r=[],s=W()({},e,t),o=s.gtValue,i=s.gtEqual,l=s.ltValue,c=s.ltEqual;if(t.hasOwnProperty("mandatory")&&r.push(n(a,"mandatory",t.mandatory)),t.hasOwnProperty("defaultValue")&&r.push(n(a,"defaultValue",t.defaultValue)),um()(Object.keys(t),["gtValue","gtEqual","ltValue","ltEqual"]).length){var d=[];Em(o)&&d.push({type:ze.g.GREATER_THAN,value:o,equals:!!i}),Em(l)&&d.push({type:ze.g.LESS_THAN,value:l,equals:!!c});var u=1===d.length?d[0]:d.length>1?{type:ze.g.AND,rules:d}:null;r.push(n(a,"validation",u))}return Promise.all(r)}},fp=Om.f((function(e){return Om.i().shape({mandatory:Om.d(),options:Om.b(),defaultValue:Om.b().of(Om.j().oneOf([].concat(e.options.map((function(e){return e.id}))),"Default value must match given options")).nullable()})})),bp=a(866),hp=a(630),gp=h.a.createContext({}),vp=function(e,t){var a=function(a){return h.a.createElement(gp.Consumer,null,(function(n){return n&&h.a.createElement(jp,W()({},a,{propsNames:t,itemType:n.itemType,id:n.id,Component:e}))}))};return a.displayName="ConnectToItemContext",a},Ep=function(e){e.id,e.itemType;var t=e.Component,a=e.propsNames,n=V()(e,["id","itemType","Component","propsNames"]);if(!e.item)return null;if(!a)return h.a.createElement(t,W()({},n,{item:e.item}));var r=wd()(e.item,Cd()(a));return h.a.createElement(t,W()({},n,r))},yp=function(e,t){return{item:Object(_t.selectItem)(e,t.itemType,t.id)}},jp=Object(g.connect)(yp)(Ep),Op=Object(b.createContext)({}),wp=a(3877),Ip=a(447),Tp=a.n(Ip),Mp=a(1486),Cp=a(1487),Np=k.default.div.withConfig({displayName:"DraggableWithHandle__Handle",componentId:"sc-7szbwd-0"})(["width:12px;cursor:grabbing;align-self:center;margin:0 4px;"," svg{width:12px;height:12px;}"],(function(e){return e.isMobileOrTablet&&"visibility: hidden;"})),xp=function(e){var t=e.id,a=e.index,n=e.onMove,r=e.onDrop,s=e.className,o=Object(b.useRef)(null),i=Object(Mp.a)({item:{type:"card",id:t,index:a},collect:function(e){return{isDragging:e.isDragging()}}}),l=i[0].isDragging,c=i[1],d=i[2],u=l?0:1;return(0,Object(Cp.a)({accept:"card",hover:function(e,t){if(o.current){var r=e.index,s=a;if(r!==s){var i=o.current.getBoundingClientRect(),l=(i.bottom-i.top)/2,c=t.getClientOffset().y-i.top;r<s&&c<l||r>s&&c>l||(n(r,s),e.index=s)}}},drop:function(e){var t=e.id,a=e.index;r&&r(t,a)}})[1])(o),h.a.createElement("div",{ref:o,className:s},h.a.createElement("div",{ref:d,style:{opacity:u},className:"draggable-preview flex"},h.a.createElement(Np,{ref:c,isMobileOrTablet:v.isMobile},h.a.createElement(ee.a,{size:"xs",color:tt.o,path:x.draggable,preserveAspectRatio:"none",viewBox:"0 0 12 12"})),e.children))},Ap=xp,Dp=k.default.div.withConfig({displayName:"Edit__StyledEditContainer",componentId:"sc-1ve6pxl-0"})(["position:relative;button{position:absolute;right:1px;top:2px;}input{padding-right:24px;}"]),Lp={flex:1},Sp=function(e){var t=e.initialValue,a=e.onExitEditMode,n=e.onEditOptionValue,r=Object(b.useState)(t),s=r[0],o=r[1];return h.a.createElement(b.Fragment,null,h.a.createElement(Dp,null,h.a.createElement(hp.a,{style:Lp,defaultValue:t,onChange:function(e){o(e)}}),h.a.createElement(bn.b,{icon:x.check,skin:"menu",size:"sm",onClick:function(){return n(s)}})),h.a.createElement(bn.b,{onClick:a,size:"sm"},Object(Ue.j)("previewPane.metadataField.option.cancel")))},kp=a(371),Pp={placement:"top"},_p=function(e){return h.a.createElement(Xe.a,W()({type:Je.a.MENU,size:"sm",tooltipProps:Pp},e))},Rp=function(e){var t=e.onMoveToBottom,a=e.onMoveToTop,n=e.onMoveDown,r=e.onMoveUp,s=e.isOptionActive,o=e.canDisableOption,i=e.onEnterEditMode,l=e.onToggleOption,c=e.canMoveUp,d=e.canMoveDown;return h.a.createElement(b.Fragment,null,s&&h.a.createElement(_p,{icon:"edit",onClick:i,tooltipText:Object(Ue.j)("previewPane.metadataField.option.edit")}),h.a.createElement(_p,{icon:s?"disabled":"check",onClick:l,disabled:!o,tooltipText:Object(Ue.j)("previewPane.metadataField.option."+(s?o?"disable":"cantDisable":"enable"))}),h.a.createElement(kp.VerticalSeparator,{verticalMargin:"sm",horizontalMargin:"xxs"}),h.a.createElement(_p,{icon:"arrowDown",onClick:n,disabled:!d,tooltipText:Object(Ue.j)("previewPane.metadataField.option.moveDown")}),h.a.createElement(_p,{icon:"arrowUp",onClick:r,disabled:!c,tooltipText:Object(Ue.j)("previewPane.metadataField.option.moveUp")}),h.a.createElement(kp.VerticalSeparator,{verticalMargin:"sm",horizontalMargin:"xxs"}),h.a.createElement(_p,{icon:"moveToBottom",onClick:t,disabled:!d,tooltipText:Object(Ue.j)("previewPane.metadataField.option.moveToBottom")}),h.a.createElement(_p,{icon:"moveToTop",onClick:a,disabled:!c,tooltipText:Object(Ue.j)("previewPane.metadataField.option.moveToTop")}))},Fp=a(65),zp=a.n(Fp),Bp=46,Up=k.default.div.withConfig({displayName:"styles__StyledDraggableOptionsField",componentId:"vkhuar-0"})(["height:100%;"]),Vp=k.default.div.withConfig({displayName:"styles__StyledListContainer",componentId:"vkhuar-1"})(["& > div > div > div > div:first-child .draggable-preview{margin-top:0px;}"]),Gp=k.default.div.withConfig({displayName:"styles__StyledDraggableOptionContainer",componentId:"vkhuar-2"})(["cursor:pointer;color:",";& .draggable-preview{background-color:",";border:1px solid ",";height:","px;margin-top:-1px;}.value-text{color:",";"," ","}"],At.a.color.gray100,(function(e){return e.engaged?At.a.color.gray20:e.disabled?At.a.color.gray40:At.a.color.gray00}),At.a.color.gray50,Bp,(function(e){return e.disabled?At.a.color.gray60:At.a.color.gray100}),(function(e){return e.engaged&&"flex-basis: 100%;"}),(function(e){return!e.engaged&&"max-width: 190px;"})),Wp=Object(k.default)(Jo).withConfig({displayName:"styles__StyledHint",componentId:"vkhuar-3"})(["&.-hint___3q.-centerleft___1i{left:-20px;}.-triangle____a{display:none;}.-tipContainer___1Y.-bottomright___22{top:calc(100% + 1px);left:24px;}"]),Hp=k.default.div.withConfig({displayName:"styles__StyledHintBody",componentId:"vkhuar-4"})(["white-space:normal;width:250px;& > div:first-child{font-size:18px;color:",";padding-bottom:10px;}& > div:nth-of-type(2){font-size:14px;line-height:20px;color:",";}"],At.a.color.gray90,At.a.color.gray80),Yp=k.default.div.withConfig({displayName:"styles__SelectItem",componentId:"vkhuar-5"})(["display:flex;flex-direction:row;width:100%;align-items:center;& >:first-child{flex:1;}& > ",":last-of-type{margin-right:",";}","{flex:0;}"],Fp.ButtonMenu,At.a.spacing.xxs,Fp.ButtonMenu),Qp=function e(t,a){return Gr()(t)?t.some((function(t){return e(t,a)})):Er()(t)?t.external_id===a:t===a},Kp=function(e){var t=e.option,a=e.index,n=e.hovered,r=e.editMode,s=e.setEditMode,o=Object(b.useContext)(Op),i=o.options,l=o.move,c=o.form,d=o.onApplyDatasource,u=Object(bd.a)(),m=t.state===ze.d.ACTIVE,p=Qp(c.values.defaultValue,t.id),f=function(){return s(!1)};return h.a.createElement(Yp,{key:t.id,disabled:!m},!r&&h.a.createElement("div",{className:"value-text fs-exclude"},h.a.createElement(K.a,{lines:1,render:function(e){return e(t.value)}})),r&&h.a.createElement(Sp,{initialValue:t.value,option:t,index:a,onEditOptionValue:function(e){u(fe.f.EDIT,"metadata_field list value renamed successfully"),d(t.id,{value:e}),f()},onExitEditMode:function(){u(fe.f.EDIT,"metadata_field list value rename cancelled"),f()}}),n&&!r&&h.a.createElement(Rp,{onEnterEditMode:function(){u(fe.f.EDIT,"intent to rename metadata_field list value"),s(!0)},onToggleOption:function(){u(fe.f.EDIT,(m?"disable":"enable")+" metadata_field value from list"),d(t.id,{state:m?ze.d.INACTIVE:ze.d.ACTIVE})},onMoveToTop:function(){u(fe.f.EDIT,"metadata_field value move to top"),l(a,0),d(t.id,{position:0})},onMoveToBottom:function(){u(fe.f.EDIT,"metadata_field value move to bottom"),l(a,i.length-1),d(t.id,{position:i.length-1})},onMoveUp:function(){u(fe.f.EDIT,"metadata_field value move up");var e=a-1;l(a,e),d(t.id,{position:e})},onMoveDown:function(){u(fe.f.EDIT,"metadata_field value move down");var e=a+1;l(a,e),d(t.id,{position:e})},canMoveUp:a>0,canMoveDown:a<i.length-1,canDisableOption:!p,isOptionActive:m}),t.value===Object(Ue.j)("metadata_field.datasourceSampleValue")&&h.a.createElement(Wp,{position:Ot.CENTER_LEFT,tipDirection:Ot.BOTTOM_RIGHT,dataTest:"metadata-pp-hint"},h.a.createElement(Hp,null,h.a.createElement("div",null,Object(Ue.j)("metadata_field.firstValueHint.title")),h.a.createElement("div",null,Object(Ue.j)("metadata_field.firstValueHint.body")))))},Zp=function(e){var t=e.option,a=e.index,n=e.onDrop,r=Object(b.useContext)(Op).move,s=Object(bd.a)(),o=Tp()(),i=o.isHovered,l=o.ref,c=Object(b.useState)(!1),d=c[0],u=c[1],m=t.state===ze.d.ACTIVE;return h.a.createElement(Gp,{ref:l,engaged:i||d,disabled:!m},h.a.createElement(Ap,{onMove:r,onDrop:function(){s(fe.f.EDIT,"metadata_field value reorder via drag"),n.apply(void 0,arguments)},id:t.id,index:a},h.a.createElement(Kp,{hovered:i,editMode:d,setEditMode:u,index:a,option:t})))},qp=function(e){return function(t){return e[t]?e[t].id:t}},Xp=function(e){var t=e.onDrop,a=e.totalItems,n=e.itemHeight,r=e.items,s=e.itemKey;return{items:r,totalItems:a,itemHeight:n,renderItemComponent:function(e,n){var r=n<a?e.data.sections[0].items[n]:null;return h.a.createElement(Zp,{key:r.id,option:r,index:n,onDrop:t})},isItemLoaded:function(e){return!!r[e]},itemKey:s}},Jp=function(e,t,a){return Xp({onDrop:a,totalItems:t,itemHeight:Bp-1,items:e,itemKey:qp(e)})},$p=function(e){var t=e.options,a=e.onDrop,n=Jp(t,t.length,a);return h.a.createElement(wp.InfiniteWindowedListLayout,{sections:[n]})},ef=xm(hp.a),tf=function(){var e=Object(b.useContext)(Op),t=e.form,a=e.options,n=e.onApplyDatasource,r=t.initialValues.options,s=function(e,t){r[t].id!==e&&n(e,{position:t})};return h.a.createElement(Up,null,h.a.createElement(bp.default,null,(function(e){var t=e.width,n=e.height;return h.a.createElement(Vp,{style:{height:n,width:t}},h.a.createElement($p,{options:a,onDrop:s}))})))},af=function(e,t,a){var n=[].concat(e);return n.splice(a,0,n.splice(t,1)[0]),n},nf=function(e){var t=e.isMulti,a=e.field,n=e.form,r=e.onApply,s=V()(e,["isMulti","field","form","onApply"]);return h.a.createElement(op,W()({},s,{multi:t,className:"flex-grow-1",fieldName:"defaultValue",onApply:function(e){return r({defaultValue:e})},options:(a.value||[]).filter((function(e){return e.state===ze.d.ACTIVE})).map((function(e){return{value:e.id,label:e.value}})),clearable:!Fe()(n,"values.mandatory",!0)}))},rf=function(e){var t=e.onApply,a=e.onBlur,n=e.isMulti,r=Object(bd.a)(),s=Object(b.useContext)(gp);return h.a.createElement(h.a.Fragment,null,h.a.createElement(np,{onApply:t}),h.a.createElement(rp,null,h.a.createElement(Or.Field,{name:"options",render:function(e){var a=e.field,r=e.form;return h.a.createElement(os,{Component:nf,name:s.id,isMulti:n,field:a,form:r,onApply:t})}}),h.a.createElement(Cm,{name:"defaultValue"})),h.a.createElement("strong",{className:"db mt4 mb2"},Object(Ue.j)("previewPane.constraints.values")),h.a.createElement(Or.Field,{name:"options",render:function(e){var s=e.form,o=e.field,i=o.value||[];return h.a.createElement(b.Fragment,null,h.a.createElement(ef,{className:"mb3",placeholder:Object(Ue.j)("previewPane.metadataField.option.placeholder"),onApply:function(e,a){if(e){var n=[].concat(i,[{id:"",value:e}]);s.setFieldValue("options",n).then((function(){return s.setFieldTouched("options")})),t({options:n}).then((function(){r(fe.f.EDIT,"metadata_field value added to list"),a&&(a.value="",a.focus())}))}},onBlur:a}),h.a.createElement(Op.Provider,{value:{isMulti:n,options:i,form:s,move:function(e,t){s.setFieldValue("options",af(o.value,e,t)).then((function(){return s.setFieldTouched("options")}))},onApplyDatasource:function(e,a){var n=i.map((function(t){return t.id===e?W()({},t,a):t}));a.position||s.setFieldValue("options",n).then((function(){return s.setFieldTouched("options")})),t({options:n})}}},h.a.createElement(tf,null)))}}))},sf={schema:fp,getView:function(e){return h.a.createElement(rf,W()({isMulti:!0},e))},getInitialValues:function(e){var t=e.mandatory,a=e.defaultValue,n=e.datasource;return{mandatory:!!t,defaultValue:Object(sp.b)(a),options:n&&n.values?n.values:[]}},handleUpdate:function(e,t,a,n){var r=[];return t.hasOwnProperty("mandatory")&&r.push(n(a,"mandatory",t.mandatory)),t.hasOwnProperty("defaultValue")&&r.push(n(a,"defaultValue",t.defaultValue)),t.hasOwnProperty("options")&&r.push(hm(a,t.options,n)),Promise.all(r)}},of=function(e){return Em(e)?Number(e):void 0},lf=Om.f((function(e){var t=e.ltEqual,a=e.gtEqual,n=of(e.gtValue),r=of(e.ltValue),s=of(e.defaultValue),o=jm(n),i=jm(r),l=jm(s),c=o||i;return Om.i().shape({mandatory:Om.d(),gtEqual:Om.d(),ltEqual:Om.d(),defaultValue:gm(Om.g()).test({message:Object(Ue.j)("assetMetadata.validations.integer.digitsLimit"),name:"digitsLimit",test:function(e){return!e||e.toString().length<16}}).test({name:"isInteger",message:Object(Ue.j)("assetMetadata.validations.integer.invalidType"),test:function(){return l||Number.isInteger(of(s))}}).test({name:"isDefaultAboveLowerBound",message:Object(Ue.j)("assetMetadata.validations.integer.moreThan",{more:n}),test:function(){return l||o||a||s>n}}).test({name:"isDefaultAboveOrEqualLowerBound",message:Object(Ue.j)("assetMetadata.validations.integer.min",{min:n}),test:function(){return l||o||s>=n}}).test({name:"isDefaultBelowUpperBound",message:Object(Ue.j)("assetMetadata.validations.integer.lessThan",{less:r}),test:function(){return l||i||t||s<r}}).test({name:"isDefaultBelowOrEqualUpperBound",message:Object(Ue.j)("assetMetadata.validations.integer.max",{max:r}),test:function(){return l||i||s<=r}}),gtValue:Om.h().typeError(Object(Ue.j)("assetMetadata.validations.integer.invalidType")).test({name:"isInteger",message:Object(Ue.j)("assetMetadata.validations.integer.invalidType"),test:function(){return o||Number.isInteger(of(n))}}).test({name:"isBelowUpperBound",message:Object(Ue.j)("assetMetadata.validations.integer.lessThan",{less:r}),test:function(){return c||t||n<r}}).test({name:"isBelowOrEqualUpperBound",message:Object(Ue.j)("assetMetadata.validations.integer.max",{max:r}),test:function(){return c||n<=r}}),ltValue:Om.h().typeError(Object(Ue.j)("assetMetadata.validations.integer.invalidType")).test({name:"isInteger",message:Object(Ue.j)("assetMetadata.validations.integer.invalidType"),test:function(){return i||Number.isInteger(of(r))}}).test({name:"isAboveLowerBound",message:Object(Ue.j)("assetMetadata.validations.integer.moreThan",{more:n}),test:function(){return c||a||r>n}}).test({name:"isAboveOrEqualLowerBound",message:Object(Ue.j)("assetMetadata.validations.integer.min",{min:n}),test:function(){return c||r>=n}})})})),cf=xm(hp.a),df=function(e){var t=e.fieldName,a=e.onChange,n=V()(e,["fieldName","onChange"]);return h.a.createElement(Or.Field,{name:t,render:function(e){var r=e.field,s=e.form;return h.a.createElement(cf,W()({},n,{defaultValue:r.value,onChange:function(e){s.setFieldValue(t,e).then((function(){return s.setFieldTouched(t)})),a&&a(e)}}))}})},uf=function(e){var t=e.onApply,a=V()(e,["onApply"]);return h.a.createElement(b.Fragment,null,h.a.createElement(np,{onApply:t}),h.a.createElement(rp,null,h.a.createElement(df,W()({},a,{fieldName:"defaultValue",onApply:function(e){return t({defaultValue:e})}})),h.a.createElement(Cm,{name:"defaultValue"})),h.a.createElement("strong",{className:"db mt4 mb2"},Object(Ue.j)("previewPane.constraints.validations")),h.a.createElement("div",{className:"w-100 flex flex-row justify-stretch"},h.a.createElement(cp,W()({},a,{mode:lp.GREATER_THAN,onApply:t,type:"number",InputComponent:df}))),h.a.createElement("div",{className:"w-100 flex flex-row justify-stretch mt2"},h.a.createElement(cp,W()({},a,{mode:lp.LESS_THAN,onApply:t,type:"number",InputComponent:df}))),h.a.createElement(Cm,{name:"gtEqual"}),h.a.createElement(Cm,{name:"gtValue"}),h.a.createElement(Cm,{name:"ltEqual"}),h.a.createElement(Cm,{name:"ltValue"}))},mf={schema:lf,getView:function(e){return h.a.createElement(uf,e)},getInitialValues:function(e){var t=e.mandatory,a=e.defaultValue,n=e.validation,r=bm(fm(n),ze.g.GREATER_THAN)||{},s=bm(fm(n),ze.g.LESS_THAN)||{};return{mandatory:!!t,defaultValue:a||"",ltValue:s.value,ltEqual:!!s.equals,gtValue:r.value,gtEqual:!!r.equals}},shouldUpdate:function(e,t){var a=W()({},e,t),n=a.gtValue,r=a.gtEqual,s=a.ltValue,o=a.ltEqual,i=a.defaultValue,l=a.mandatory;return!mp({gtValue:n,gtEqual:r,ltValue:s,ltEqual:o,defaultValue:i,mandatory:l})&&(t.hasOwnProperty("gtEqual")?t.hasOwnProperty("gtValue")||Em(e.gtValue):!t.hasOwnProperty("ltEqual")||(t.hasOwnProperty("ltValue")||Em(e.ltValue)))},handleUpdate:function(e,t,a,n){var r=[],s=W()({},e,t),o=s.gtValue,i=s.gtEqual,l=s.ltValue,c=s.ltEqual;if(t.hasOwnProperty("mandatory")&&r.push(n(a,"mandatory",t.mandatory)),t.hasOwnProperty("defaultValue")&&r.push(n(a,"defaultValue",t.defaultValue)),um()(Object.keys(t),["gtValue","gtEqual","ltValue","ltEqual"]).length){var d=[];Em(o)&&d.push({type:ze.g.GREATER_THAN,value:parseFloat(o),equals:!!i}),Em(l)&&d.push({type:ze.g.LESS_THAN,value:parseFloat(l),equals:!!c});var u=1===d.length?d[0]:d.length>1?{type:ze.g.AND,rules:d}:null;r.push(n(a,"validation",u))}return Promise.all(r)}},pf=Om.f((function(e){return Om.i().shape({mandatory:Om.d(),options:Om.b(),defaultValue:Om.j().nullable().oneOf([null,void 0].concat(e.options.map((function(e){return e.id}))),"Default value must be one of given options")})})),ff={schema:pf,getView:function(e){return h.a.createElement(rf,e)},getInitialValues:function(e){var t=e.mandatory,a=e.defaultValue,n=e.datasource;return{mandatory:!!t,defaultValue:Object(sp.b)(a),options:n&&n.values?n.values:[]}},handleUpdate:function(e,t,a,n){var r=[];return t.hasOwnProperty("mandatory")&&r.push(n(a,"mandatory",t.mandatory)),t.hasOwnProperty("defaultValue")&&r.push(n(a,"defaultValue",t.defaultValue)),t.hasOwnProperty("options")&&r.push(hm(a,t.options,n)),Promise.all(r)}},bf=Om.f((function(e){var t=e.minimum,a=e.maximum,n=e.defaultValue,r=jm(t),s=jm(a),o=jm(e.defaultValue),i=r||s;return Om.i().shape({mandatory:Om.d(),defaultValue:gm(Om.g()).test({name:"isTooLong",message:Object(Ue.j)("assetMetadata.validations.string.max",{max:a}),test:function(){return o||s||n.length<=a}}).test({name:"isTooShort",message:Object(Ue.j)("assetMetadata.validations.string.min",{min:t}),test:function(){return o||r||n.length>=t}}),minimum:Om.h().typeError(Object(Ue.j)("assetMetadata.validations.integer.invalidType")).notRequired().test({name:"isTooLong",message:Object(Ue.j)("assetMetadata.validations.string.max",{max:a}),test:function(){return i||a>=t}}),maximum:Om.h().typeError(Object(Ue.j)("assetMetadata.validations.integer.invalidType")).notRequired().test({name:"isTooShort",message:Object(Ue.j)("assetMetadata.validations.string.min",{min:t}),test:function(){return i||t<=a}})})})),hf=Object(k.default)(Zm).withConfig({displayName:"StringView__MinFieldWrapper",componentId:"mts7qp-0"})(["padding-right:15px;"]),gf=Object(k.default)(Zm).withConfig({displayName:"StringView__MaxFieldWrapper",componentId:"mts7qp-1"})(["padding-left:15px;"]),vf=function(e){var t=e.onApply,a=V()(e,["onApply"]);return h.a.createElement(b.Fragment,null,h.a.createElement(np,{onApply:t}),h.a.createElement(rp,null,h.a.createElement(df,W()({},a,{fieldName:"defaultValue",onApply:function(e){return t({defaultValue:e})}})),h.a.createElement(Cm,{name:"defaultValue"})),h.a.createElement("strong",{className:"db mt4 mb2"},Object(Ue.j)("previewPane.constraints.stringLength")),h.a.createElement("div",{className:"flex flex-row justify-stretch"},h.a.createElement(hf,{basis:45,htmlFor:"minimum",label:"Minimum",labelMode:Um.a.LEFT},h.a.createElement(df,W()({},a,{fieldName:"minimum",onApply:function(e){return t({minimum:e})}}))),h.a.createElement(gf,{basis:45,htmlFor:"maximum",label:"Maximum",labelMode:Um.a.LEFT},h.a.createElement(df,W()({},a,{fieldName:"maximum",onApply:function(e){return t({maximum:e})}})))),h.a.createElement(Cm,{name:"minimum"}),h.a.createElement(Cm,{name:"maximum"}))},Ef={schema:bf,getView:function(e){return h.a.createElement(vf,e)},getInitialValues:function(e){var t=e.mandatory,a=e.defaultValue,n=e.validation,r=bm(fm(n),ze.g.STRING_LENGTH)||{};return{mandatory:!!t,defaultValue:a||"",minimum:r.min,maximum:r.max}},shouldUpdate:function(e,t){var a=W()({},e,t),n=a.minimum,r=a.maximum,s=a.defaultValue,o=a.mandatory;return!mp({gtValue:n,gtEqual:!0,ltValue:r,ltEqual:!0,mandatory:o,defaultValue:Em(s)?s.length:s})},handleUpdate:function(e,t,a,n){var r=[];if(t.hasOwnProperty("mandatory")&&r.push(n(a,"mandatory",t.mandatory)),t.hasOwnProperty("defaultValue")&&r.push(n(a,"defaultValue",t.defaultValue)),t.hasOwnProperty("minimum")||t.hasOwnProperty("maximum")){var s=W()({},e,t),o=s.minimum,i=s.maximum;if(jm(o)&&jm(i))r.push(n(a,"validation",null));else{var l={type:ze.g.STRING_LENGTH,min:Em(o)?parseFloat(o):null,max:Em(i)?parseFloat(i):null};r.push(n(a,"validation",l))}}return Promise.all(r)}},yf=((ip={})[ze.e.STRING]=Ef,ip[ze.e.INTEGER]=mf,ip[ze.e.DATE]=pp,ip[ze.e.ENUM]=ff,ip[ze.e.SET]=sf,ip),jf=function(e){return yf[e]},Of=a(1267),wf=Object(k.default)(Of.a).withConfig({displayName:"MetadataFieldIcon",componentId:"sc-7g6fyj-0"})(["min-width:",";height:",";margin-right:",";border-radius:",";"],At.a.spacing.xl,At.a.spacing.xl,At.a.spacing.xs,At.a.spacing.xxs),If=wf,Tf=function(e){var t=e.text,a=e.type,n=e.size,r=e.skin,s=e.tooltipPosition,o=e.onClick,i=e.className,l=e.buttonClass,c=e.icon,d=e.beforeCopyText,u=e.isUrl,m=e.isTextInline,p=e.buttonDataTest,f=e.onCopy,g=e.isCopyBlocked,v=void 0!==g&&g,E=d||""+Object(Ue.j)("copyText.beforeCopy")+a,y=Object(b.useState)(E),j=y[0],O=y[1],w=h.a.createElement("div",{onClick:o,className:"flex"},h.a.createElement(bn.b,{dataTest:p,icon:c||x.copy,size:n,skin:r,className:l},m&&j));return h.a.createElement(Z.a,{tooltipText:m?"":j,tooltipPosition:s,hideOnClick:!1,className:i,onHide:function(){O(E)},isSensitive:!1},v?w:h.a.createElement(gl.CopyToClipboard,{text:t,options:{onCopy:function(e){null==f||f(),Object(me.a)(e,t,u),O(Object(Ue.j)("copyText.afterCopy"))}}},w))};Tf.defaultProps={size:"lg",tooltipPosition:"top",skin:"menu",text:"",className:"",type:"",isUrl:!1,isTextInline:!1,buttonDataTest:"action-copy-text-btn"};var Mf=Tf,Cf=Object(k.default)(ut).withConfig({displayName:"MetadataPreviewPaneHeader__StyledHeader",componentId:"sc-1w8k4nu-0"})(["padding-top:11px;padding-bottom:12px;align-items:center;margin:0;flex-direction:row-reverse;& > .panel-header-caption{display:flex;align-items:center;","}& button{margin-right:",";padding-left:0px;padding-right:0px;}"],(function(e){return e.onClose&&Object(k.css)(["border-left:1px solid ",";padding-left:",";"],At.a.palette.secondary,At.a.spacing.sm)}),At.a.spacing.sm),Nf=Object(k.default)(qe).withConfig({displayName:"MetadataPreviewPaneHeader__StyledItemTitle",componentId:"sc-1w8k4nu-1"})(["margin-right:16px;margin-left:5px;"]),xf=function(e){var t=e.id,a=Object(bd.a)(),n=Object(b.useCallback)((function(){a(fe.f.CLICK,"metadata_field external_id copied")}),[a]),r="external_id: "+t;return h.a.createElement(Af,null,h.a.createElement(K.a,{className:"black fs-exclude",render:function(e){return e(r)}}),h.a.createElement(Mf,{text:t,type:"External ID",size:"md",onCopy:n}))},Af=k.default.div.withConfig({displayName:"MetadataPreviewPaneHeader__StyledItemId",componentId:"sc-1w8k4nu-2"})(["font-size:10px;line-height:14px;font-weight:normal;color:",";margin-left:14px;display:flex;button{padding:0px 3px !important;margin-top:-1px;svg{height:16px;}}"],tt.j),Df={marginLeft:"auto"},Lf=function(e){var t=e.item,a=e.onClose,n=Object(Hl.g)(t.type),r=Object(Hl.f)(t.type);return h.a.createElement(Cf,{item:t,onClose:a,closeButtonTooltipStyle:Df},h.a.createElement(If,{icon:n,backgroundColor:r}),h.a.createElement("div",null,h.a.createElement(Nf,{item:t,multiLine:!0}),h.a.createElement(xf,{id:t.id})))},Sf=Lf,kf="87px",Pf=k.default.div.withConfig({displayName:"ItemPreviewPaneFooter__Footer",componentId:"vc67a4-0"})(["height:64px;box-shadow:0 4px 5px 0 rgba(0,0,0,0.2),0 3px 14px 3px rgba(0,0,0,0.12),0 8px 10px 1px rgba(0,0,0,0.14);&.intercom-enabled{@media screen and (min-width:","){justify-content:start;padding-right:",";}}"],wi.b,kf),_f=function(e){return h.a.createElement(Pf,{className:_()("flex items-center justify-end flex-shrink-0 ph3",{"intercom-enabled":e.isIntercomWidgetDisplayed})},e.children)},Rf=function(e){return{isIntercomWidgetDisplayed:Object(Oi.selectIsIntercomWidgetDisplayed)(e)}},Ff=Object(g.connect)(Rf,{})(_f),zf=Ff,Bf="CONFIRM_DELETE_ITEM_MODAL",Uf=function(e){return h.a.createElement(ho.b,{onConfirm:function(){e.trackEvent(fe.f.DELETE,e.itemType+" deleted successfully"),e.deleteItem(e.item)},title:e.header,text:e.text,primaryButtonText:Object(Ue.j)("modals.confirmDeleteItem.delete"),primaryButtonVariant:"error",secondaryButtonText:Object(Ue.j)("modals.confirmDeleteItem.cancel")})},Vf=function(e,t){return{item:Object(_t.selectItem)(e,t.itemType,t.id)}},Gf={deleteItem:j.deleteItem},Wf=Object(g.connect)(Vf,Gf)(Uf);Ba.a.register(Bf,Object(le.b)(Wf));var Hf=a(72),Yf=function(e){return"number"==typeof e?e.toString():e},Qf=Object(k.default)(z).withConfig({displayName:"MetadataFieldPreviewPane__StyledItemPreviewPane",componentId:"sgn85f-0"})(["height:auto !important;@media ","{z-index:3 !important;top:48px;bottom:0;min-width:unset !important;max-width:unset !important;position:fixed;flex:none !important;width:100%;}"],fe.s.MD),Kf=function(e){var t=e.item,a=e.onClose,n=e.updateItem,r=e.showModal;if(void 0===t)return null;var o=Object(b.useRef)(null);null===o.current&&(o.current=new om.a(1,1/0));var l=jf(t.type),c=Object(b.useMemo)((function(){var e=lm.a.isImmutable(t)?lm.a.asMutable(t,{deep:!0}):t;return l.getInitialValues(e)}),[l.getInitialValues,t]);return h.a.createElement(gp.Provider,{value:t},h.a.createElement(le.a.Provider,{value:fe.g.STRUCTURED_METADATA_MANAGEMENT},h.a.createElement(Qf,null,h.a.createElement(Or.Formik,{enableReinitialize:!0,initialValues:c,validationSchema:l.schema,render:function(e){var d=l.getView({onApply:function(a){if(!l.shouldUpdate||l.shouldUpdate(e.values,a))return o.current.add(i()(s.a.mark((function r(){var o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Object.keys(a).some((function(e){var t=Em(c[e])?Yf(c[e]):"",n=Em(a[e])?Yf(a[e]):"";return!rm()(t,n)})),r.abrupt("return",o&&jr()(e.errors)&&l.handleUpdate(e.values,a,t,n));case 2:case"end":return r.stop()}}),r)})))).then((function(){0===o.current.getQueueLength()+o.current.getPendingLength()&&e.resetForm()}))},onBlur:function(){e.resetForm()}});return h.a.createElement(b.Fragment,null,h.a.createElement(Sf,{item:t,onClose:a}),h.a.createElement(B,null,h.a.createElement("div",{"data-test":"meta-data-preview",className:"ph3 bt b--gray-40 pt4 pb3 flex flex-column h-100"},d)),h.a.createElement(zf,null,h.a.createElement(bn.b,{dataTest:"disable-field-btn",onClick:function(){Object(cm.b)(fe.g.STRUCTURED_METADATA_MANAGEMENT,fe.f.DELETE,"intent to delete metadata_field"),r(Bf,{id:t.id,itemType:Hf.b,header:Object(Ue.j)("previewPane.metadataField.deleteFieldModal.header"),text:Object(Ue.j)("previewPane.metadataField.deleteFieldModal.text"),trackingCategory:fe.g.STRUCTURED_METADATA_MANAGEMENT})},icon:x.del,skin:"destructive"},Object(Ue.j)("previewPane.footer.delete"))))}}))))},Zf={updateItem:j.updateItem,showModal:wa.showModal},qf=Object(g.connect)(null,Zf)(Kf),Xf=qf;gi(Hf.b,Xf);var Jf,$f=30,eb=function(){var e=i()(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a={}),e.next=3,Ue.a.collections.search({term:t,max_results:a.max_results||$f,filter:a.filter||{}});case 3:return n=e.sent,e.abrupt("return",n.collections);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),tb=a(102),ab=a(970),nb=Symbol(),rb=Object(ab.a)(self.sessionStorage,nb),sb=a(748),ob=a(423),ib=a(177),lb=a(522),cb=a(222),db=a(1547),ub=a(132),mb=a(370),pb=a(14),fb=a(3918),bb=a.n(fb),hb=Object(k.default)(ee.a).withConfig({displayName:"AdvancedSearchTabs__StyledSvgIcon",componentId:"sc-7oldo6-0"})(["width:16px;height:16px;margin:0 8px 0 0;display:inline-block;vertical-align:middle;"]),gb=Object(le.b)((function(e){var t=e.setActiveSearchGroup,a=e.trackEvent,n=e.icon,r=e.label,s=e.activeSearchGroup,o=e.className,i=e.children;return h.a.createElement("li",{className:o},h.a.createElement("button",{type:"button",className:"link","data-test":s+"-tab",onClick:function(){a(fe.f.NAVIGATE,""+r.toLowerCase()),t&&t(s)}},h.a.createElement(hb,{path:n}),h.a.createElement("span",{className:"txt"},r),i))})),vb=Object(k.default)(gb).withConfig({displayName:"AdvancedSearchTabs__StyledTab",componentId:"sc-7oldo6-1"})(["",""],(function(e){return e.isActive&&"button.link {\n            color: "+tt.a+";\n            background: "+tt.l+";\n            border-color: "+tt.a+";\n            border-bottom: 2px solid "+tt.a+";\n        }\n        \n        path {\n            fill: "+tt.a+";\n        }\n        "})),Eb=function(e){var t=e.assetsKindValue!==pe.g.OTHERS&&e.assetsKindValue!==pe.g.VIDEOS;return h.a.createElement("div",{className:"tab-nav relative"},h.a.createElement(bn.b,{dataTest:"search-close-btn",className:bb.a.searchCloseButton,onClick:e.onClose,icon:x.cross,skin:"basic",size:"sm"}),h.a.createElement("ul",{className:"links-list"},h.a.createElement(vb,{tab:"general",setActiveSearchGroup:e.setActiveSearchGroup,icon:x.search,label:Object(Ue.j)("search.tabs.labelGeneral"),activeSearchGroup:pb.K.GENERAL,isActive:e.activeSearchGroup===pb.K.GENERAL}),h.a.createElement(vb,{tab:"metadata",setActiveSearchGroup:e.setActiveSearchGroup,icon:x.metaData,label:Object(Ue.j)("search.tabs.labelMetadata"),activeSearchGroup:pb.K.METADATA,isActive:e.activeSearchGroup===pb.K.METADATA}),h.a.createElement(vb,{tab:"format",setActiveSearchGroup:e.setActiveSearchGroup,icon:x.ruler,label:Object(Ue.j)("search.tabs.labelFormat"),activeSearchGroup:pb.K.FORMAT,isActive:e.activeSearchGroup===pb.K.FORMAT}),e.showImageAnalysisButton&&h.a.createElement(vb,{tab:"analysis",setActiveSearchGroup:t?e.setActiveSearchGroup:null,icon:x.image,label:Object(Ue.j)("search.tabs.labelImage"),activeSearchGroup:pb.K.IMAGE_ANALYSIS,isActive:e.activeSearchGroup===pb.K.IMAGE_ANALYSIS,className:t?"enabled":"disabled"},e.showImageAnalysisPromotion?h.a.createElement("span",{className:"ico-info"}," "):null)))},yb=Eb,jb=a(215),Ob=a(3845),wb=a.n(Ob),Ib=a(271),Tb=a.n(Ib),Mb=a(857),Cb=Object(k.default)(fo.Combobox).withConfig({displayName:"MultiValueCombobox__StyledCombobox",componentId:"okgkyz-0"})(["",""],(function(e){var t=e.fixedHeight;return t&&"\n            .cb__value-container {\n                overflow-y: auto;\n                margin-top: 1px;\n                margin-bottom: 1px;\n                max-height: "+t+"px;\n            }\n       "})),Nb=function(e){var t=e.fixedHeight,a=e.components,n=V()(e,["fixedHeight","components"]);return h.a.createElement(Cb,W()({},n,{components:W()({},a,{DropdownIndicator:null}),fixedHeight:t,isMulti:!0}))},xb=Nb,Ab=Object.keys(pb.B).map((function(e){return{value:pb.B[e],label:Object(Ue.j)("search.assetsTypes."+Tb()(pb.B[e])),className:wb()(e),class:pb.n.TYPE}})),Db=Object(k.default)(xb).withConfig({displayName:"AssetTypeDropdown__StyledCombobox",componentId:"y1v4i2-0"})(["z-index:3;"]),Lb=Object(Mb.withListItemLayout)((function(e,t){return h.a.createElement(Ls.ItemContext.Provider,{value:t},h.a.createElement("div",{className:"type "+e.className},e.label))})),Sb=function(e){var t=Ab.filter((function(t){return e.value.some((function(e){return e===t.value}))}));return h.a.createElement(Db,{size:"sm",clearable:e.apiLevel<1,className:"more-types",name:"form-field-name",placeholder:Object(Ue.j)("search.assetsTypes.moreTypesLabel"),onChange:function(t){t?e.onChange(e.apiLevel<1?t?[t.value]:[]:t.map((function(e){return e.value})),!1):e.onChange([],!1)},options:Ab,components:{Option:Lb},value:e.apiLevel<1?t[0]:t,isMulti:e.apiLevel>0,fixedHeight:pb.l})},kb=Sb,Pb=a(3851),_b=Object.keys(pb.h).map((function(e){return{value:pb.h[e],label:Object(Ue.j)("search.assetsTypes."+pb.h[e]),className:wb()(e),class:pb.n.TYPE}})),Rb=function(e){return h.a.createElement(Pb.CheckboxGroup,{name:"assetsTypes",value:e.value,onChange:function(t){e.onChange(t)}},h.a.createElement("ul",{className:"check-list"},_b.map((function(e){return h.a.createElement("li",{key:e.value,className:e.className},h.a.createElement("label",{htmlFor:e.value},h.a.createElement(Pb.Checkbox,{id:e.value,value:e.value}),h.a.createElement("span",{"data-test":"search-type-item-"+e.value,className:"tag-label"},h.a.createElement("span",{className:"icon"}," "),h.a.createElement("span",{className:"text"},h.a.createElement("strong",null,e.label)))))}))))},Fb=Rb,zb=(a(3919),function(e){var t=e.basicAssetsTypes,a=e.moreAssetsTypes,n=e.setBasicAssetsTypes,r=e.setMoreAssetsTypes,s=e.activeSearchTab,o=e.handleRadioSelect,i=e.apiLevel,l=function(e,t){void 0===t&&(t=!0);var a=t?n:r;if(i<1){var l=t?r:n;s!==pb.L.TYPE&&s!==pb.L.FOLDER&&o(pb.L.FOLDER,e.length>0),l(),a(e.length?[e[e.length-1]]:[])}else a(e)};return h.a.createElement("div",{"data-test":"search-by-type-wrapper"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byType.label")),h.a.createElement(Fb,{value:t,onChange:l}),h.a.createElement("div",{"data-test":"asset-type-dropdown_parent",className:"form",ref:function(e){Jf=e||{}}},h.a.createElement(kb,{onChange:l,value:a,apiLevel:i}))))}),Bb={componentDidUpdate:function(){Object(St.n)(Jf,40)}},Ub={setBasicAssetsTypes:mb.setBasicAssetsTypes,setMoreAssetsTypes:mb.setMoreAssetsTypes},Vb=function(e){return{basicAssetsTypes:Object(tb.selectBasicAssetsTypes)(e),moreAssetsTypes:Object(tb.selectMoreAssetsTypes)(e),activeSearchTab:Object(tb.selectActiveSearchTab)(e)}},Gb=Object(jb.b)(Bb)(zb),Wb=Object(g.connect)(Vb,Ub)(Gb),Hb=Wb,Yb=(a(3920),function(e){var t=e.activeSearch,a=e.tabName,n=e.assetsKind,r=e.assetsTags,o=e.handleRadioSelect,l=e.setAssetsTags,c=e.apiLevel,d=e.trackEvent,u=Object(b.useRef)(null);Object(b.useEffect)((function(){Object(St.n)(u.current,230)}));var m=_()("tags-search",{"tags-active":t}),p=function(){var e=i()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mb.loadTagsOptionsForReactSelect)(n.value,t);case 2:return a=e.sent,e.abrupt("return",{options:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=c<1;return h.a.createElement("div",{className:"fs-exclude"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("label",{className:"title custom-label",htmlFor:"rel-01","data-test":"rel-01"},f&&h.a.createElement("input",{id:"rel-01",type:"radio",name:"group",checked:t,value:t,onChange:function(){return o(a,r.length)}}),h.a.createElement("span",{className:"tag-label"},f&&h.a.createElement("span",{className:"fake-input"}),h.a.createElement("span",{className:"text"},Object(Ue.j)("search.byTags.label"))),f&&h.a.createElement("button",{className:"info tags-search-info",type:"button","data-balloon":Object(Ue.j)("search.byTags.tooltip",{tagsLimit:pb.v,matchesLimit:"100"}),"data-balloon-pos":"right","data-balloon-length":"medium","data-balloon-always":!0}," ")),h.a.createElement("div",{className:m},h.a.createElement("div",{className:"tag-box form",ref:u},h.a.createElement(xo,{onChange:function(e){var t=(e=e||[]).filter((function(e){return!r.includes(e)}))[0];return t&&d(fe.f.TAG_SEARCH,t.value),l(e)},loadOptions:p,value:r,isTagsInputActive:!f||r.length<=pb.v,placeholder:Object(Ue.j)("search.byTags.placeholder"),maxSelectedOptions:f?pb.v:0,disabled:!t,noResultsText:Object(Ue.j)("search.byTags.noResults"),isFixed:!0})))))}),Qb={setAssetsTags:mb.setAssetsTags},Kb=function(e){return{assetsTags:Object(tb.selectAssetsTags)(e),assetsKind:Object(ub.selectAssetsKindValue)(e)}},Zb=Object(g.connect)(Kb,Qb)(Yb),qb=Object(le.b)(Zb),Xb=a(512),Jb=a(1577),$b=a(242),eh=a.n($b),th=a(868),ah=a(4778),nh=a.n(ah),rh=a(3921),sh=a.n(rh),oh={padding:0},ih={display:"flex"},lh=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"onClick",(function(){t.props.trackEvent(fe.f.CREATE,"intent to create new folder"),t.props.showModal(th.a,{trackingCategory:t.props.trackingCategory,itemType:pe.w.FOLDER,onItemCreated:t.props.onItemCreated,currentId:t.props.currentId})})),p()(c()(t),"btnLabel",t.props.btnLabel||Object(Ue.j)("modifyItemModal.addModal.label",{itemType:eh()(pe.w.FOLDER)})),t}u()(t,e);var a=t.prototype;return a.renderInlineMode=function(){return b.createElement("div",{className:_()("flex flex-column h-100 items-center justify-center flex-grow-1")},b.createElement("div",{className:"flex"},b.createElement("img",{src:nh.a,className:sh.a.addFolderInlineIcon,alt:"Add new folder"})),b.createElement(bn.b,{skin:"link",onClick:this.onClick,dataTest:"add-folder-link"},this.btnLabel))},a.renderHeaderMode=function(){return b.createElement(bn.b,{size:this.props.size,skin:"menu",icon:x.newFolder,onClick:this.onClick,style:this.props.style,tooltipText:this.btnLabel,tooltipStyle:ih,dataTest:"add-folder-btn",tooltipDistance:this.props.tooltipDistance,tooltipIsSensitive:!1},this.props.btnLabel||"")},a.render=function(){return this.props.inlineMode?this.renderInlineMode():this.renderHeaderMode()},t}(b.Component);p()(lh,"defaultProps",{size:"lg",style:oh,tooltipDistance:10});var ch={showModal:wa.showModal},dh=Object(g.connect)(null,ch)(lh),uh=Object(le.b)(dh),mh=(a(3922),Object(k.default)(Xe.a).withConfig({displayName:"BackButton__StyledBackButton",componentId:"sc-82f9yq-0"})(["margin:0px ",";"],At.a.spacing.xxs)),ph=function(e){var t=e.onClick,a=e.className,n=e.tooltipText,r=e.icon,s=void 0===r?"arrowBack":r,o=e.size,i=void 0===o?"md":o;return h.a.createElement(mh,{type:Je.a.MENU,dataTest:"back-arrow-button",size:i,onClick:t,className:a,tooltipText:n},h.a.createElement(et.a,{name:s}))},fh=ph,bh={paddingTop:4,paddingRight:0,paddingLeft:13},hh=function(e){return e||Object(Ue.j)("folders.root")},gh=Object(k.default)(fh).withConfig({displayName:"FoldersHead__StyledBackButton",componentId:"sc-1monhr6-0"})(["margin-top:-",";margin-left:-",";margin-right:",";"],At.a.spacing.xxs,At.a.spacing.xs,At.a.spacing.xxs),vh=Object(Q.withCircleSkeleton)((function(e){var t=e.folder,a=e.onClick,n=e.className;if(!t)return null;var r=Y()(t.path)&&Object(ia.d)(t.path),s=t.parentName,o=t.parentId,i=hh(s);return h.a.createElement("div",{className:n},null!==o?h.a.createElement(gh,{size:"sm",onClick:function(){return a({id:o,itemType:he.c,path:r})},tooltipText:Object(Ue.j)("mediaLibrary.backTo",{location:i})}):h.a.createElement(ee.a,{path:x.cloud,color:"gray-70",size:"lg",className:"mr3"}))})),Eh=Object(Q.withTextSkeleton)((function(e){var t=e.className,a=e.folder;if(!a)return null;var n=a.name,r=hh(n);return h.a.createElement("strong",{className:_()("fs-exclude title",t)},h.a.createElement(K.a,{dataTest:"current-folder-title",tooltipText:r,render:function(e){return h.a.createElement("div",null,e(r))}}))})),yh=Object(k.default)(Eh).withConfig({displayName:"FoldersHead__StyledFolderName",componentId:"sc-1monhr6-1"})([""," > span{line-height:21px;}"],(function(e){return e.isLoading&&"margin-top: 3px; width: 77px; height: 12px"})),jh=function(e){return h.a.createElement("div",{className:"head","data-test":"folders-head"},h.a.createElement(h.a.Fragment,null,h.a.createElement(vh,{isLoading:!e.folder,folder:e.folder,onClick:e.onClickBack}),h.a.createElement(yh,{isLoading:!e.folder,folder:e.folder})),e.children?e.children:h.a.createElement("div",{style:{width:"36px",height:"20px",opacity:0}}),e.onClose&&h.a.createElement(bn.b,{onClick:e.onClose,tooltipText:Object(Ue.j)("folders.close"),icon:x.cross,skin:"basic",size:"xs",style:bh,dataTest:"close-folder-pane-btn"}))},Oh=jh,wh=a(3878),Ih=a(1569),Th=a(117),Mh=a.n(Th),Ch=a(3923),Nh=a.n(Ch),xh=function(e){var t,a=e.label,n=e.skin,r=void 0===n?"action":n,s=e.size,o=void 0===s?"sm":s,i=e.position,l=e.className,c=1===a.length,d=!jr()(i),u=_()(l,"inline-flex items-center justify-center","tc","fw5",["bg-"+r],"white",{"br-100":c,absolute:d},[Nh.a[o]]);return h.a.createElement("div",{"data-test":"asset-badge",className:u,style:i},h.a.createElement("span",{className:_()(Nh.a.label,(t={},t[Nh.a.oneChar]=c,t))},a))},Ah=xh,Dh=a(614),Lh=a(853),Sh=a(858),kh=a(615),Ph=a(1552),_h=a(3924),Rh=a(1576),Fh=a(1278),zh=function(e){var t=e.value,a=void 0===t?"":t,n=e.onFieldChange,r=e.onChange,s=e.name,o=e.setFieldValue,i=e.setFieldTouched,l=e.ensureListExists,c=e.removeAllFolderIdSelectorLists,d=Fh.a+"_"+a;return Object(b.useEffect)((function(){var e,t=""===a?"path":"id";l(d,{itemType:he.c,filter:(e={},e[t]=a,e)})}),[a]),Object(b.useEffect)((function(){return c}),[]),h.a.createElement(ZE,{key:d,listId:d,onItemClick:function(e){var t=e.id;r(t),o(s,t),i(s),n(s,t,a)},disableAddFolder:!0,context:"folder-id-selector"})},Bh={ensureListExists:Fn.ensureListExists,removeList:Fn.removeList,removeAllFolderIdSelectorLists:Rh.removeAllFolderIdSelectorLists},Uh=Object(g.connect)(null,Bh)(zh),Vh=Uh,Gh=a(363),Wh=Object(k.default)(Rd).withConfig({displayName:"MoveModal__StyledUpdateModal",componentId:"xzr73o-0"})([".head{display:flex;padding:0 20px 10px;font-size:14px;.title{flex:1;line-height:1.5;}}.cld-loader img{width:40%;}.folders-container{display:flex;flex-direction:column;}.drop-content{max-height:210px;min-height:210px;border-top:1px solid #e4ebf1;flex:1;.new-folders-list > li{padding-left:10px;position:inherit;}}.field-wrapper-string > div{overflow:hidden;}.modal-warning{padding:8px 20px;border-top:1px solid #e4ebf1;.svgIconWrapper{margin-top:2px;}}p[type='error']{margin-left:",";}padding:0;display:flex;flex-direction:column;.drop-content.empty{display:flex;.folders-content-holder{align-self:center;justify-content:center;width:100%;}}.field-wrapper-string{flex-grow:1;}"],po.globalTheme.spacing.lg),Hh="MOVE_MODAL",Yh=function(e){var t=e.item,a=e.className,n=e.fieldsIds,r=Object(Ue.j)("moveModal.title",{name:Object(N.a)(t)}),s=Object(Ue.j)("moveModal.submitButtonLabel"),o={parentId:Vh};return h.a.createElement(Wh,W()({className:_()(a,"overflow-hidden br3 bg-gray-0"),title:r,submitButtonLabel:s,submitButtonIcon:x.move,notificationMode:Gh.a.NONE},e,{fieldsIds:n,fieldsInputComponents:o}))};Ba.a.register(Hh,Yh);var Qh="FOLDER_MOVE_MODAL",Kh=function(e){return h.a.createElement(Yh,W()({warning:Object(Ue.j)("folderMoveModal.warning"),closeOnSubmitDelay:3e3},e,{fieldsIds:he.b.PARENT_ID}))};Ba.a.register(Qh,Kh);var Zh="RENAME_MODAL",qh=function(e){var t=Object(Ue.j)("renameModal.title",{name:Object(N.a)(e.item)}),a=Object(Ue.j)("renameModal.submitButtonLabel"),n=e.item.itemType===pe.w.FOLDER?he.b.NAME:fl.c.NAME;return h.a.createElement(Rd,W()({title:t,submitButtonLabel:a},e,{fieldsIds:n,dataTest:"prompt-dialog"}))};Ba.a.register(Zh,qh);var Xh="FOLDER_RENAME_MODAL",Jh=function(e){return h.a.createElement(qh,W()({},e,{warning:Object(Ue.j)("folderRenameModal.warning"),closeOnSubmitDelay:3e3}))};Ba.a.register(Xh,Jh);var $h="COLLECTION_RENAME_MODAL",eg=function(e){return h.a.createElement(qh,e)};Ba.a.register($h,eg);var tg=h.a.createContext(""),ag=function(e){var t=function(t){return h.a.createElement(tg.Consumer,null,(function(a){return h.a.createElement(e,W()({},t,{listId:a}))}))};return t.displayName="ConnectToListContext",t},ng=a(88),rg=a(163),sg=Object(k.css)(["word-break:break-all !important;word-break:break-word !important;white-space:normal !important;word-wrap:break-word !important;"]),og=pe.y.DELETE_ITEM,ig=k.default.p.withConfig({displayName:"DeleteContainerModal__TextWrap",componentId:"sc-1ic9qjt-0"})(["",""],sg),lg=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{isLoading:!0,canDelete:!1,resourceCount:null}),p()(c()(t),"maxChildrenCountExceededModalBody",(function(){var e=fe.v.includes(t.props.user.role);return b.createElement(Lt.a,null,b.createElement("p",null,Object(Ue.j)("deleteModal.maxAllowed."+t.props.item.itemType+".max")),b.createElement("p",null,Object(Ue.j)("deleteModal.maxAllowed."+t.props.item.itemType+"."+(e?"admin":"nonAdmin"))," ",b.createElement(rg.a,{name:"intent to bulk delete",onClick:t.props.hideModal,to:ng.a.path.modules.react.settings+"/bulk_delete/new"},Object(Ue.j)("deleteModal.maxAllowed."+t.props.item.itemType+".pageName"))," ",Object(Ue.j)("deleteModal.maxAllowed."+t.props.item.itemType+".option")))})),p()(c()(t),"allowDeleteModalBody",(function(){var e=t.state.resourceCount,a=Object(Ue.j)("deleteModal.body",{itemName:t.props.item.name||t.props.item.publicId,itemType:t.props.item.itemType}),n=e?Object(Ue.j)("deleteModal.subText."+t.props.item.itemType,{count:e}):"";return b.createElement(Lt.a,null,b.createElement(ig,{className:"fs-exclude"},a),b.createElement("p",null,n))})),p()(c()(t),"renderBodyContent",(function(){return t.state.canDelete?t.allowDeleteModalBody():t.maxChildrenCountExceededModalBody()})),p()(c()(t),"getResourceCountOfFolder",i()(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(a=t.props.item[ze.b.AGGREGATION])||void 0===a?void 0:a.resourceCount,!Mh()(n)){e.next=7;break}return e.next=4,t.props.loadItem(t.props.item.itemType,t.props.item.id,{forceLoad:!0,apiOptions:{propTypes:ze.b.AGGREGATION}});case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t.props.item;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})))),p()(c()(t),"confirmDelete",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.props.trackEvent(fe.f.DELETE,t.props.item.itemType+" deleted successfully"),e.next=3,t.props.deleteItemFromGrid(t.props.item);case 3:case"end":return e.stop()}}),e)})))),p()(c()(t),"unmounted",!1),p()(c()(t),"headerLabel",t.props.item.itemType===pe.w.FOLDER?"Folder and Assets":eh()(t.props.item.itemType)),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=i()(s.a.mark((function e(){var t,a,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.item.itemType!==pe.w.FOLDER){e.next=18;break}return e.prev=1,a=pe.r["TIER_"+this.props.apiLevel].DELETE_FOLDER_ASSETS,e.next=5,this.getResourceCountOfFolder();case 5:n=e.sent,r=null===(t=n[ze.b.AGGREGATION])||void 0===t?void 0:t.resourceCount,(o=r<=a)||this.props.trackEvent(fe.f.SHOW,"view error with bulk delete link"),!this.unmounted&&this.setState({isLoading:!1,canDelete:o,resourceCount:r}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),this.props.hideModal(),Be.d.error(Object(Ue.j)("deleteModal.failed"));case 16:e.next=19;break;case 18:!this.unmounted&&this.setState({isLoading:!1,canDelete:!0});case 19:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){return b.createElement(ho.b,{onConfirm:this.confirmDelete,title:Object(Ue.j)("deleteModal.header",{headerLabel:this.headerLabel}),renderBodyContent:this.renderBodyContent,primaryButtonText:Object(Ue.j)("deleteModal.confirmText"),primaryButtonVariant:"error",isPrimaryDisabled:!this.state.canDelete,isLoading:this.state.isLoading,secondaryButtonText:Object(Ue.j)("deleteModal.cancelButton")})},t}(b.Component),cg=function(e){return{apiLevel:Object(zt.selectApiLevel)(e),user:Object(zt.selectUser)(e)}},dg={deleteItemFromGrid:zu.deleteItemFromGrid,hideModal:wa.hideModal,loadItem:j.loadItem},ug=Object(g.connect)(cg,dg)(lg);Ba.a.register(og,Object(le.b)(ug));var mg=og,pg=a(399),fg=a(448),bg=a(629),hg=a(3925),gg=a.n(hg),vg=["prefix","kind","signature","transformation","public_id"],Eg=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{collapsed:t.props.collapsible,display:{prefix:!t.props.collapsible,kind:!t.props.collapsible,signature:!0,transformation:!0,public_id:!0},tooltip:Object(Ue.j)("copyUrl.beforeCopy")}),p()(c()(t),"onUrlCopy",(function(){(0,t.props.trackEvent)(fe.f.COPY_URL,"derived url copied from snippet"),t.setState({tooltip:Object(Ue.j)("copyUrl.afterCopy")})})),p()(c()(t),"onTooltipHide",(function(){t.setState({tooltip:Object(Ue.j)("copyUrl.beforeCopy")})})),p()(c()(t),"toggleCollapse",(function(){var e=t.props.trackEvent,a=!t.state.collapsed;e(fe.f.SHOW_HIDE,a?"collapse full derived url path":"expand full derived url path"),t.setState({collapsed:a,display:W()({},t.state.display,{prefix:!a,kind:!a})})})),t}u()(t,e);var a=t.prototype;return a.wrapWithCopy=function(e){var t=this.props.url,a=this.state.tooltip;return b.createElement(Z.a,{tooltipText:a,className:"fs-exclude",tooltipPosition:"bottom",hideOnClick:!1,onHide:this.onTooltipHide},b.createElement(gl.CopyToClipboard,{text:t,onCopy:this.onUrlCopy,"data-test":"asset-url-copy-to-clipboard",options:{onCopy:function(e){return Object(me.a)(e,t,!0)}}},e))},a.renderUrl=function(){var e,t=this.props,a=t.url,n=t.transformation,r=t.collapsible,s=t.copyable,o=t.isBlockedDeliveryUrl,i=t.asset,l=this.state.display,c={};try{c=jg(a,n)}catch(e){c.public_id=a}return b.createElement("p",{className:_()("code",gg.a.url,(e={},e[gg.a.copyable]=s,e))},vg.map((function(e){return(!r||l[e])&&b.createElement("span",{className:_()(gg.a[e]),key:e,"data-test":"asset-url-"+e,onClick:function(){return o&&Object(bg.b)(i)}},c[e])})))},a.render=function(){var e=this.props,t=e.collapsible,a=e.copyable,n=e.isBlockedDeliveryUrl,r=this.state.collapsed;return b.createElement("div",{className:_()("flex items-center pl1",gg.a.wrapper)},t&&b.createElement(bn.b,{size:"sm",skin:"menuDark",icon:x.cloud,onClick:this.toggleCollapse}),t&&r&&b.createElement("span",{className:_()(gg.a.ellipsis)},"…/"),a&&!n?this.wrapWithCopy(this.renderUrl()):this.renderUrl())},t}(b.Component);p()(Eg,"defaultProps",{collapsible:!0,copyable:!0});var yg=Object(le.b)(Eg);function jg(e,t){var a=Og(e,t),n=wg(e),r=Ig(e),s=e.substring(r.length),o={prefix:r,kind:"",transformation:a,signature:n,public_id:""};if(a){var i=s.split(a),l=i[0],c=i[1];o.public_id=c,o.kind=n?s.substring(0,s.indexOf(n)):l}else if(n){var d=s.split(n),u=d[0],m=d[1];o.kind=u,o.public_id=m}else{var p=s.split("/");p.length>3?(o.kind=p.slice(0,3).join("/")+"/",o.public_id=""+p.slice(3).join("/")):3===p.length?(o.kind=p.slice(0,2).join("/")+"/",o.public_id=""+p[2]):2===p.length?(o.kind=p[0]+"/",o.public_id=""+p[1]):1===p.length&&(o.public_id=p[0])}return o.public_id=decodeURIComponent(o.public_id),o}function Og(e,t){return e&&t&&-1!==e.indexOf(t)?t+"/":null}function wg(e){var t=e&&e.split("/").find((function(e){return e.search(/^s--.+--$/)>-1}));return t?t+"/":null}function Ig(e){return e.slice(0,e.indexOf("/",8)+1)}var Tg=function(e){var t=e.asset,a=e.derivedUrl,n=e.isBlockedDeliveryUrl,r=V()(e,["asset","derivedUrl","isBlockedDeliveryUrl"]),s=Object(Oa.a)(t).restricted?Object(Ue.j)("copyUrl.beforeAuthenticatedCopy"):Object(Ue.j)("copyUrl.beforeCopy"),o=Object(Oa.a)(t).restricted,i=a||t.secure_url,l=n?x.codeBlocked:o?x.codeAuthenticated:x.code;return h.a.createElement(Mf,W()({beforeCopyText:s,text:i,isUrl:!0,icon:l},r,{isCopyBlocked:n,buttonDataTest:"action-copy-url-btn"}))},Mg=Tg,Cg="ASSET_DELIVERY_MODAL",Ng=k.default.div.withConfig({displayName:"AssetDeliveryModal__Caption",componentId:"wd9ck0-0"})(["font-size:14px;color:",";font-weight:500;margin-bottom:5px;"],tt.q),xg=k.default.div.withConfig({displayName:"AssetDeliveryModal__Warning",componentId:"wd9ck0-1"})(["font-size:10px;line-height:14px;color:",";"],tt.o),Ag=k.default.div.withConfig({displayName:"AssetDeliveryModal__DeliveryUrlContainer",componentId:"wd9ck0-2"})(["background-color:",";display:flex;padding:5px;border-radius:3px;"],tt.r),Dg=k.default.div.withConfig({displayName:"AssetDeliveryModal__AssetUrlContainer",componentId:"wd9ck0-3"})(["display:flex;"]),Lg=k.default.div.withConfig({displayName:"AssetDeliveryModal__ButtonsContainer",componentId:"wd9ck0-4"})(["display:flex;align-items:center;"]),Sg=function(e,t){t(fe.f.NAVIGATE,"open derived url in new tab"),window.open(e,"_blank")},kg=function(e){e(fe.f.COPY_URL,"derived url copied from icon")},Pg=function(e){var t=e.asset,a=e.derivedUrl,n=e.transformation,r=e.hideModal,s=e.trackEvent,o=Object(Oa.a)(t).restricted;return h.a.createElement(ul.a,{onClose:r,dataTest:"asset-delivery-modal",width:600},h.a.createElement(Wo.c,{icon:"embed",title:Object(Ue.j)("modals.assetDeliveryModal.title",{name:t.filename}),tooltip:!0}),h.a.createElement(Wo.a,null,h.a.createElement(Ng,null,Object(Ue.j)("modals.assetDeliveryModal.deliveryUrl")),h.a.createElement(Ag,null,h.a.createElement(Dg,null,h.a.createElement(yg,{url:a,transformation:n,collapsible:!1})),h.a.createElement(Lg,null,h.a.createElement(bn.b,{size:"sm",skin:"menuDark",tooltipText:Object(Ue.j)("assetDrilldown.templates.openInNew"),tooltipPosition:"top",dataTest:"asset-delivery-modal-open-in-new-tab",icon:x.openInNew,onClick:function(){return Sg(a,s)}}),h.a.createElement(Mg,{size:"sm",skin:"menuDark",dataTest:"asset-url-actions-open",onClick:function(){return kg(s)},asset:t,derivedUrl:a}))),o&&h.a.createElement(xg,{className:"mt3 flex items-center"},h.a.createElement(ee.a,{path:x.info,color:"primary",size:"sm"}),h.a.createElement("span",{className:"pl1"},""+Object(Ue.j)("modals.assetDeliveryModal.warning")))))},_g={hideModal:wa.hideModal},Rg=Object(g.connect)(null,_g)(Pg);Ba.a.register(Cg,Object(le.b)(Rg));var Fg=Cg,zg=a(372),Bg=a.n(zg),Ug=a(79),Vg=30,Gg=function(e,t){var a=Object(b.useState)(!0),n=a[0],r=a[1],o=Object(b.useState)(void 0),l=o[0],c=o[1],d=Object(b.useState)(void 0),u=d[0],m=d[1],p=Object($d.a)(),f=Object(g.useDispatch)();return{isLoading:n,error:l,collections:u,search:Object(b.useCallback)(function(){var a=i()(s.a.mark((function a(n){var o,i,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(!1),c(void 0),p.cancel(),a.prev=3,r(!0),a.next=7,f(Object(j.loadItems)(pe.w.COLLECTION,{filter:{search:{term:n,filter:{role:ib.c.COLLABORATOR},maxResults:Vg}}}));case 7:o=a.sent,i=o.items,l=i.find((function(t){return t.name===n&&t.user_id===e})),t&&!l&&n.length>0&&i.unshift({id:n,itemType:pe.w.COLLECTION,name:n,userName:Object(Ue.j)("addAssetsToCollection.create"),icon:x.addMultiple,newCollection:!0}),m(i),r(!1),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),a.t0.canceled||(c(a.t0.message),r(!1));case 18:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e){return a.apply(this,arguments)}}(),[t,e,p,f])}},Wg=function(e,t){void 0===t&&(t=[]);var a=Object(g.useSelector)(zt.selectUser).id,n=Gg(a,e),r=n.collections,s=n.isLoading,o=n.search,i=Object(ss.a)(o,300)[0],l=r?r.filter((function(e){return!t.some((function(t){return t===e.id}))})):void 0;return Object(b.useEffect)((function(){o("")}),[o]),{collections:l,isLoading:s,search:i}},Hg=k.default.div.withConfig({displayName:"EmptyNoCollections__Container",componentId:"rgwx38-0"})(["height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:",";> img{margin-bottom:21px;}> div{font-size:14px;font-weight:300;line-height:18.06px;text-align:center;}"],tt.k),Yg=function(){return h.a.createElement(Hg,null,h.a.createElement("img",{alt:"no-collections",src:Ue.b.url.prodRes+"/image/upload/console/empty_no_collections.svg"}),h.a.createElement("div",null,Object(Ue.j)("addAssetsToCollection.emptyNoCollections")))},Qg=function(e){var t=e.icon,a=e.searchTerm,n=e.onClick,r=e.onKeyDown,s=e.isSelected,o=e.collection;return h.a.createElement(kE,{displaySubtitle:!0,showResourceCount:!1,highlightTerm:a,onClick:n,onKeyDown:r,className:_()({selected:s}),icon:t,tabIndex:"0",hideNewItemBadge:!0,item:o})},Kg=k.default.div.withConfig({displayName:"CollectionPickerInline__Container",componentId:"sc-1qspps7-0"})(["border-radius:5px;border:1px solid ",";margin-top:15px;overflow:hidden;& > div{height:280px;overflow:hidden;overflow-y:auto;ul{padding:0px;margin:0px;li{height:40px;.title{font-size:12px;color:",";}.subtitle{font-size:10px;color:",";}&:hover,&:focus{outline:none;background-color:",";}&.selected{background-color:",";.title,.subtitle{color:"," !important;}path{fill:"," !important;}}}}}"],tt.n,tt.j,tt.q,tt.l,tt.a,tt.h,tt.h),Zg=function(){return h.a.createElement("div",{className:"loading-content flex justify-center items-center h-100"},h.a.createElement(vn.a,{dataTest:"collections-loader-spinner",variant:"secondary",width:"40%"}))},qg=function(e){var t=e.collections,a=e.searchTerm,n=e.onSelect,r=e.selectedCollection;return h.a.createElement(Kg,{"data-test":"collections-picker-inline-container"},h.a.createElement("div",null,!t&&h.a.createElement(Zg,null),null!=t&&t.length?h.a.createElement("ul",null,t.map((function(e){return h.a.createElement(Qg,{isSelected:(null==r?void 0:r.id)===e.id,icon:e.newCollection?x.addMultiple:null,searchTerm:a,key:e.id,onClick:function(e){return n(e)},onKeyDown:function(e){return n(e)},collection:e})}))):h.a.createElement(Yg,null)))},Xg=qg,Jg=Ug.c.ADD_ASSETS_TO_COLLECTION_MODAL,$g=pe.r.MAX_NAME_LENGTH[fl.e],ev=k.default.div.withConfig({displayName:"AddAssetsToCollectionModal__SearchContainer",componentId:"e59u51-0"})(["div{border-color:",";}"],tt.n),tv=Object(k.default)(Bg.a).withConfig({displayName:"AddAssetsToCollectionModal__StyledInput",componentId:"e59u51-1"})(["font-size:12px;line-height:16px;"]),av=ql()((function(e){return e.some((function(e){return Object(Oa.a)(e).restricted}))})),nv=function(e){var t=e.createItem,a=e.updateItem,n=e.hideModal,r=e.assets,o=e.trackEvent,l=e.canCreateCollection,c=Wg(l),d=c.collections,u=c.isLoading,m=c.search,p=Object(b.useState)(!1),f=p[0],g=p[1],v=Object(b.useState)(""),E=v[0],y=v[1],j=Object(b.useState)(""),O=j[0],w=j[1],I=Object(b.useState)(""),T=I[0],M=I[1],C=Object(b.useState)(null),N=C[0],A=C[1],D=Object(b.useState)(!1),L=D[0],S=D[1];Object(b.useEffect)((function(){Nu()(N)||!d||d.some((function(e){return e.id===N.id}))||A(null)}),[d,N]);var k=function(){var e=i()(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,fl.b.ASSETS,r,ze.q.ADD,{showBrowseLink:!0,disableErrorToast:!0});case 2:if(null==(n=e.sent)||!n.error_code){e.next=7;break}return o=Object(Be.b)(ze.h.UPDATE_ITEM,ze.n.ERROR,{itemType:fl.e,updateType:ze.q.ADD,propName:fl.b.ASSETS,error:{payload:n}}),y(o),e.abrupt("return",{error:o});case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=i()(s.a.mark((function e(a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(fl.e,{name:a});case 2:if(null==(r=e.sent)||null===(n=r.payload)||void 0===n||!n.error_code){e.next=9;break}return o=Object(Be.b)(ze.h.CREATE_ITEM,ze.n.ERROR,{itemType:fl.e,error:{payload:null==r?void 0:r.payload}}),y(o),e.abrupt("return",{error:o});case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=i()(s.a.mark((function e(){var t,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:if(y(""),g(!0),!N.newCollection){e.next=10;break}return e.next=7,P(N.name);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=N;case 11:if((r=e.t0).error){e.next=17;break}return e.next=15,k(r);case 15:(a=e.sent).error||(i=N.newCollection?"new":"existing",o(fe.f.ADD,"assets added to "+i+" collection successfully"));case 17:g(!1),null!==(t=a)&&void 0!==t&&t.error||r.error||n();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=av(r)?h.a.createElement("span",null,Object(Ue.j)("selection.addAssetsToCollectionModal.warning.nonPublicAssets")," ",h.a.createElement("a",{href:Ue.b.url.accessControlModes,target:"_blank",rel:"noopener noreferrer"},Object(Ue.j)("selection.addAssetsToCollectionModal.warning.link"))," ",Object(Ue.j)("selection.addAssetsToCollectionModal.warning.nonPublicAssetsB")):"",F=Nu()(N)||u,z=u&&!L,B=r.length>1?Object(Ue.j)("selection.addToCollectionPlural",{count:r.length}):Object(Ue.j)("selection.addToCollection");return h.a.createElement(Ua.a,{onClose:n,onConfirm:_,cancelDataTest:"selection-tag-cancel",confirmDataTest:"selection-add-assets-to-collection",confirmIcon:"approve",confirmText:Object(Ue.j)("selection.add"),dataTest:"add-assets-to-collection-modal",headerTitle:B,headerIcon:"collection",isInProgress:f,isConfirmDisabled:F},h.a.createElement(ev,null,h.a.createElement(tv,{disabled:z,value:O,onChange:function(e){var t=Jl()(e);y(t.length>$g?Object(Ue.j)("itemTitle.nameTooLong",{itemType:fl.e,limit:$g}):""),w(e),M(t),S(!0),m(t)},trailingDecoration:h.a.createElement(et.a,{name:"search",size:"sm",variant:"contrastLow"}),placeholder:z?Object(Ue.j)("addAssetsToCollection.loading"):Object(Ue.j)("addAssetsToCollection.placeholderCollectionName")})),h.a.createElement(Xg,{collections:d,onSelect:function(e){A(e)},searchTerm:T,selectedCollection:N}),!E&&R&&h.a.createElement("div",{className:"mt3 flex items-center"},h.a.createElement(ee.a,{path:x.info,color:"primary",size:"sm"}),h.a.createElement("span",{className:"pl1"},R)),E&&h.a.createElement("div",{className:"mt3 flex items-center"},h.a.createElement(ee.a,{path:x.warning,color:"destructive",size:"sm"}),h.a.createElement("span",{className:"pl1"},E)))},rv=function(e){return{canCreateCollection:Object(Ie.selectIsGlobalCollectionOperationAllowed)(e)(ce.a.CREATE_ITEM)}},sv={hideModal:wa.hideModal,updateItem:j.updateItem,createItem:j.createItem},ov=Object(g.connect)(rv,sv)(nv);Ba.a.register(Jg,Object(le.b)(ov));var iv=Jg,lv=a(616),cv=a(750),dv=a(839),uv=a.n(dv),mv=a(633),pv=a(203),fv=Object(k.default)(ul.a).withConfig({displayName:"CustomActionstyles__StyledModal",componentId:"w18wym-0"})(["width:90vw;height:calc((var(--vh,1vh) * 100) - 6 * ",");display:flex;flex-direction:column;","{height:100%;}"],At.a.spacing.md,pv.ModalCard),bv=Object(k.default)(Wo.a).withConfig({displayName:"CustomActionstyles__StyledBody",componentId:"w18wym-1"})(["position:relative;flex-grow:1;padding:0px !important;display:flex;flex-direction:column;max-height:100%;height:100%;overflow:hidden;& > div{height:100%;}"]),hv=k.default.div.withConfig({displayName:"CustomActionstyles__CustomActionIframeContainer",componentId:"w18wym-2"})(["height:100%;flex-grow:1;display:flex;flex-direction:column;iframe{flex-grow:1;}"]),gv=Object(k.default)(vn.a).withConfig({displayName:"CustomActionstyles__StyledSpinner",componentId:"w18wym-3"})(["position:absolute;width:100%;height:100%;"]),vv=a(1606),Ev=a(43),yv=dv.MediaLibraryEvents.CLOSE_MODAL,jv=dv.MediaLibraryEvents.DOWNLOAD_ITEMS,Ov=dv.MediaLibraryEvents.TOAST,wv=dv.MediaLibraryEvents.UPDATE_ITEMS,Iv=dv.MediaLibraryEvents.CREATE_ITEM,Tv=dv.MediaLibraryEvents.GET_ITEMS,Mv=dv.MediaLibraryEvents.UPLOAD,Cv="CUSTOM_ACTION_MODAL",Nv="custom-action-container",xv=function(e){var t=e.customAction,a=e.hideModal,n=e.iframeUrl,r=e.message,o=e.performItemOperation,l=Object(b.useState)(!0),c=l[0],d=l[1],u=Object(b.useRef)(null),m=Object(b.useRef)(null),p=t.appTitle||t.actionLabel;Object(b.useEffect)((function(){if(!m.current){var e,l,c,u,f,b,h;m.current=uv()(n,"#"+Nv,r,{onload:function(){return d(!1)},title:t.actionLabel,onerror:function(){throw Error("Custom action "+p+" failed to load in iframe")},style:{display:"block"}}),null===(e=m.current)||void 0===e||e.on(yv,a),null===(l=m.current)||void 0===l||l.on(Ov,(function(e){var t=e.message,a=e.type,n=void 0===a?"success":a;Be.d[n](t)})),null===(c=m.current)||void 0===c||c.on(Tv,function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Ev.k.GET,a,m.current,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===(u=m.current)||void 0===u||u.on(Iv,function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Ev.k.CREATE,a,m.current,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===(f=m.current)||void 0===f||f.on(wv,function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Ev.k.UPDATE,a,m.current,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===(b=m.current)||void 0===b||b.on(jv,function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Ev.k.DOWNLOAD,a,m.current,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===(h=m.current)||void 0===h||h.on(Mv,function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Ev.k.UPLOAD,a,m.current,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[p,n,r,t,a,o]),Object(b.useEffect)((function(){return function(){var e;null===(e=m.current)||void 0===e||e.destroy(),m.current=null}}),[]);var f=Object(b.useCallback)((function(e){var t,a,n=null===(t=u.current)||void 0===t?void 0:t.querySelector("iframe");n&&"ready"===(null===(a=e.data)||void 0===a?void 0:a.status)&&n.contentWindow.postMessage(r,"*")}),[u,r]);return Object(b.useEffect)((function(){if(!jr()(t.appMessageParams))return window.addEventListener("message",f),function(){window.removeEventListener("message",f)}}),[f,t]),h.a.createElement(fv,{onClose:a,dataTest:"asset-delivery-modal",customNode:document.body},h.a.createElement(Wo.c,{title:p,icon:t.actionIcon}),h.a.createElement(bv,null,c&&h.a.createElement(gv,null),h.a.createElement(hv,{id:Nv,ref:u})))},Av=function(e,t){return{iframeUrl:Object(mv.selectCustomActionUrl)(e,t.customAction,t.items),message:Object(mv.selectCustomActionMessagePayload)(e,t.customAction,t.items)}},Dv={hideModal:wa.hideModal,performItemOperation:vv.performItemOperation},Lv=Object(g.connect)(Av,Dv)(xv);Ba.a.register(Cv,Object(le.b)(Lv));var Sv=Cv,kv=a(1563),Pv=a(152),_v=a(375),Rv=a(214),Fv=a(523),zv=Object.freeze({REMOVE_COLLECTION:"REMOVE_COLLECTION_MODAL"}),Bv=zv.REMOVE_COLLECTION,Uv=function(e){var t=e.collectionId,a=e.assets,n=e.operationId,r=e.operationStart,o=e.operationEnd,l=e.clearSelection,c=e.removeAssetsFromCollection,d=e.trackEvent,u=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(fe.f.REMOVE,"assets removed from collection successfully"),r(n),e.next=4,c(t,a);case 4:o(n),l();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b.createElement(ho.b,{onConfirm:u,title:Object(Ue.j)("removeFromCollectionModal.header",{count:a.length}),text:Object(Ue.j)("removeFromCollectionModal.body",{count:a.length}),primaryButtonText:Object(Ue.j)("removeFromCollectionModal.remove"),primaryButtonVariant:"error",secondaryButtonText:Object(Ue.j)("removeFromCollectionModal.cancel")})},Vv=function(e,t){return{collection:Object(_t.selectItem)(e,fl.e,t.collectionId)}},Gv={operationStart:Fv.addOperationId,operationEnd:Fv.removeOperationId,clearSelection:Rv.clearSelection,updateItem:j.updateItem},Wv=function(e,t,a){return W()({},t,a,{removeAssetsFromCollection:(n=i()(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=e.collection,!n.t0){n.next=4;break}return n.next=4,t.updateItem(e.collection,fl.b.ASSETS,a.assets,ze.q.REMOVE);case 4:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})});var n},Hv=Object(g.connect)(Vv,Gv,Wv)(Uv);Ba.a.register(Bv,Object(le.b)(Hv));var Yv=Bv,Qv=a(1253),Kv=a.n(Qv),Zv=k.default.img.withConfig({displayName:"PopoverMenuItem__StyledCustomIcon",componentId:"sc-1hwba4h-0"})(["max-width:14px;max-height:14px;filter:",";"],tt.p),qv=Object(k.default)($e.Icon).withConfig({displayName:"PopoverMenuItem__StyledIcon",componentId:"sc-1hwba4h-1"})(["margin-right:",";"],At.a.spacing.md),Xv=k.default.div.withConfig({displayName:"PopoverMenuItem__MenuItem",componentId:"sc-1hwba4h-2"})(["&:hover ","{filter:",";}"],Zv,tt.i),Jv=Object(k.default)(ee.a).withConfig({displayName:"PopoverMenuItem__StyledRightSideIcon",componentId:"sc-1hwba4h-3"})(["right:8px;position:absolute;"]),$v=function(e){return null!=e&&e.startsWith("http")?h.a.createElement(Zv,{className:"mr3",src:e}):e&&h.a.createElement(qv,{name:e,size:"md"})},eE=function(e){return e&&h.a.createElement(Jv,{color:"gray-70",path:e,size:"xs"})},tE=function(e){return h.a.createElement("div",{className:"flex-nowrap items-center justify-center"},e)},aE=function(e){var t,a=_()(Kv.a.popoverMenuItem,((t={})[Kv.a.disabled]=e.disabled,t),"flex flex-nowrap items-center","truncate","pointer","normal f-sm lh-normal","black hover-white hover-bg-action-light","pt2 pb2 pl3",{pr3:!e.rightSideIcon},{pr4:e.rightSideIcon},e.className);return h.a.createElement(Xv,{onClick:function(t){e.onClick&&e.onClick(t)},className:a,"data-test":e.dataTest},$v(e.icon),tE(e.children),eE(e.rightSideIcon))},nE=aE,rE=Object(k.default)(et.a).withConfig({displayName:"OperationMenuItemstyles__StyledIcon",componentId:"sc-1qmkysh-0"})(["margin-left:auto;"]),sE=function(e){var t=e.label,a=e.icon,n=e.onClick,r=e.rightSideIcon,s=e.operation,o=e.isSelected;return h.a.createElement(Ph.MenuItem,{onClick:n,"data-test":"action-"+s+"-btn"},h.a.createElement(Ls.Item,{showCheckIconWhenSelected:!0,isSelected:o},h.a.createElement(Ls.Text,null,$v(a),t,r&&h.a.createElement(rE,{size:"md",name:"openInNew"}))))},oE=function(e){var t=e.operation,a=e.label,n=e.icon,r=e.onClick,s=e.isSelected;return h.a.createElement(Ls.Item,{onClick:r,size:"md","data-test":"action-"+t+"-btn",showCheckIconWhenSelected:!0,isSelected:s},h.a.createElement(Ls.Text,null,$v(n),a))},iE=a(862),lE=function(e){var t=_()("flex flex-column z-9999","pt2 pb2",e.className);return h.a.createElement(iE.a,{className:t},e.children)},cE=lE,dE={isRounded:!0},uE=function(e){var t=e.children;return h.a.createElement(cE,{className:"pv0"},h.a.createElement(Ph.Menu,{variant:dE},t))},mE=function(){return Be.d.success(Object(Ue.j)("copyUrl.afterCopy"))},pE=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"onAddToPortal",(function(e){t.props.trackEvent(fe.f.ADD,"intent to add collection to portal");var a=t.props.portals[0];t.props.addCollectionToPortal(t.props.item.id,a),e.stopPropagation()})),p()(c()(t),"onBrowseClicked",(function(e){t.props.trackEvent(fe.f.NAVIGATE,t.props.item.itemType+" selected"),Object(be.u)(t.props.item),e.stopPropagation()})),p()(c()(t),"onCreateClicked",(function(e){t.props.trackEvent(fe.f.CREATE,"intent to create new "+t.props.item.itemType),t.props.showModal(th.a,{trackingCategory:t.props.trackingCategory,itemType:t.props.item.itemType,currentId:t.props.item.id}),e.stopPropagation()})),p()(c()(t),"onShareClicked",(function(e){t.props.trackEvent(fe.f.SHARE,"intent to share "+t.props.item.itemType),t.props.showModal(id,{shareItemId:t.props.item.id,shareItemType:t.props.item.itemType,trackingCategory:Object(Ue.j)(Ii.a.CATEGORY,{shareItemType:t.props.item.itemType}),mode:t.props.item.itemType===pe.w.ASSET?dl.INNER_LINK:dl.PERMISSIONS}),e.stopPropagation()})),p()(c()(t),"onDeleteClicked",(function(e){t.props.trackEvent(fe.f.DELETE,"intent to delete "+t.props.item.itemType),t.props.item.itemType===pe.w.FOLDER?t.props.deleteFolder(t.props.item,!1,t.props.trackingCategory):t.props.showModal(mg,{item:t.props.item,trackingCategory:t.props.trackingCategory}),e.stopPropagation()})),p()(c()(t),"onDownloadClicked",function(){var e=i()(s.a.mark((function e(a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.stopPropagation(),n=t.props.item.itemType+" downloaded successfully",r=t.props.item.itemType===pe.w.ASSET?{apiOptions:{targetPublicId:t.props.item.filename}}:{},o=t.props.item.itemType===pe.w.ASSET?{}:{enableInProgressToast:!0,extension:"zip"},t.props.trackEvent(fe.f.DOWNLOAD,n),e.next=7,t.props.downloadItem(t.props.item,r,o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p()(c()(t),"onPreviewClicked",(function(e){t.props.trackEvent(fe.f.PREVIEW,"preview "+t.props.item.itemType),t.props.openPreviewPane(),t.props.setListActiveItemId(t.props.listId,t.props.item.id),e.stopPropagation()})),p()(c()(t),"onRenameClicked",(function(e){t.props.trackEvent(fe.f.EDIT,"intent to rename "+t.props.item.itemType),t.props.item.itemType===pe.w.ASSET?t.props.setItemTitleFocused(!0):t.props.item.itemType===pe.w.COLLECTION?t.props.showModal($h,{trackingCategory:t.props.trackingCategory,item:t.props.item}):t.props.showModal(Xh,{trackingCategory:t.props.trackingCategory,item:t.props.item}),e.stopPropagation()})),p()(c()(t),"onMoveClicked",(function(e){t.props.trackEvent(fe.f.MOVE,"intent to move "+t.props.item.itemType),t.props.item.itemType===pe.w.ASSET?(t.props.togglePopover(!1),t.props.togglePopover(ge.j.MOVE_ASSET,!0)):t.props.item.itemType===pe.w.FOLDER&&t.props.showModal(Qh,{trackingCategory:t.props.trackingCategory,item:t.props.item}),e.stopPropagation()})),p()(c()(t),"onApproveClicked",(function(e){t.props.trackEvent(fe.f.MODERATION,t.props.item.resource_type+" "+fg.a.APPROVED),t.props.updateItem(t.props.item,ge.k.MODERATION_STATUS,fg.a.APPROVED),e.stopPropagation()})),p()(c()(t),"onRejectClicked",(function(e){t.props.trackEvent(fe.f.MODERATION,t.props.item.resource_type+" "+fg.a.REJECTED),t.props.updateItem(t.props.item,ge.k.MODERATION_STATUS,fg.a.REJECTED),e.stopPropagation()})),p()(c()(t),"onAnalyzeClicked",(function(e){if(e.stopPropagation(),Object(me.i)(e)){t.props.trackEvent(fe.f.NAVIGATE,"manage "+t.props.item.itemType+" page analysis tab in new tab");var a=Object(be.b)(t.props.item,ft.a);je(a)}else t.props.trackEvent(fe.f.NAVIGATE,"manage "+t.props.item.itemType+" page analysis tab"),e.preventDefault(),Object(be.k)(t.props.item,ft.a)})),p()(c()(t),"onTransformClicked",(function(e){if(e.stopPropagation(),Object(me.i)(e)){t.props.trackEvent(fe.f.NAVIGATE,"transform "+t.props.item.itemType+" page in new tab");var a=Object(be.c)(t.props.item);je(a)}else t.props.trackEvent(fe.f.NAVIGATE,"transform "+t.props.item.itemType+" page"),e.preventDefault(),Object(be.m)(t.props.item)})),p()(c()(t),"onAccessControlClicked",(function(e){e.stopPropagation(),t.props.trackEvent(fe.f.ACCESS_CONTROL,"intent to set access control"),t.props.showModal(Xa,{asset:t.props.item,multi:!1})})),p()(c()(t),"onDeliveryClicked",(function(e){e.stopPropagation(),t.props.trackEvent(fe.f.EMBED,"intent to embed delivery URL"),t.props.showModal(Fg,{asset:t.props.item,derivedUrl:t.props.item.secureUrl})})),p()(c()(t),"onManageClicked",(function(e){if(e.stopPropagation(),Object(me.i)(e)){t.props.trackEvent(fe.f.NAVIGATE,"manage "+t.props.item.itemType+" page in new tab");var a=Object(be.b)(t.props.item);je(a)}else t.props.trackEvent(fe.f.NAVIGATE,"manage "+t.props.item.itemType+" page"),e.preventDefault(),Object(be.k)(t.props.item)})),p()(c()(t),"onShowContainingItemClicked",(function(e){Oe(e,t.props.item,t.props.trackEvent)})),p()(c()(t),"onVersionHistoryClicked",(function(e){e.stopPropagation(),t.props.trackEvent(fe.f.VERSION_MANAGE,"intent to manage versions - from top menu"),t.props.showVersionHistoryModal(t.props.item)})),p()(c()(t),"onAddToCollectionClicked",(function(e){e.preventDefault(),t.props.trackEvent(fe.f.ADD,"intent to add asset to collection"),t.props.showModal(iv,{assets:[t.props.item],trackingCategory:t.props.trackingCategory})})),p()(c()(t),"onRemoveFromCollectionClicked",(function(e){e.stopPropagation();var a=t.props,n=a.collectionId,r=a.item,s=a.showModal;(0,a.trackEvent)(fe.f.REMOVE,"intent to remove asset from collection"),s(Yv,{collectionId:n,assets:[r],trackingCategory:t.props.trackingCategory})})),p()(c()(t),"getClickHandler",(function(e){switch(e){case ce.a.ADD_TO_PORTAL:return t.onAddToPortal;case ce.a.BROWSE_ITEM:return t.onBrowseClicked;case ce.a.CREATE_ITEM:return t.onCreateClicked;case ce.a.SHARE_ITEM:return t.onShareClicked;case ce.a.DELETE_ITEM:return t.onDeleteClicked;case ce.a.DOWNLOAD_ITEM:return t.onDownloadClicked;case ce.a.RENAME_ITEM:return t.onRenameClicked;case ce.a.MOVE_ITEM:return t.onMoveClicked;case ce.a.PREVIEW_ITEM:return t.onPreviewClicked;case ce.a.APPROVE_ITEM:return t.onApproveClicked;case ce.a.REJECT_ITEM:return t.onRejectClicked;case ce.a.ANALYZE_ITEM:return t.onAnalyzeClicked;case ce.a.TRANSFORM_ITEM:return t.onTransformClicked;case ce.a.COPY_ITEM:return t.noop;case ce.a.ACCESS_CONTROL_ITEM:return t.onAccessControlClicked;case ce.a.DELIVER_ITEM:return t.onDeliveryClicked;case ce.a.MANAGE_ITEM:return t.onManageClicked;case ce.a.SHOW_CONTAINING_ITEM:return t.onShowContainingItemClicked;case ce.a.VERSION_HISTORY:return t.onVersionHistoryClicked;case ce.a.ADD_TO_COLLECTION:return t.onAddToCollectionClicked;case ce.a.REMOVE_FROM_COLLECTION:return t.onRemoveFromCollectionClicked;default:throw new Error("Operation '"+e+"' is not supported by the ItemOperationsMenu")}})),p()(c()(t),"noop",(function(){})),p()(c()(t),"customActionClickHandler",(function(e,a){return function(n){t.props.trackEvent(fe.f.CUSTOM_ACTION,"trigger "+e.actionLabel),e.appOpenIn===Pv.d.MODAL?t.props.showModal(Sv,{trackingCategory:t.props.trackingCategory,customAction:e,items:[a]}):e.appOpenIn===Pv.d.NEW_WINDOW&&t.props.openCustomActionInNewWindow(e,[a]),n.stopPropagation()}})),p()(c()(t),"copyOptions",{onCopy:function(e){Object(me.a)(e,t.props.item.secureUrl,!0),t.props.trackEvent(fe.f.COPY_URL,t.props.item.resource_type+" copied")}}),p()(c()(t),"getMenuItem",(function(e,a,n,r,s){var o=t.props,i=o.customActions,l=o.item,c=o.isMobileOrTabletDevice,d=Object(cv.a)(i,e),u=d?d.actionIcon:ye(e,l.itemType),m=we(e,l),p=m?e+"Selected":e,f=d?t.customActionClickHandler(d,l):t.getClickHandler(e),b=d?d.actionLabel:Object(Ue.j)("itemOperationsMenu."+p,{itemType:eh()(l.itemType)}),g=(null==d?void 0:d.appOpenIn)===Pv.d.NEW_WINDOW,v=a===n.length-1&&r!==s.length-1,E=c?oE:sE;return h.a.createElement("div",{key:e},h.a.createElement(E,W()({operation:e,label:b,icon:u,isSelected:m,onClick:function(e){t.context.toggle(!1),f(e)}},c?{}:{rightSideIcon:g})),v&&h.a.createElement(Ph.Separator,null))})),p()(c()(t),"backdropClickHandler",(function(){return t.context.toggle(!1)})),t}u()(t,e);var a=t.prototype;return a.renderOperations=function(){var e=this,t=this.props,a=t.operations,n=t.isOperationAllowed,r=t.item,s=a.reduce((function(e,t){var a=t.filter((function(e){return n(r,e)}));return a.length&&e.push(a),e}),[]);return h.a.createElement(h.a.Fragment,null,s.map((function(t,a){return t.map((function(n,o){var i=e.getMenuItem(n,o,t,a,s);return n===ce.a.COPY_ITEM?h.a.createElement(gl.CopyToClipboard,{text:r.secureUrl,onCopy:mE,key:n,options:e.copyOptions},i):i}))})))},a.render=function(){var e=this.props.isMobileOrTabletDevice,t=e?_h.MobileMenu:uE,a=e?{backdropClickHandler:this.backdropClickHandler}:{};return h.a.createElement("div",{"data-test":"item-op-menu"},h.a.createElement(t,a,this.renderOperations()))},t}(h.a.Component);pE.contextTypes={toggle:fu.a.func};var fE={showModal:wa.showModal,deleteFolder:pg.deleteFolder,setListActiveItemId:Fn.setListActiveItemId,openPreviewPane:db.openPreviewPane,setItemTitleFocused:Ve.a.ItemTitle.focused.set,downloadItem:j.downloadItem,addCollectionToPortal:eu.addCollectionToPortal,togglePopover:Dh.default,updateItem:j.updateItem,showVersionHistoryModal:Bt.showVersionHistoryModal,openCustomActionInNewWindow:kv.openCustomActionInNewWindow},bE=function(e){return{portals:Object(Ft.selectListItems)(e,pe.m),jwt:Object(zt.selectJwt)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),customActions:Object(lv.selectCustomActions)(e),collectionId:Object(_v.selectCollectionId)(e)}},hE=Object(g.connect)(bE,fE)(pE),gE=ag(Object(le.b)(hE)),vE=function(e){return!jr()(e.operations)&&h.a.createElement("div",{className:"flex items-center","data-test":"item-popover"},h.a.createElement(Lh.a,{isOpen:e.isOpen,toggle:function(t){e.togglePopover(Ee(e.context,e.item.id),t)},dataTest:"action-manager-btn"},h.a.createElement(Sh.a,{size:e.toogleButtonSize,skin:e.toogleButtonSkin,icon:x.moreVert,balloonText:e.isOpen||e.disableTooltip?null:""+Object(Ue.j)("itemOperationsMenu.tooltip"),dataTest:e.dataTest||"popover-toggle",onClick:function(t){t.stopPropagation(),e.trackEvent(fe.f.NAVIGATE,e.item.itemType+" menu")},className:_()("item-operations-toggle-button",{open:e.isOpen},e.className)}),e.isOpen&&h.a.createElement(gE,{item:e.item,operations:e.operations,isMobileOrTabletDevice:e.isMobileOrTabletDevice})))};vE.defaultProps={toogleButtonSize:"sm",toogleButtonSkin:"menu"};var EE,yE=function(e,t){return{isOpen:Object(kh.selectPopoverOpen)(e)===Ee(t.context,t.item.id)}},jE={togglePopover:Dh.default},OE=Object(g.connect)(yE,jE)(vE),wE=Object(le.b)(OE),IE=a(3879),TE=a.n(IE),ME=function(e,t){return function(){return null==e?void 0:e(t)}},CE=function(e,t){return function(a){"enter"===ks()(a)&&(null==e||e(t))}},NE=Object(k.default)(Object(Q.withCircleSkeleton)(ee.a)).withConfig({displayName:"ContainerItem__SvgIconWithSkeleton",componentId:"sc-17u2r75-0"})(["",""],(function(e){return e.isLoading?"margin-top: -10px":""})),xE=Object(k.default)(Object(Q.withTextSkeleton)($)).withConfig({displayName:"ContainerItem__CssTruncationWithSkeleton",componentId:"sc-17u2r75-1"})(["",""],(function(e){return e.isLoading?"height: 12px;\n        margin-top: 6px;\n        margin-left: 6px;\n      ":""})),AE=function(e){var t=e.item,a=e.operations,n=!!a&&pm()(a).some((function(a){return e.isOperationAllowed(t,a)})),r=e.highlightTerm||"",s=t?t[ze.b.AGGREGATION]:{},o=t&&ME(e.onClick,e.item),i=t&&CE(e.onKeyDown,e.item),l=t&&ME(e.onDoubleClick,e.item),c=e.displaySubtitle&&t&&Object(Te.l)(t);return h.a.createElement("li",{"data-test":(t?t.itemType:"")+"-item",className:_()("relative flex pt1 pb1 w-100 items-center",TE.a["container-item"],e.className,{activeItem:t&&!!e.isActive,pointer:!!t}),onClick:o,onKeyDown:i,onDoubleClick:l,onContextMenu:t&&function(t){var a=e.item,n=e.togglePopover,r=e.trackEvent;(t.preventDefault(),a)&&(r(fe.f.NAVIGATE,a.itemType+" menu by right-click"),n((e.context?e.context+"-":"")+"POPOVER_ID-"+(a?a.id:""),!0))},key:t&&t.id,tabIndex:e.tabIndex},t&&Object(N.e)(t)&&!e.hideNewItemBadge&&h.a.createElement(Ah,{label:"New",skin:"action",size:"sm",className:_()("z-2",TE.a.badge),position:{top:"-8px",left:"-7px"}}),h.a.createElement(NE,{isLoading:!t,size:"xs",path:e.icon||t&&Object(N.c)(t),color:e.showResourceCount&&0===s.resourceCount?"gray-50":"gray-70",className:TE.a.icon+" flex-none",dataTest:"container-icon"}),h.a.createElement("div",{className:_()(TE.a.text,"fs-exclude mr1 h-100 flex flex-grow-0 mw-0",e.displaySubtitle?"flex-column justify-around":"items-center")},h.a.createElement(xE,{isLoading:!t,className:_()("title",{ma0:!!t}),text:t&&(r?Object(Te.o)(t.name,r):t.name),tooltipText:t&&t.name,dataTest:"container-item-title"}),e.displaySubtitle&&h.a.createElement(xE,{isLoading:!t,className:"subtitle gray-60 font-size-xs",text:r&&c?Object(Te.o)(c,r):c,tooltipText:c,dataTest:"container-item-subtitle"})),e.showResourceCount&&!Mh()(s.resourceCount)&&h.a.createElement("em",{"data-test":"container-item-resource-count",className:"flex-none gray-60 no-underline"},s.resourceCount),t&&n&&h.a.createElement(wE,{item:t,operations:a,context:e.context}))},DE=function(e){return{isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},LE={togglePopover:Dh.default},SE=Object(g.connect)(DE,LE)(AE),kE=Object(le.b)(SE),PE=a(3926),_E=a.n(PE),RE=function(){return h.a.createElement(xn.a,{imgSrc:Ue.b.url.prodRes+"/image/upload/q_auto/v1571811807/console/empty-state-folder",className:"bg-white",subTitle:Object(Ue.j)("folders.emptyFolderState")})},FE=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"loadMoreFolders",(function(){t.props.loadMoreListItems(t.props.listId)})),p()(c()(t),"renderAddButton",(function(e){var a=t.props.addButton;return!e&&a?h.a.createElement(a,null):null})),p()(c()(t),"renderEmptyState",(function(e){return e||t.props.addButton?null:h.a.createElement(RE,null)})),t}u()(t,e);var a=t.prototype;return a.renderProgress=function(){return this.props.inProgress?this.props.folders?h.a.createElement("div",{className:_E.a.progress},h.a.createElement(ji.a,null)):h.a.createElement("div",{className:"loading-content flex justify-center items-center h-100"},h.a.createElement(vn.a,{dataTest:"folder-tree-loader-spinner",variant:"secondary",width:"50%"})):null},a.renderItems=function(){var e=this;return h.a.createElement("ul",{className:"pa0 new-folders-list ma0","data-test":"folders-list"},this.props.folders&&this.props.folders.map((function(t){return h.a.createElement(kE,{key:t.id,className:_E.a["side-folder"],operations:e.props.itemOperations,onClick:e.props.onItemClick,context:e.props.context,item:t})})),this.props.nextCursor&&h.a.createElement(wh.a,{key:this.props.folders&&this.props.folders.length,bottomOffset:"0",onEnter:this.loadMoreFolders}))},a.isInLoadingOrFolderNotEmpty=function(){var e=!this.props.folders,t=this.props.folders&&this.props.folders.length>0,a=this.props.inProgress;return e||t||a},a.render=function(){var e=this.isInLoadingOrFolderNotEmpty();return h.a.createElement("div",{className:_()("drop-content flex flex-column",{empty:!this.props.folders||0===this.props.folders.length})},h.a.createElement("div",{className:"folders-content-holder content-holder h-100 flex flex-column flex-grow-1"},this.renderItems(),this.renderProgress(),this.renderAddButton(e),this.renderEmptyState(e)))},t}(h.a.Component),zE=function(e,t){return{folders:Object(Ft.selectListItems)(e,t.listId),inProgress:Object(Ft.selectListInProgress)(e,t.listId),nextCursor:Object(Ft.selectListNextCursor)(e,t.listId),currentItem:Object(Ih.selectItemFromList)(e,t.listId)}},BE={loadItem:j.loadItem,loadMoreListItems:Fn.loadMoreListItems},UE=Object(g.connect)(zE,BE)(FE),VE=UE,GE=a(758),WE={padding:0,height:"20px"},HE=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){!this.props.currentItem&&this.props.loadCurrentFolder(this.props.listId)},a.componentDidUpdate=function(e){e.currentItem===this.props.currentItem&&e.listExists===this.props.listExists||!this.props.currentItem&&this.props.loadCurrentFolder(this.props.listId)},a.render=function(){var e=this,t=this.props.currentItem?Object(Mr.b)(this.props.currentItem.role):{},a=function(a){var n=a.inlineMode,r=void 0===n||n;return t.createFolders&&!e.props.disableAddFolder?b.createElement(uh,{currentId:e.props.currentItem.id,inlineMode:r,style:WE,onItemCreated:e.props.onFolderCreated}):null},n=this.props.opButtonComponent;return b.createElement(R.a,null,b.createElement("div",{className:"folders-container","data-test":"folders-wrapper"},b.createElement(Oh,{onClickBack:function(t){e.props.trackEvent(fe.f.NAVIGATE,"folder selected"),e.props.onItemClick(t)},folder:this.props.currentItem,onClose:this.props.onClose},a({inlineMode:!1})),b.createElement(VE,{listId:this.props.listId,addButton:this.props.disableAddFolder?null:a,onItemClick:this.props.onItemClick,itemOperations:this.props.itemOperations,context:this.props.context}),!!n&&b.createElement("div",{className:"flex ma2 self-end","data-test":"op-button-container"},b.createElement(n,W()({},this.props.opButtonComponentOnClick&&{onClick:this.props.opButtonComponentOnClick},{disabled:this.props.opButtonComponentDisabled||!t.editAssetsPublicId,tooltipDisabled:!t.editAssetsPublicId,tooltipText:t.editAssetsPublicId?null:Object(Ue.j)("folders.moveNotAllowed")})))))},t}(b.Component),YE=function(e,t){return{currentItem:Object(Ih.selectItemFromList)(e,t.listId),listExists:Object(Ft.selectListExists)(e,t.listId)}},QE={loadCurrentFolder:GE.loadCurrentFolder},KE=Object(g.connect)(YE,QE)(HE),ZE=Object(le.b)(KE),qE=a(755),XE=(a(3880),function(e){var t=e.pathFilter,a=e.ensureListExists,n=e.setPrefix,r=e.loadMoreFolders,o=e.loadItem,l=Object(b.useState)(t),c=l[0],d=l[1],u=qE.SEARCH_BY_FOLDER+"-"+c;Object(b.useEffect)((function(){var e=c===t?{path:c}:{id:c};a(u,{itemType:he.c,filter:e})}),[c,t,a,u]);var m=function(){var e=i()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y()(t.path)){e.next=7;break}return e.next=3,o(he.c,t.id,{forceLoad:!0});case 3:a=e.sent,n(a.path),e.next=8;break;case 7:n(t.path);case 8:d(t.id);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h.a.createElement("div",{className:"folders-sidebar dropdown"},h.a.createElement(ZE,{listId:u,onItemClick:m,selectParentFolder:tb.selectParentFolder,selectParentPath:tb.selectParentPath,selectFoldersList:tb.selectFoldersList,loadMore:r,getNextCursor:tb.selectFoldersCursor,disableAddFolder:!0}))}),JE={setPrefix:mb.setPrefix,loadMoreFolders:mb.loadMoreFolders,ensureListExists:Fn.ensureListExists,loadItem:j.loadItem},$E=Object(g.connect)(null,JE)(XE),ey="search-folders-opener",ty=function e(t){var a=t.activeSearch,n=t.tabName,r=t.prefix,s=t.handleRadioSelect,o=t.apiLevel,i=t.clearAllFoldersSearchLists,l=Object(b.useState)(!1),c=l[0],d=l[1];Object(b.useEffect)((function(){return function(){i()}}),[i]);e.handleClickOutside=function(){return d(!1)};var u=_()("folder-dropdown",{"folder-search-active":a},{"folder-active":c},{"has-value":!!r});return h.a.createElement("div",{className:"fs-exclude"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("label",{className:"title custom-label",htmlFor:"rel-03","data-test":"rel-03"},!Object(me.f)(o)&&h.a.createElement("input",{id:"rel-03",type:"radio",name:"group",checked:a,value:a,onChange:function(){return s(n,!!r)}}),h.a.createElement("span",{className:"tag-label"},!Object(me.f)(o)&&h.a.createElement("span",{className:"fake-input"}),h.a.createElement("span",{className:"text"},o<1?Object(Ue.j)("search.byFolder.label"):Object(Ue.j)("search.byFolder.damLabel")))),h.a.createElement("div",{className:"folder-box fs-exclude"},h.a.createElement("div",{className:u},h.a.createElement("div",{className:"form-group",onClick:function(){return a&&void d(!c)}},h.a.createElement("input",{className:"folder-input",type:"text",placeholder:Object(Ue.j)("search.byFolder.placeholder"),readOnly:!0,value:r||""}),h.a.createElement("button",{id:ey,type:"button",className:"opener-btn",disabled:!a})),c&&h.a.createElement($E,{pathFilter:r})))))},ay={navigateToFolder:mb.navigateToFolder,clearAllFoldersSearchLists:Jb.clearAllFoldersSearchLists},ny=function(e){return{prefix:Object(tb.selectPrefix)(e)}},ry={handleClickOutside:function(){return ty.handleClickOutside}},sy=Object(Xb.a)(ty,ry),oy=Object(g.connect)(ny,ay)(sy),iy=a(445),ly=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"getFirstInRange",(function(e){if(e){var t=new Date(e.getTime());return t.setDate(e.getDate()+1),t}})),p()(c()(t),"getLastInRange",(function(e){if(e){var t=new Date(e.getTime());return t.setDate(e.getDate()-1),t}})),p()(c()(t),"endDateInputRef",h.a.createRef()),p()(c()(t),"startDateInputRef",null),p()(c()(t),"focusToEndDate",(function(){t.endDateInputRef&&t.endDateInputRef.current&&t.endDateInputRef.current.showDayPicker()})),p()(c()(t),"focusToStartDate",(function(){return t.startDateInputRef&&t.startDateInputRef.getInput().focus()})),p()(c()(t),"handleFromChange",(function(e){t.props.setAssetsTimeStartDate(Object(Pa.d)(e)),t.props.setAssetsTimeEndDate(null),t.props.setAssetsTimeEnterTo(null),t.focusToEndDate()})),p()(c()(t),"handleToChange",(function(e){var a=Object(Pa.d)(e);t.props.setAssetsTimeEndDate(a),t.props.setAssetsTimeEnterTo(a)})),p()(c()(t),"handleDayMouseEnter",(function(e){var a=Object(Pa.d)(e);t.props.startDate&&t.props.setAssetsTimeEnterTo(a)})),t}return u()(t,e),t.prototype.render=function(){var e=this,t=new Date,a=new Date;a.setMonth(t.getMonth()-1);var n=Object(Pa.b)(this.props.startDate),r=Object(Pa.b)(this.props.endDate),s=Object(Pa.b)(this.props.enteredTo),o=this.getFirstInRange(n),i=this.getLastInRange(s),l=function(e){var a=Object(Pa.h)(e);return!a||t<a?t:!a||!n||n>a?n:a},c={start:n,end:s,firstInRange:o,lastInRange:i},d=[n,{from:n,to:s}];return h.a.createElement("div",{className:_()("flex",Ra.a.dateRangeSingleLineWrapper)},h.a.createElement("div",{className:_()("flex items-center pl2",Ra.a.dayPickerInputWrapper)},h.a.createElement("div",{className:"pointer mr1",onClick:this.focusToStartDate},h.a.createElement(ee.a,{path:x.calendar,color:"gray-60",size:"xl",className:Ra.a.startDayPickerIcon})),h.a.createElement(ka.a,{ref:function(t){return e.startDateInputRef=t},value:n,showOverlay:!0,placeholder:Object(Ue.j)("dateRangePicker.fromDate"),parseDate:l,formatDate:Pa.f,dayPickerProps:{month:n||a,modifiers:c,selectedDays:d,disabledDays:{after:t},toMonth:r,numberOfMonths:2},onDayChange:this.handleFromChange})),h.a.createElement("div",{className:_()("flex items-center",Ra.a.dayPickerInputWrapper)},h.a.createElement(ee.a,{path:x.arrowRight,color:"gray-60",size:"lg",className:"mr2"}),h.a.createElement(ka.a,{ref:this.endDateInputRef,value:r,placeholder:Object(Ue.j)("dateRangePicker.toDate"),parseDate:l,formatDate:Pa.f,dayPickerProps:{modifiers:c,selectedDays:d,disabledDays:{before:n,after:t},month:n||a,fromMonth:n,numberOfMonths:2,onDayMouseEnter:this.handleDayMouseEnter},onDayChange:this.handleToChange})))},t}(h.a.Component),cy=ly,dy=Object.keys(pb.Q).map((function(e){return{value:pb.Q[e],label:Object(Ue.j)("search.timeFields."+Tb()(pb.Q[e])),className:wb()(pb.n.TIME_FIELD),class:pb.n.TIME_FIELD}})),uy=Object.keys(pb.R).map((function(e){return{value:pb.R[e],label:Object(Ue.j)("search.timeOptions."+Tb()(pb.R[e])),className:wb()(pb.n.TIME_OPTION),class:pb.n.TIME_OPTION}})),my=Object(k.default)(iy.FieldInlineLayout).withConfig({displayName:"SearchByTime__Layout",componentId:"sc-1af5san-0"})(["& > div{min-width:50%;}"]),py=function(e){var t=_()("by-time",{"value-any":e.assetsTimeOption===pb.R.ANY});return h.a.createElement("div",{className:t,"data-test":"search-by-time-wrapper"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byTime.label")),h.a.createElement("div",{className:"time-wrapper"},h.a.createElement("div",{className:"fields-wrap"},h.a.createElement("div",{className:"select-container"},h.a.createElement(my,null,h.a.createElement(Ps.a,{size:"sm",isSearchable:!1,value:e.assetsTimeField,options:dy,onChange:function(t){return e.setAssetsTimeField(t.value)},className:"time-field-select",isClearable:!1}),h.a.createElement(Ps.a,{size:"sm",isSearchable:!1,value:e.assetsTimeOption,options:uy,onChange:function(t){return e.setAssetsTimeOption(t.value)},className:"time-option-select",isClearable:!1}))),e.assetsTimeOption===pb.R.CUSTOM&&h.a.createElement("div",{className:"w-100"},h.a.createElement(cy,{startDate:e.assetsTimeStartDate||null,endDate:e.assetsTimeEndDate||null,enteredTo:e.assetsTimeEnterTo||null,setAssetsTimeStartDate:e.setAssetsTimeStartDate,setAssetsTimeEndDate:e.setAssetsTimeEndDate,setAssetsTimeEnterTo:e.setAssetsTimeEnterTo})))))},fy={setAssetsTimeField:mb.setAssetsTimeField,setAssetsTimeOption:mb.setAssetsTimeOption,setAssetsTimeStartDate:mb.setAssetsTimeStartDate,setAssetsTimeEndDate:mb.setAssetsTimeEndDate,setAssetsTimeEnterTo:mb.setAssetsTimeEnterTo},by=function(e){return{assetsTimeField:Object(tb.selectAssetsTimeField)(e),assetsTimeOption:Object(tb.selectAssetsTimeOption)(e),assetsTimeStartDate:Object(tb.selectAssetsTimeStartDate)(e),assetsTimeEndDate:Object(tb.selectAssetsTimeEndDate)(e),assetsTimeEnterTo:Object(tb.selectAssetsTimeEnterTo)(e),isDateRangeFocused:Object(tb.selectIsDateRangeFocused)(e)}},hy=Object(g.connect)(by,fy)(py),gy=hy,vy=k.default.div.withConfig({displayName:"TabsContainer",componentId:"ntn1je-0"})(["flex-wrap:wrap;z-index:auto;display:flex;"]),Ey=k.default.div.withConfig({displayName:"TabContainer",componentId:"sc-1douyhv-0"})(["position:relative;width:",";max-width:",";border-right:1px solid #e0e0e0;padding:11px 24px;height:280px;&:last-child{border:none;flex-grow:1;}@media (max-width:1024px){&:nth-child(2){border:none;}width:50%;max-width:none;}@media (max-width:613px){border:none;width:100%;height:auto;}"],(function(e){return e.width||"33%"}),(function(e){return e.maxWidth||"33%"})),yy=k.default.div.withConfig({displayName:"Title",componentId:"ky7lq7-0"})(["font-size:14px;line-height:18px;display:block;color:",";margin:0 0 12px;font-weight:500;"],tt.q),jy=Object(k.default)(xb).withConfig({displayName:"SearchByActivitystyles__StyledUserSelect",componentId:"sc-1rn9ix0-0"})(["","{padding:0px;}"],Lr.Chip),Oy=k.default.div.withConfig({displayName:"SearchByActivitystyles__StyledOption",componentId:"sc-1rn9ix0-1"})(["display:flex;align-items:center;padding:"," ",";"],At.a.spacing.xs,At.a.spacing.sm),wy=Object(k.default)(Oy).withConfig({displayName:"SearchByActivitystyles__StyledUserOption",componentId:"sc-1rn9ix0-2"})(["margin-left:",";margin-bottom:",";padding:0px;"],"-"+At.a.spacing.xxs,"-"+At.a.spacing.xxs),Iy=k.default.div.withConfig({displayName:"SearchByActivitystyles__ActivityType",componentId:"sc-1rn9ix0-3"})(["margin-bottom:",";"],At.a.spacing.sm),Ty=Object.keys(pb.c).map((function(e){return{value:pb.c[e],label:Object(Ue.j)("search.byActivity."+Tb()(pb.c[e])),class:pb.c[e]}})),My=ql()((function(e){return null==e?void 0:e.map((function(e){return{value:e.externalId||e.id,name:e.name,avatar_color_scheme:e.avatar_color_scheme,firstName:e.firstName,lastName:e.lastName,email:e.email}}))})),Cy=Object(Mb.withListItemLayout)((function(e,t){return h.a.createElement(Ls.ItemContext.Provider,{value:t},h.a.createElement(Oy,null,h.a.createElement(Pt.a,{user:e,avatarSize:ki.a.MD})))})),Ny=function(e){return h.a.createElement(wy,null,h.a.createElement(pc,{user:e.data}))},xy=function(e,t){var a=e.data;void 0===t&&(t="");var n=t.toLowerCase();return(null==a?void 0:a.email.toLowerCase().includes(n))||(null==a?void 0:a.name.toLowerCase().includes(n))},Ay=function(e){var t=e.assetsActivityType,a=e.setAssetsActivityTypeField,n=e.assetsActivityUsers,r=e.setAssetActivityUsers,s=e.usersList;return Object(b.useEffect)((function(){Object(St.n)(EE,50)}),[n]),h.a.createElement("div",null,h.a.createElement(yy,null,Object(Ue.j)("search.byActivity.label")),h.a.createElement(Iy,null,h.a.createElement(Ps.a,{size:"sm",isSearchable:!1,options:Ty,value:t,onChange:function(e){a(e.value)},"data-test":"activity-type-field-select",isClearable:!1})),h.a.createElement(jy,{isSearchable:!0,filterOption:xy,options:My(s),value:My(n),onChange:function(e){return r(e?e.map((function(e){return e.value})):[])},isMulti:!0,"data-test":"activity-users-field-select",isClearable:!1,components:{Option:Cy,MultiValueLabel:Ny},placeholder:s?Object(Ue.j)("search.byActivity.userPlaceholder"):Object(Ue.j)("search.byActivity.userPlaceholderLoading"),className:"fs-exclude",size:"md",fixedHeight:pb.l}))},Dy={setAssetsActivityTypeField:mb.setAssetsActivityTypeField,setAssetActivityUsers:mb.setAssetActivityUsers},Ly=function(e){var t;return{assetsActivityType:Object(tb.selectAssetsActivityType)(e),assetsActivityUsers:Object(tb.selectAssetsActivityUsers)(e),usersList:null===(t=Object(Ft.selectListItems)(e,pe.n))||void 0===t?void 0:t.filter((function(t){var a;return null===(a=t.allowedCustomerIds)||void 0===a?void 0:a.includes(Object(zt.selectCurrentCustomerId)(e))}))}},Sy=Object(g.connect)(Ly,Dy)(Ay),ky=Sy,Py={width:"25%",maxWidth:"368px"},_y=function(e){var t=function(t,a){e.setActiveSearchTab(t,a)};return h.a.createElement(vy,{"data-test":"general-block"},h.a.createElement(Ey,Py,h.a.createElement(Hb,{apiLevel:e.apiLevel,handleRadioSelect:t})),e.apiLevel>0&&h.a.createElement(Ey,Py,h.a.createElement(gy,null),e.shouldDisplayAuditData&&h.a.createElement(ky,null)),h.a.createElement(Ey,Py,h.a.createElement(qb,{apiLevel:e.apiLevel,handleRadioSelect:t,activeSearch:!(e.apiLevel<1)||e.activeSearchTab===pb.L.TAGS,tabName:pb.L.TAGS})),h.a.createElement(Ey,Py,h.a.createElement(oy,{apiLevel:e.apiLevel,handleRadioSelect:t,activeSearch:!(e.apiLevel<1)||e.activeSearchTab===pb.L.FOLDER,tabName:pb.L.FOLDER})))},Ry=function(e){return{activeSearchTab:Object(tb.selectActiveSearchTab)(e),shouldDisplayAuditData:Object(zt.selectShouldDisplayAuditData)(e),apiLevel:Object(zt.selectApiLevel)(e)}},Fy={setActiveSearchTab:mb.setActiveSearchTab},zy=Object(g.connect)(Ry,Fy)(_y),By=zy,Uy=a(278),Vy=a.n(Uy),Gy=a(245),Wy=a.n(Gy),Hy=a(3863),Yy=a.n(Hy),Qy=Object(k.default)(Ps.a).withConfig({displayName:"SelectField__StyledCombobox",componentId:"s7q6es-0"})(["min-width:unset;"]),Ky=function(e){var t=e.value,a=e.onChange,n=e.className,r=e.options,s=V()(e,["value","onChange","className","options"]);return h.a.createElement(Qy,W()({},s,{className:n,value:t,options:r,onChange:a,isClearable:!1,menuPortalTarget:document.body,size:"sm"}))};Ky.displayName="SelectField";var Zy=Ky,qy=function(e){switch(e){case Cr.b.STRING:return[{value:":",label:Object(Ue.j)("searchByMetadata.operator.string.contains")},{value:"=",label:Object(Ue.j)("searchByMetadata.operator.string.equals")}];case Cr.b.ENUM:case Cr.b.MULTISELECT:return[{value:"=",label:"="}];case Cr.b.DATE:return[{value:"=",label:Object(Ue.j)("searchByMetadata.operator.date.is")},{value:"<",label:Object(Ue.j)("searchByMetadata.operator.date.before")},{value:">=",label:Object(Ue.j)("searchByMetadata.operator.date.after")}];case Cr.b.INTEGER:return[{value:"<",label:"<"},{value:"<=",label:"<="},{value:"=",label:"="},{value:">=",label:">="},{value:">",label:">"}];default:return null}},Xy=function(e){return e!==Cr.b.ENUM&&e!==Cr.b.MULTISELECT},Jy=function(e){switch(e){case Cr.b.DATE:return"70px";case Cr.b.STRING:return"80px";case Cr.b.INTEGER:return"50px";case Cr.b.ENUM:case Cr.b.MULTISELECT:default:return null}},$y=Object(k.default)(Zy).withConfig({displayName:"Operator__StyledOperator",componentId:"cc24ag-0"})(["width:",";margin-right:10px;"],(function(e){return e.width||0})),ej=function(e){var t=e.value,a=e.onChange,n=e.fieldType,r=Object(b.useMemo)((function(){return Jy(n)}),[n]),s=Object(b.useMemo)((function(){return qy(n)}),[n]),o=Object(b.useMemo)((function(){return s&&Xy(n)}),[s,n]),i=Object(b.useCallback)((function(e){var t=e.value;return a(t)}),[a]);return o?h.a.createElement($y,{width:r,value:t,options:s,onChange:i,searchable:!1}):null};ej.displayName="Operator";var tj=ej,aj=Object(k.default)(Zy).withConfig({displayName:"Field__FieldName",componentId:"tmjsvh-0"})(["width:30%;min-width:30%;margin-right:10px;"]),nj=function(e){var t=e.onChange,a=e.value,n=e.options,r=e.isCreatable,s=e.openOnClick,o=void 0===s||s,i=Object(b.useCallback)((function(e){return(null==e?void 0:e.value)&&t(e.value)}),[t]);return h.a.createElement(aj,{onChange:i,value:a,options:n,isCreatable:r,promptTextCreator:function(e){return Object(Ue.j)("searchByMetadata.search")+" "+e},openOnClick:o})};nj.displayName="Field";var rj=nj,sj=Object(k.default)(kl.a).withConfig({displayName:"DateField__StyledDatePickerWithLabel",componentId:"sgaj3a-0"})(["padding:0;border:1px solid ",";background-color:",";border-radius:5px;.-timeInputLabel___pm{display:none;}.-dayPickerWrapper___Q0{width:100%;margin:0;border:none;padding-top:0;padding-bottom:0;}.DayPickerInput-Overlay{left:unset;right:-9px;top:9px;}.DayPickerInput{width:100%;input{width:100%;background-color:transparent;}}.svgIconWrapper{margin-right:-4px;}input{text-overflow:ellipsis;}"],tt.n,tt.k),oj=function(e){var t=e.onChange,a=V()(e,["onChange"]),n=Object(b.useCallback)((function(e){var a=new Date(e),n=isNaN(a.getTime())?e:Ta()(a,ze.o);t(n)}),[t]);return h.a.createElement(sj,W()({},a,{handleSelect:n,shouldFixLocation:!1}))};oj.displayName="DateField";var ij=oj,lj=function(e){var t=e.value,a=V()(e,["value"]);return h.a.createElement(zg.TextField,W()({defaultValue:t},a,{type:"number"}))};lj.displayName="Integer";var cj=function(e){var t=e.value,a=V()(e,["value"]);return h.a.createElement(zg.TextField,W()({defaultValue:t},a))};cj.displayName="String";var dj=function(e){return h.a.createElement(Zy,W()({},e,{isMulti:!0}))};dj.displayName="Multiselect";var uj=function(e){switch(e){case Cr.b.STRING:return cj;case Cr.b.INTEGER:return lj;case Cr.b.ENUM:case Cr.b.MULTISELECT:return os;case Cr.b.DATE:return ij;default:return function(){return null}}},mj=function(e){switch(e){case Cr.b.DATE:return;case Cr.b.STRING:case Cr.b.INTEGER:return Object(Ue.j)("searchByMetadata.keywords.input");case Cr.b.ENUM:case Cr.b.MULTISELECT:return Object(Ue.j)("searchByMetadata.keywords.select");default:return null}},pj=k.default.div.withConfig({displayName:"Keywords__InputContainer",componentId:"diuvyq-0"})(["flex-grow:1;width:0;min-width:40px;& > div{height:100%;}"]),fj=function(e){var t=e.fieldId,a=e.fieldType,n=e.options,r=e.onChange,s=e.value,o=e.dataTest,i=Object(b.useMemo)((function(){return uj(a)}),[a]),l=a===Cr.b.ENUM||Cr.b.MULTISELECT?{Component:dj}:{};return h.a.createElement(pj,{"data-test":"keywords"},h.a.createElement(i,W()({dataTest:o,options:n,onChange:r,value:s,defaultValue:s,type:a,name:t,placeholder:mj(a)},l)))};fj.displayName="Keywords";var bj=fj,hj=250,gj=k.default.div.withConfig({displayName:"SearchRow__ContainerWrapper",componentId:"sc-13n2t5-0"})(["display:flex;margin-bottom:10px;"]),vj=function(e){var t=e.fieldType,a=e.removeRow,n=e.fieldOptions,r=e.keywordsOptions,s=e.fieldValue,o=e.rowId,i=e.updateField,l=e.keywordsValue,c=e.updateKeywords,d=e.operatorValue,u=e.updateOperator,m=e.isCreatable,p=e.openOnClick,f=Object(b.useCallback)((function(){return a(o)}),[o,a]),g=Object(b.useCallback)((function(e){i(o,e),c(o,null)}),[o,i,c]),v=Object(b.useCallback)((function(e){return u(o,e)}),[o,u]),E=Object(b.useCallback)((function(e){var t;t=Au()(e,"target.value")?e.target.value:Gr()(e)?e.length?Wy()(e,(function(e){return{value:e.value,label:e.label}})):void 0:Er()(e)?[W()({},e)]:e,c(o,t)}),[c,o]),y=Object(ss.a)(E,hj)[0];return h.a.createElement(gj,null,h.a.createElement(rj,{onChange:g,value:s,options:n,isCreatable:m,openOnClick:p}),h.a.createElement(tj,{value:d,onChange:v,fieldType:t}),h.a.createElement(bj,{fieldId:s,fieldType:t,options:r,onChange:y,value:l,dataTest:"input-value"}),h.a.createElement(bn.b,{skin:"basic",size:"sm",icon:x.cross,onClick:f}))};vj.displayName="SearchRow";var Ej,yj,jj,Oj,wj=vj,Ij="operator",Tj="keywords",Mj="field",Cj=k.default.div.withConfig({displayName:"SearchByMetadata__ContainerWrapper",componentId:"sc-1piy6u3-0"})(["padding-top:1px;height:100%;width:100%;overflow-y:auto;"]),Nj=Object(k.default)(Zy).withConfig({displayName:"SearchByMetadata__StyledSelectField",componentId:"sc-1piy6u3-1"})(["width:30%;"]),xj=function(e){switch(e){case Cr.b.STRING:return":";case Cr.b.DATE:case Cr.b.ENUM:case Cr.b.MULTISELECT:case Cr.b.INTEGER:default:return"="}},Aj=function(e){var t=e.className,a=void 0===t?"":t,n=e.searchFilter,r=e.fields,s=e.updateMetadataRow,o=e.deleteMetadataRow,i=e.addMetadataRow,l=e.title,c=e.canCreateNewField,d=e.openOnClick,u=void 0===d||d,m=e.allowSameKeySearch,p=void 0===m||m,f=e.searchType,g=Object(bd.a)(),v=Object(b.useMemo)((function(){return Vy()(n,(function(e,t){var a=t.rowId,n=t.id,r=t.operator,s=t.value;return e[a]={fieldId:n,operator:r,keywords:s}}),{})}),[n]),E=Object(b.useMemo)((function(){return Wy()(r,(function(e){var t=e.label;return{value:e.id,label:t}}))}),[r]),y=Object(b.useMemo)((function(){return Vy()(r,(function(e,t){return e[t.id]=t.type}))}),[r]),j=Object(b.useMemo)((function(){return Vy()(r,(function(e,t){return e[t.id]=Wy()(Fe()(t,"datasource.values"),(function(e){return{value:e.id,label:e.value}}))}))}),[r]),O=Object(b.useCallback)((function(e,t){var a=Yy()(r,(function(t){return t.id===e})),n=(null==a?void 0:a.label)||e;return{fieldId:e,operator:xj(t),label:n}}),[v,j]),w=Object(b.useCallback)((function(e,t,a){var n,r=t===Mj?O(a,y[a]):((n={})[String(t)]=a,n);switch(t){case Ij:g(f+" search","operator: "+a);break;case Tj:var o=a;Array.isArray(a)&&(o=a.map((function(e){return e.label}))),g(f+" search","value: "+o);break;case Mj:g(f+" search","smd type: "+y[a])}s(e,r)}),[s,y,O,f,g]),I=Object(b.useCallback)((function(e,t){return w(e,Ij,t)}),[n]),T=Object(b.useCallback)((function(e,t){return w(e,Tj,t)}),[n]),M=Object(b.useCallback)((function(e,t){return w(e,Mj,t)}),[n]),C=Object(b.useCallback)((function(e){var t=e.value;t&&(g(f+" search","key: "+y[t]),i(Object(me.e)(),O(t,y[t])))}),[i,y]),N=Object(b.useRef)(v);Object(b.useEffect)((function(){N.current=v}));var x=p?E:E.filter((function(e){return!n.find((function(t){return t.id===e.value}))}));return h.a.createElement(Cj,{className:a,"data-test":"structured-metadata-block"},h.a.createElement("label",{className:"title custom-label"},l),Wy()(v,(function(e,t){var a=p?E:E.filter((function(t){return!n.find((function(e){return e.id===t.value}))||t.value===e.fieldId}));return h.a.createElement("div",{className:"fs-exclude","data-test":"metadata-field",key:t+e.fieldId},h.a.createElement(wj,{rowId:t,fieldType:y[e.fieldId],fieldValue:e.fieldId,updateField:M,fieldOptions:a,keywordsValue:e.keywords,updateKeywords:T,keywordsOptions:j[e.fieldId],operatorValue:e.operator,updateOperator:I,removeRow:o,isCreatable:c,openOnClick:u,isValidNewOption:function(e){return p||!n.find((function(t){return t.id===e}))}}))})),(c||x.length>0)&&h.a.createElement("div",{className:"fs-exclude","data-test":"new-metadata-field"},h.a.createElement(Nj,{onChange:C,options:x,isCreatable:c,formatCreateLabel:function(e){return Object(Ue.j)("searchByMetadata.search")+" "+e},openOnClick:u,isValidNewOption:function(e){return e&&!n.find((function(t){return t.id===e}))}})))},Dj=Aj,Lj=function(e){var t=e.fields,a=e.searchFilter,n=e.addAssetMetadataRow,r=e.updateAssetMetadataRow,s=e.deleteAssetMetadataRow;return h.a.createElement(Dj,{title:Object(Ue.j)("search.byStructured.label"),fields:t,searchFilter:a,addMetadataRow:n,updateMetadataRow:r,deleteMetadataRow:s,searchType:"structured metadata"})},Sj={addAssetMetadataRow:mb.addAssetMetadataRow,updateAssetMetadataRow:mb.updateAssetMetadataRow,deleteAssetMetadataRow:mb.deleteAssetMetadataRow},kj=function(e){return{fields:Object(Ft.selectListItems)(e,pe.l),searchFilter:Object(tb.selectAssetsMetadata)(e)}},Pj=Object(g.connect)(kj,Sj)(Lj),_j=a(1607),Rj=Object(k.default)(Dj).withConfig({displayName:"SearchByEmbeddedMetadata__StyledSearchByMetadata",componentId:"tmqnd0-0"})([".Select-option:nth-child(n + 6){display:none;}.Select-option:last-child,.Select-option:nth-child(5){border-bottom-right-radius:4px;border-bottom-left-radius:4px;}.Select-input{max-width:100%;}"]),Fj=function(e){var t=e.fields,a=e.searchFilter,n=e.addAssetEmbeddedMetadataRow,r=e.updateAssetEmbeddedMetadataRow,s=e.deleteAssetEmbeddedMetadataRow,o=e.creatableFields;return h.a.createElement(Rj,{title:Object(Ue.j)("search.byEmbedded.label"),fields:t,searchFilter:a,addMetadataRow:n,updateMetadataRow:r,deleteMetadataRow:s,canCreateNewField:o,openOnClick:!o,allowSameKeySearch:!1,searchType:"embedded metadata"})},zj={addAssetEmbeddedMetadataRow:mb.addAssetEmbeddedMetadataRow,deleteAssetEmbeddedMetadataRow:mb.deleteAssetEmbeddedMetadataRow,updateAssetEmbeddedMetadataRow:mb.updateAssetEmbeddedMetadataRow},Bj=function(e){return{fields:Object(_j.selectEmbeddedMetadataAvailableFields)(e),searchFilter:Object(tb.selectAssetsEmbeddedMetadata)(e),creatableFields:Object(_j.selectCanUserCreateSearchTermForEmbeddedMetadata)(e)}},Uj=Object(g.connect)(Bj,zj)(Fj),Vj=a(352),Gj={},Wj=function(e){var t=e.value,a=e.loadOptions,n=e.noResultsText,r=e.isMulti,o=e.components,l=V()(e,["value","loadOptions","noResultsText","isMulti","components"]),c=Object(b.useState)(!1),d=c[0],u=c[1],m=Object(b.useState)(t),p=m[0],f=m[1],g=Object(b.useState)([]),v=g[0],E=g[1],y=Object(b.useCallback)(function(){var e=i()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,a(t);case 4:n=e.sent,E(n.options),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Vj.a.error(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[u,a]);Object(b.useEffect)((function(){y(p)}),[p,y]);var j=Object(b.useCallback)((function(e){f(e)}),[f]),O=Object(ss.a)(j,250)[0],w=W()({NoOptionsMessage:function(){return h.a.createElement(Ls.ItemContext.Provider,{value:Gj},h.a.createElement(Ls.Text,null,h.a.createElement("span",{"data-test":"no-results"},n)))}},o),I=r?xb:Ps.a;return h.a.createElement(I,W()({},l,{options:v,value:t,isLoading:d,onInputChange:O,components:w,isMulti:r}))},Hj=Wj,Yj=Object(k.default)(iy.FieldInlineLayout).withConfig({displayName:"SearchByContext__Layout",componentId:"sc-17gjady-0"})(["& > div{min-width:50%;}& > div:last-child{border-top-left-radius:0;border-bottom-left-radius:0;}"]),Qj=function(e,t,a){var n=e.assetsContexts,r=void 0===n?[]:n,s=e.setAssetsContexts,o=[].concat(r);o.splice(a,1,t),s(o)},Kj=function(e){var t=_()("context-scroller",{"context-active":e.activeSearch}),a=function(){var e=i()(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.t)(t);case 2:return a=e.sent,n=Object(Pa.a)(a),e.abrupt("return",{options:n,complete:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(t){"enter"===ks()(t.key)&&e.invalidateSearchQuery(Date.now())},r=function(t){e.setAssetsContexts([].concat(e.assetsContexts.slice(0,t),e.assetsContexts.slice(t+1)))},o=Object(St.b)((function(){e.invalidateSearchQuery(Date.now())})),l=Object(me.f)(e.apiLevel)?[].concat(e.assetsContexts,[{key:"",value:""}]):e.assetsContexts.length?[].concat(e.assetsContexts):[{key:"",value:""}];return h.a.createElement("div",{className:"search-by-context-wrapper","data-test":"search-by-context-wrapper"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("label",{className:"title custom-label",htmlFor:"rel-02"},!Object(me.f)(e.apiLevel)&&h.a.createElement("input",{id:"rel-02",type:"radio",name:"group",checked:e.activeSearch,value:e.activeSearch,onChange:function(){return e.handleRadioSelect(e.tabName,e.assetsContexts.length)}}),h.a.createElement("span",{className:"tag-label"},e.apiLevel<1&&h.a.createElement("span",{className:"fake-input"}),h.a.createElement("span",{className:"text"},Object(Ue.j)("search.byContext.label")))),h.a.createElement("div",{className:t,"data-test":"context-scroller"},l.map((function(t,s){return h.a.createElement("div",{key:s,className:"fs-exclude form-group","data-test":"context-custom-prop"},h.a.createElement(Yj,null,h.a.createElement(Hj,{noResultsText:Object(Ue.j)("search.byContext.noResults"),disabled:!e.activeSearch,className:"context-title-select",value:t.key,loadOptions:function(e){return a(e)},onChange:function(t){return function(t,a){if(!t)return r(a);e.trackEvent("context search","context key: "+t.value),Qj(e,{key:t.value,value:""},a)}(t,s)},placeholder:Object(Ue.j)("search.byContext.titlePlaceholder"),menuPortalTarget:document.body}),h.a.createElement(zg.TextField,{placeholder:Object(Ue.j)("search.byContext.valuePlaceholder"),inputProps:{onKeyPress:n},onChange:function(t){return function(t,a){var n=e.assetsContexts.length?e.assetsContexts[a].key:"";t&&e.trackEvent("context search","context value: "+t),Qj(e,{key:n,value:t},a),o()}(t,s)},disabled:!t.key||!e.activeSearch,defaultValue:t.value,"data-test":"value-input"})),Object(me.f)(e.apiLevel)&&e.assetsContexts.length>0&&t.key&&h.a.createElement("button",{"data-test":"remove-custom-prop",type:"button",className:"btn-cancle",onClick:function(){r(s)}}))})))))},Zj={componentDidMount:function(){Object(Te.t)()}},qj={setAssetsContexts:mb.setAssetsContexts,invalidateSearchQuery:mb.invalidateSearchQuery},Xj=function(e){return{assetsContexts:Object(tb.selectAssetsContexts)(e)}},Jj=Object(jb.b)(Zj)(Kj),$j=Object(g.connect)(Xj,qj)(Jj),eO=Object(le.b)($j),tO=function(e){return h.a.createElement(vy,{"data-test":"metadata-block"},h.a.createElement(Ey,null,h.a.createElement(Pj,null)),e.structuredContextualEnabled&&h.a.createElement(Ey,null,h.a.createElement(eO,{apiLevel:e.apiLevel,handleRadioSelect:function(t,a){e.setActiveSearchTab(t,a)},activeSearch:!(e.apiLevel<1)||e.activeSearchTab===pb.L.CONTEXT,tabName:pb.L.CONTEXT})),e.apiLevel>1&&"true"===localStorage.getItem("ml_advanced_search_embedded_metadata")&&h.a.createElement(Ey,null,h.a.createElement(Uj,null)))},aO=function(e){return{activeSearchTab:Object(tb.selectActiveSearchTab)(e),apiLevel:Object(zt.selectApiLevel)(e),structuredContextualEnabled:Object(zt.selectIsContextualMetadataEnabled)(e)}},nO={setActiveSearchTab:mb.setActiveSearchTab},rO=Object(g.connect)(aO,nO)(tO),sO=rO,oO=a(119),iO=pb.A.map((function(e){return{value:e.value,label:Object(Ue.j)("search.assetsFileFormats."+e.value),className:e.type,class:pb.n.FORMAT}})),lO=Object(Mb.withListItemLayout)((function(e,t){return h.a.createElement(Ls.ItemContext.Provider,{value:t},h.a.createElement("div",{className:"type "+e.className},e.label))})),cO=function(e){var t=iO.filter((function(t){return e.value.some((function(e){return e===t.value}))}));return h.a.createElement(xb,{isClearable:!!e.value&&iO.some((function(t){return t.value===e.value})),"data-test":"formats-more-types",className:"more-formats",name:"form-field-name",placeholder:Object(Ue.j)("search.assetsFileFormats.moreFormatsLabel"),onChange:function(t){t?e.onChange(t.map((function(e){return e.value})),!1):e.onChange([],!1)},options:iO,components:{Option:lO},value:t,isMulti:!0,fixedHeight:pb.l})},dO=cO,uO=pb.g.map((function(e){return{value:e.value,label:Object(Ue.j)("search.assetsFileFormats."+e.value),className:e.type,class:pb.n.FORMAT}})),mO=function(e){return h.a.createElement(Pb.CheckboxGroup,{className:"format-scroller",name:"assetsFileFormats",value:e.value,onChange:e.onChange,"data-test":"asset-format-basic-options"},h.a.createElement("ul",{className:"check-list format-list"},uO.map((function(e){return h.a.createElement("li",{key:e.value,className:e.className},h.a.createElement("label",{htmlFor:e.value},h.a.createElement(Pb.Checkbox,{id:e.value,value:e.value}),h.a.createElement("span",{className:"tag-label"},h.a.createElement("span",{className:"icon"}," "),h.a.createElement("span",{className:"text"},h.a.createElement("strong",null,e.label)))))}))))},pO=mO,fO=(a(3927),function(e){var t=e.assetsKindValue,a=e.assetsBasicFileFormats,n=e.assetsMoreFileFormats,r=e.setAssetsBasicFileFormats,s=e.setAssetsMoreFileFormats,o=function(e,t){void 0===t&&(t=!0),t?r(e):s(e)},i=_()("col","col-by-format","showing-"+oO.a[t]);return h.a.createElement("div",{className:i,"data-test":"search-by-format-wrapper"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byFormat.label")),h.a.createElement(pO,{value:a,onChange:o}),h.a.createElement("div",{"data-test":"file-format-dropdown-parent",className:"form",ref:function(e){Ej=e||{}}},h.a.createElement(dO,{onChange:o,value:n}))))}),bO={componentDidUpdate:function(e){if(Object(St.n)(Ej,40),this.props.assetsKindValue!==e.assetsKindValue){var t=Object(Pa.j)(pb.d,this.props.assetsBasicFileFormats),a=Object(Pa.j)(pb.e,this.props.assetsMoreFileFormats);this.props.assetsKindValue!==pe.g.ALL&&(this.props.setAssetsBasicFileFormats(t[this.props.assetsKindValue]),this.props.setAssetsMoreFileFormats(a[this.props.assetsKindValue]))}}},hO={setAssetsBasicFileFormats:mb.setAssetsBasicFileFormats,setAssetsMoreFileFormats:mb.setAssetsMoreFileFormats},gO=function(e){return{assetsKindValue:Object(ub.selectAssetsKindValue)(e),assetsBasicFileFormats:Object(tb.selectAssetsBasicFileFormats)(e),assetsMoreFileFormats:Object(tb.selectAssetsMoreFileFormats)(e)}},vO=Object(jb.b)(bO)(fO),EO=Object(g.connect)(gO,hO)(vO),yO=EO,jO=(a(3928),Object.values(pb.o).map((function(e){return{value:e.value,label:Object(Ue.j)("search.imagesResolutionTypes."+e.label+".name"),tooltip:Object(Ue.j)("search.imagesResolutionTypes."+e.label+".tooltip"),className:"image-res",class:pb.n.IMAGE_RES}}))),OO=Object.values(pb.T).map((function(e){return{value:e.value,label:Object(Ue.j)("search.videosResolutionTypes."+e.label+".name"),tooltip:Object(Ue.j)("search.videosResolutionTypes."+e.label+".tooltip"),className:"videos-res",class:pb.n.VIDEO_RES}})),wO=function(e){var t=oO.a[e.assetsKindValue]===oO.a.all||oO.a[e.assetsKindValue]===oO.a.videos,a=oO.a[e.assetsKindValue]===oO.a.all||oO.a[e.assetsKindValue]===oO.a.images,n=_()("resolution-block",e.resolutionTab===pb.H.IMAGES?"image-active":"video-active"),r=_()("tab-img",{"tab-disable":!a}),s=_()("tab-video",{"tab-disable":!t}),o=e.setAssetsImageResolutions,i=e.assetsImageResolutions,l=e.setAssetsVideoResolutions,c=e.assetsVideoResolutions,d=function(e){var t=e.item,a=e.type,n="image"===a?i:c;return h.a.createElement(La,{id:t.value,label:t.label,onChange:function(e,t){return function(e,t,a){var n="image"===a?o:l,r="image"===a?i:c;n(e?[].concat(r,[t.target.id]):[].concat(r).filter((function(e){return e!==t.target.id})))}(e,t,a)},value:n.some((function(e){return e===t.value})),tooltip:t.tooltip})};return h.a.createElement("div",{className:"col"},(t||a)&&h.a.createElement("div",{className:"col-wrap"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byResolution.label")),h.a.createElement("div",{className:n,"data-test":"resolution-options"},h.a.createElement("ul",{className:"tab-links"},h.a.createElement("li",{className:r},h.a.createElement("button",{"data-test":"resolution-image-tab",type:"button",className:"link img",onClick:function(){return e.setResolutionTab(pb.H.IMAGES)}},h.a.createElement("span",{className:"icon"}," "),h.a.createElement("span",{className:"txt"},Object(Ue.j)("search.byResolution.imagesLabel")))),h.a.createElement("li",{className:s},h.a.createElement("button",{"data-test":"resolution-video-tab",type:"button",className:"link video",onClick:function(){return e.setResolutionTab(pb.H.VIDEOS)}},h.a.createElement("span",{className:"icon"}," "),h.a.createElement("span",{className:"txt"},Object(Ue.j)("search.byResolution.videosLabel"))))),h.a.createElement("div",{className:"res-scroller"},a&&h.a.createElement("div",{className:"img-tab"},h.a.createElement("ul",{className:"check-list sizes-list","data-test":"image-resolution-check-list"},jO.map((function(e){return h.a.createElement("li",{key:e.value,className:e.className},h.a.createElement(d,{item:e,type:"image"}))})))),t&&h.a.createElement("div",{className:"video-tab"},h.a.createElement("ul",{className:"check-list sizes-list","data-test":"video-resolution-check-list"},OO.map((function(e){return h.a.createElement("li",{key:e.value,className:e.className},h.a.createElement(d,{item:e,type:"video"}))}))))))))},IO=function(e){return{assetsVideoResolutions:Object(tb.selectAssetsVideoResolutions)(e),assetsImageResolutions:Object(tb.selectAssetsImageResolutions)(e),resolutionTab:Object(tb.selectResolutionTab)(e),assetsKindValue:Object(ub.selectAssetsKindValue)(e)}},TO={setAssetsImageResolutions:mb.setAssetsImageResolutions,setAssetsVideoResolutions:mb.setAssetsVideoResolutions,setResolutionTab:mb.setResolutionTab},MO=Object(g.connect)(IO,TO)(wO),CO=MO,NO=Object.values(pb.i).map((function(e){return{value:e.value,label:Object(Ue.j)("search.orientationTypes."+e.label),className:wb()(e.label),class:pb.n.ORIENTATION}})),xO=function(e){var t=oO.a[e.assetsKindValue]!==oO.a.others;return h.a.createElement("div",{className:"col","data-test":"orientation-check-list"},t&&h.a.createElement("div",{className:"col-wrap"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byOrientation.label")),h.a.createElement(Pb.CheckboxGroup,{name:"assetsOrientation",value:e.assetsOrientations,onChange:function(t){e.setAssetsOrientations(t)}},h.a.createElement("ul",{className:"check-list"},NO.map((function(e){return h.a.createElement("li",{key:e.value,className:e.className},h.a.createElement("label",{htmlFor:e.value},h.a.createElement(Pb.Checkbox,{id:e.value,value:e.value}),h.a.createElement("span",{className:"tag-label"},h.a.createElement("span",{className:"icon"}," "),h.a.createElement("span",{className:"text"},h.a.createElement("strong",null,e.label)))))}))))))},AO=function(e){return{assetsKindValue:Object(ub.selectAssetsKindValue)(e),assetsOrientations:Object(tb.selectAssetsOrientations)(e)}},DO={setAssetsOrientations:mb.setAssetsOrientations},LO=Object(g.connect)(AO,DO)(xO),SO=LO,kO=a(3881),PO=a.n(kO),_O=k.default.div.withConfig({displayName:"RangeSlider__StyledContainer",componentId:"zvuy6q-0"})(["display:flex;flex-direction:column;"]),RO=k.default.div.withConfig({displayName:"RangeSlider__StyledRange",componentId:"zvuy6q-1"})(["display:flex;flex-direction:row;justify-content:space-between;margin-top:",";",""],At.a.spacing.sm,(function(e){return e.disabled&&"opacity: 0.4; pointer-events: none;"})),FO=Object(k.default)(PO.a.Normal).withConfig({displayName:"RangeSlider__StyledSlider",componentId:"zvuy6q-2"})(["&.disabled{opacity:0.4;*{cursor:default;pointer-events:none;}button{display:none;}}"]),zO=function(e){var t=e.max,a=e.min,n=e.maxLabel,r=e.minLabel,s=e.value,o=e.disabled,i=e.onChange,l=e.onAfterChange,c=e.renderValue,d=V()(e,["max","min","maxLabel","minLabel","value","disabled","onChange","onAfterChange","renderValue"]);return h.a.createElement(_O,null,h.a.createElement(FO,W()({min:a,max:t,value:s,onChange:i,onAfterChange:l,showTooltip:!0,pearling:!0,renderValue:c,disabled:o},d)),h.a.createElement(RO,{disabled:o},h.a.createElement(Lt.a,{size:"xs",type:"lowContrast"},r),h.a.createElement(Lt.a,{size:"xs",type:"lowContrast"},n)))},BO=Object(k.default)(Ps.a).withConfig({displayName:"SearchByFilesizestyles__StyledSingleValueCombobox",componentId:"sc-1o5sj28-0"})(["min-width:70px;width:70px;background:transparent;z-index:10;.cb__control{background:transparent !important;border-color:transparent !important;}"]),UO=k.default.div.withConfig({displayName:"SearchByFilesizestyles__StyledSelectorContainer",componentId:"sc-1o5sj28-1"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:",";strong.title{margin:0px;}"],At.a.spacing.xs),VO=k.default.div.withConfig({displayName:"SearchByFilesizestyles__StyledFileSizeContainer",componentId:"sc-1o5sj28-2"})(["margin-bottom:",";"],At.a.spacing.lg),GO=function(e){var t=e.searchByFilesize,a=e.setSearchByFilesize,n=e.searchByFilesizeUnit,r=e.setSearchByFilesizeUnit,s=Object(bd.a)(),o=Object(b.useCallback)((function(){s("size search","size selected")}),[s]),i=Object(b.useCallback)((function(e){var t=e[0],n=e[1];a({min:t,max:n})}),[a]),l=[t.min,t.max];return h.a.createElement(VO,{"data-test":"filesize-unit-selection-container"},h.a.createElement(UO,null,h.a.createElement(Lt.a,{size:"sm",type:"highContrast"},Object(Ue.j)("search.byFilesize.label")),h.a.createElement(BO,{className:"by-filesize-unit",name:"form-field-filesize-unit",onChange:function(e){r(e.value)},options:pb.J.UNITS,value:n,isClearable:!1})),h.a.createElement("div",{className:"by-filesize","data-test":"file-size-input-range"},h.a.createElement(zO,{min:pb.J.MIN,max:pb.J.MAX,minLabel:pb.J.MIN+(null==n?void 0:n.toUpperCase()),maxLabel:pb.J.MAX+(null==n?void 0:n.toUpperCase()),value:l,onChange:i,onAfterChange:o,showTooltip:!0,pearling:!0,renderValue:function(e,t){return t.valueNow+(null==n?void 0:n.toUpperCase())}})))},WO={setSearchByFilesize:mb.setSearchByFilesize,setSearchByFilesizeUnit:mb.setSearchByFilesizeUnit},HO=function(e){return{searchByFilesize:Object(tb.selectSearchByFilesize)(e),searchByFilesizeUnit:Object(tb.selectSearchByFilesizeUnit)(e)}},YO=Object(g.connect)(HO,WO)(GO),QO=YO,KO=Object(Te.g)(pb.I.MIN),ZO=Object(Te.g)(pb.I.MAX),qO=k.default.div.withConfig({displayName:"SearchByDuration__StyledTitle",componentId:"sc-1dyizyb-0"})(["margin-bottom:",";"],At.a.spacing.sm),XO=function(e){var t=e.assetsKindValue,a=e.searchByDuration,n=e.setSearchByDuration,r=Object(bd.a)(),s=Object(b.useCallback)((function(){r("duration search","duration selected")}),[r]),o=Object(b.useCallback)((function(e){var t=e[0],a=e[1];n({min:t,max:a})}),[n]),i=[a.min,a.max];return h.a.createElement("div",null,h.a.createElement(qO,null,h.a.createElement(Lt.a,{size:"sm",type:"highContrast"},Object(Ue.j)("search.byDuration.label"))),h.a.createElement("div",{className:"by-duration"},h.a.createElement(zO,{min:pb.I.MIN,max:pb.I.MAX,minLabel:KO,maxLabel:ZO,value:i,onChange:o,onAfterChange:s,showTooltip:!0,pearling:!0,renderValue:function(e,t){return Object(Te.g)(t.valueNow)},disabled:t===pe.g.OTHERS||t===pe.g.IMAGES})))},JO={setSearchByDuration:mb.setSearchByDuration},$O=function(e){return{searchByDuration:Object(tb.selectSearchByDuration)(e),assetsKindValue:Object(ub.selectAssetsKindValue)(e)}},ew=Object(g.connect)($O,JO)(XO),tw=ew,aw=function(){return h.a.createElement(vy,{"data-test":"format-block"},h.a.createElement(yO,null),h.a.createElement(CO,null),h.a.createElement(SO,null),h.a.createElement("div",{className:"col","data-test":"search-by-size-or-duration-wrapper"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement(QO,null),h.a.createElement(tw,null))))},nw=aw,rw=(a(3929),Object.keys(pb.p).map((function(e){return{value:e,label:Object(Ue.j)("search.byStyle."+pb.p[e].label),className:wb()(pb.p[e].label),class:pb.n.IMAGE_STYLE}}))),sw=function(e){return h.a.createElement("div",{className:"col","data-test":"image-style"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byStyle.label")),h.a.createElement(Pb.CheckboxGroup,{name:"imageStyle",value:e.imageStyle,onChange:e.setImageStyle},h.a.createElement("ul",{className:"images-list"},rw.map((function(t){return h.a.createElement("li",{key:t.value,className:"image-style "+t.className+" "+(e.imageStyle.includes(t.value)?"active":"")},h.a.createElement("label",{htmlFor:t.className},h.a.createElement(Pb.Checkbox,{className:"checkbox",id:t.className,value:t.value}),h.a.createElement("div",{className:"img"}),h.a.createElement("div",{className:"textbox"},h.a.createElement("div",{className:"holder"},h.a.createElement("strong",{className:"subtitle"},t.label)))))}))))))},ow=function(e){return{imageStyle:Object(tb.selectImageStyle)(e)}},iw={setImageStyle:mb.setImageStyle},lw=Object(g.connect)(ow,iw)(sw),cw=lw,dw=(a(3930),Object.values(pb.q).map((function(e){return{value:e.value,label:Object(Ue.j)("search.byColors."+e.label),className:wb()(e.label),class:pb.n.IMAGE_COLOR}}))),uw=function(e){return h.a.createElement("div",{className:"col","data-test":"image-predominant-colors"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("search.byColors.label")),h.a.createElement("colors-scroller",null,h.a.createElement(Pb.CheckboxGroup,{name:"predominantColors",value:e.predominantColors,onChange:e.setPredominantColors},h.a.createElement("ul",{className:"colors-list"},dw.map((function(t){return h.a.createElement("li",{key:t.value,className:t.className},h.a.createElement("label",{className:"circle "+t.className+" "+(e.predominantColors.includes(t.value)?"active":""),htmlFor:t.className,"data-balloon":t.label,"data-balloon-pos":"up","data-balloon-always":!0},h.a.createElement(Pb.Checkbox,{className:"checkbox",id:t.className,value:t.value}),h.a.createElement("span",{className:"arrow"})))})))))))},mw=function(e){return{predominantColors:Object(tb.selectPredominantColors)(e)}},pw={setPredominantColors:mb.setPredominantColors},fw=Object(g.connect)(mw,pw)(uw),bw=fw,hw=Object(k.css)(["box-shadow:inset 0 2px 5px rgba(14,47,90,0.5);background:linear-gradient(to bottom,rgba(80,162,253,1) 0%,rgba(0,120,255,1) 100%);color:",";"],tt.h),gw=Object(k.css)([":hover{background:",";color:",";.svgIcon{path{fill:",";}}}"],tt.l,tt.a,tt.a),vw=k.default.li.withConfig({displayName:"SearchByFaces__SearchOptionStyled",componentId:"sc-30x3c9-0"})(["cursor:pointer;padding:0 5px;display:flex;align-items:center;justify-content:center;flex-direction:column;"," "," .text{margin-top:14px;}@media ","{flex-direction:row;.text{margin-left:14px;margin-top:0px;}}"],(function(e){return e.selected&&hw}),(function(e){return!e.selected&&gw}),fe.r.MD),Ew=function(e){var t=e.option,a=e.toggleSelect,n=e.selected;return h.a.createElement(vw,{className:""+wb()(t.label),selected:n,onClick:a,"data-test":"search-by-"+Object(Ue.j)("search.byFaces."+t.label)},h.a.createElement(ee.a,{size:"lg",color:n?"white":"gray-60",path:t.icon}),h.a.createElement("div",{className:"text b f-xs"},Object(Ue.j)("search.byFaces."+t.label)))},yw=function(e){var t=e.setNumberOfFaces,a=e.numberOfFaces,n=Object(b.useMemo)((function(){return a.filter((function(e){var t=e.match(/[0-9]+/)||[];return!pb.D[e]&&t>2})).length>0}),[a]),r=Object(b.useCallback)((function(e,n){e?n.value===pb.C?t(a.filter((function(e){return pb.D[e]&&e!==pb.C}))):t(a.filter((function(e){return e!==n.value}))):t([].concat(a,[n.value]))}),[a,t]),s=Object(b.useMemo)((function(){return pb.E.map((function(e){var t=!(e.value!==pb.C||!n)||a.includes(e.value);return h.a.createElement(Ew,{option:e,key:e.value,selected:t,toggleSelect:function(){return r(t,e)}})}))}),[a,r,n]);return h.a.createElement("div",{className:"col","data-test":"images-with-faces"},h.a.createElement("div",{className:"col-wrap"},h.a.createElement("div",{className:"title b"},Object(Ue.j)("search.byFaces.label")),h.a.createElement("ul",{className:"check-list add","data-test":"advanced-search-by-faces"},s)))},jw=function(e){return{numberOfFaces:Object(tb.selectNumberOfFaces)(e)}},Ow={setNumberOfFaces:mb.setNumberOfFaces},ww=Object(g.connect)(jw,Ow)(yw),Iw=ww,Tw=a(3969),Mw=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f7f7f7"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#deecdb"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:"25"}]},{featureType:"road",elementType:"all",stylers:[{lightness:"25"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"labels",stylers:[{saturation:"-90"},{lightness:"25"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#e0f1f9"}]}],Cw=(a(3882),{styles:Mw,maxZoom:11,streetViewControl:!1,fullscreenControl:!1,mapTypeControl:!1}),Nw=function(e){var t=e.mapContainerClassName,a=e.mapZoom,n=e.mapCenter,r=e.mapToggle,s=e.locationText,o=e.setLocationMapCenter,i=e.setLocationMapRendered,l=e.setLocationMapZoom,c=e.setLocationText,d=e.setLocationMapToggle,u=Object(b.useState)(),m=u[0],p=u[1],f=Object(b.useState)(),g=f[0],v=f[1],E=Object(b.useRef)(null),y=Object(Tw.c)({googleMapsApiKey:Ue.b.map.gmapApiKey,version:"weekly",libraries:["geometry","places"],language:"en"}).isLoaded,j=function(){g&&(p(g.getBounds()),o({lat:g.getCenter().lat(),lng:g.getCenter().lng()}),l(g.getZoom()),g&&yj.geocode({latLng:g.getCenter()},(function(e){(null==e?void 0:e.length)>0&&c(e.length>1?e[1].formatted_address:e[0].formatted_address)})))},O=Object(St.b)((function(){o({lat:n.lat,lng:n.lng})}),100);return Object(b.useEffect)((function(){return y&&(jj=window.google.maps.event.addDomListener(window,"resize",O),yj=new window.google.maps.Geocoder,i(!0)),function(){window.google.maps.event.removeListener(jj)}}),[i,O,y]),y?h.a.createElement(Tw.a,{mapContainerClassName:t,onLoad:function(e){v(e)},zoom:a,center:n,onBoundsChanged:function(){g&&p(g.getBounds())},onZoomChanged:j,onDragEnd:j,options:Cw},h.a.createElement(Tw.b,{onLoad:function(e){return E.current=e},bounds:m,controlPosition:window.google.maps.ControlPosition.TOP_LEFT,onPlacesChanged:function(){var e,t=(null===(e=E.current)||void 0===e?void 0:e.getPlaces())||[];t.length&&(r||d(!0),c(t[0].name));var a=t.map((function(e){return{position:e.geometry.location}})),s=a[0]&&a[0].position?a[0].position:n;o({lat:Bi()(s.lat)?s.lat():s.lat,lng:Bi()(s.lng)?s.lng():s.lng})}},h.a.createElement("input",{type:"text",placeholder:Object(Ue.j)("search.byLocation.inputPlaceholder"),className:"by-location-input",onChange:function(e){e.target.value?c(e.target.value):d(!1)},value:s})),r&&h.a.createElement("div",{className:"by-location-circle"})):null},xw=function(e){return{mapCenter:Object(tb.selectLocationMapCenter)(e)}},Aw={setLocationMapCenter:mb.setLocationMapCenter},Dw=Object(g.connect)(xw,Aw)(Nw),Lw=Dw,Sw=function(e){var t=e.activeSearchGroup,a=e.mapToggle,n=e.mapRendered,r=e.mapCenter,s=e.mapZoom,o=e.radius,i=e.setLocationMapToggle,l=e.setLocationMapRendered,c=e.setLocationMapCenter,d=e.setLocationMapZoom,u=e.setLocationText,m=e.locationText,p=n||t===pb.K.IMAGE_ANALYSIS,f=_()("by-location",{"by-location-disabled":!a});return h.a.createElement("div",{className:"fs-exclude col","data-test":"image-location"},h.a.createElement("div",{className:"col-wrap by-location-wrap"},h.a.createElement("strong",{className:"title by-location-title"},Object(Ue.j)("search.byLocation.label")),a&&h.a.createElement("div",{className:"radius by-location-radius"},o+" "+Object(Ue.j)("search.byLocation.radiusLabel")),p&&h.a.createElement(Lw,{mapContainerClassName:f,mapToggle:a,mapCenter:r,mapZoom:s,setLocationMapRendered:l,setLocationMapCenter:c,setLocationMapZoom:d,setLocationMapToggle:i,setLocationText:u,locationText:m})))},kw=function(e){return{activeSearchGroup:Object(tb.selectActiveSearchGroup)(e),mapToggle:Object(tb.selectLocationMapToggle)(e),mapRendered:Object(tb.selectLocationMapRendered)(e),mapCenter:Object(tb.selectLocationMapCenter)(e),mapZoom:Object(tb.selectLocationMapZoom)(e),radius:Object(tb.selectRadius)(e),locationText:Object(tb.selectLocationText)(e)}},Pw={setLocationMapToggle:mb.setLocationMapToggle,setLocationMapRendered:mb.setLocationMapRendered,setLocationMapCenter:mb.setLocationMapCenter,setLocationMapZoom:mb.setLocationMapZoom,setLocationText:mb.setLocationText},_w=Object(g.connect)(kw,Pw)(Sw),Rw=_w,Fw=a(3883),zw=a.n(Fw),Bw="learn_more",Uw="request_access",Vw={width:"133px"},Gw=function(e){var t=e.userPlanInfo;return b.createElement(bn.b,{skin:"primaryLight",size:"md",onClick:function(){Object(me.l)("imageTabPromotion.learnMore.subject","imageTabPromotion.learnMore.descriptionWithAccount","imageTabPromotion.learnMore.descriptionWithCloudName",t)}},Object(Ue.j)("imageTabPromotion.learnMore.buttonLabel"))},Ww=function(e){var t=e.userPlanInfo;return b.createElement(bn.b,{skin:"primaryLight",size:"md",onClick:function(){Object(me.l)("imageTabPromotion.requestAccess.subject","imageTabPromotion.requestAccess.descriptionWithAccount","imageTabPromotion.requestAccess.descriptionWithCloudName",t)}},Object(Ue.j)("imageTabPromotion.requestAccess.buttonLabel"))},Hw=function(e){return e.promotionMode?b.createElement("div",{className:_()("absolute z-5 flex flex-column items-center",zw.a.overlay)},b.createElement("img",{src:Ue.b.url.cloudinaryRes+"/image/upload/w_133,dpr_2/v1529329365/console-img-search.png",style:Vw,alt:"search icon"}),b.createElement("div",{className:"f-md lh-title black"},Object(Ue.j)("imageTabPromotion.subtitle")),e.promotionMode===Bw?b.createElement(Gw,e):b.createElement(Ww,e)):null},Yw=function(e){return{userPlanInfo:Object(zt.selectUserPlanInfo)(e)}},Qw=Object(g.connect)(Yw,{})(Hw),Kw=Qw,Zw=function(e){var t;return h.a.createElement(vy,{"data-test":"image_analysis-block"},h.a.createElement(Kw,e),h.a.createElement("div",{className:_()("w-100",(t={},t[zw.a.disabled]=e.promotionMode,t))},h.a.createElement(cw,null),h.a.createElement(bw,null),h.a.createElement(Iw,null),h.a.createElement(Rw,null)))},qw=Zw;Object(Ue.h)(zt.selectCurrentCustomerId,(function(e,t){t(Object(mb.resetSearch)())})),Object(Ue.h)(ub.selectAssetsKindValue,(function(e,t){t({type:pb.U.SET_ASSETS_KIND,payload:e})}),!0);var Xw,Jw=((Oj={})[fe.A.ADVANCED]=Bw,Oj[fe.A.PRO]=Bw,Oj[fe.A.PREMIUM]=Uw,Oj[fe.A.STRATEGIC]=Uw,Oj),$w=Object(k.css)(["max-height:calc(100% - 80px);overflow-x:hidden;overflow-y:auto;"]),eI=k.default.div.withConfig({displayName:"AdvancedSearch__MediaSearchBlock",componentId:"sc-1i4iksx-0"})(["@media (max-width:613px){display:flex;flex-direction:column;}@media (max-width:768px){","}@media (max-height:710px) and (max-width:1024px){","}"],$w,$w),tI=function(e){var t=e.apiLevel>1||Object(me.f)(e.apiLevel)&&![fe.A.FREE,fe.A.BASIC].includes(e.planInfo.plan_size),a=1===e.apiLevel&&Jw[e.planInfo.plan_size]||"",n=_()("media-block",{"tier-active":!Object(me.f)(e.apiLevel)});return h.a.createElement(le.a.Provider,{value:fe.g.ADVANCED_SEARCH},h.a.createElement(eI,{className:n,"data-test":"advanced-search"},h.a.createElement(yb,{setActiveSearchGroup:e.setActiveSearchGroup,activeSearchGroup:e.activeSearchGroup,assetsKindValue:e.assetsKindValue,showImageAnalysisPromotion:!!a,showImageAnalysisButton:t,onClose:e.onClose}),h.a.createElement("div",{className:"tabs-content"},e.activeSearchGroup===pb.K.GENERAL&&h.a.createElement(By,null),e.activeSearchGroup===pb.K.METADATA&&h.a.createElement(sO,null),Object(me.f)(e.apiLevel)&&e.activeSearchGroup===pb.K.FORMAT&&h.a.createElement(nw,null),t&&e.activeSearchGroup===pb.K.IMAGE_ANALYSIS&&h.a.createElement(qw,{promotionMode:a}))))},aI=function(e){return{apiLevel:Object(zt.selectApiLevel)(e),activeSearchGroup:Object(tb.selectActiveSearchGroup)(e),assetsKindValue:Object(ub.selectAssetsKindValue)(e),planInfo:Object(zt.selectPlanInfo)(e)}},nI={setActiveSearchGroup:mb.setActiveSearchGroup,onClose:db.closeTopPane},rI=Object(g.connect)(aI,nI)(tI),sI=rI,oI=a(156),iI=a(295),lI=a(874),cI=a.n(lI),dI="639px",uI=function(){return window&&window.matchMedia("(max-width: "+dI+")").matches},mI=a(3856),pI=a.n(mI),fI={height:"90vh"},bI=function(e){var t=Object(Hl.h)(e.itemType,e.filter,e.error);return h.a.createElement("div",{className:_()("ph2",pI.a["grid-container"])},h.a.createElement("div",{"data-test":"empty-content",className:"empty-content flex flex-column flex-grow"},t&&h.a.createElement("div",{className:"pt6"},h.a.createElement(t,{itemType:e.itemType,filter:e.filter,error:e.error})),!t&&me.g&&h.a.createElement("pre",{style:fI},h.a.createElement("code",null,JSON.stringify(e,null,4)))))},hI=function(e,t){return{itemType:Object(Ft.selectListItemType)(e,t.listId),filter:Object(Ft.selectListFilter)(e,t.listId),error:Object(Ft.selectListError)(e,t.listId),rootFolder:Object(_t.selectItemByProp)(e,he.c,"path","")}},gI=Object(g.connect)(hI)(bI),vI=h.a.createContext((function(){})),EI=vI,yI=a(631),jI=a(153),OI=a(347),wI=a(442),II=a(1558),TI=(a(3931),function(e){return h.a.createElement("div",{onClick:e.onClick,className:"drop-btn-opener"}," ")}),MI=TI,CI=a(353),NI=a.n(CI),xI=a(34),AI=function(e){return Object(xI.i)("sortField",e)},DI=function(e){return Object(xI.i)("sortDirection",e)},LI=a(1570),SI=function(e){var t=e.selected,a=e.trackEvent,n=e.fields,r=e.collapseAllDropdowns;return h.a.createElement("ul",null,n.map((function(e){return h.a.createElement("li",{key:e.key,className:e.key===t?"active":""},h.a.createElement("button",{title:e.label,onClick:function(){return function(e){r();var t=NI()(e),n="score"===t?"relevance":t;a(fe.f.ORDER_BY,NI()(n)),AI(e)}(e.key)},type:"button"},e.label))})))},kI=function(e,t){return{selected:Object(ub.selectSortField)(e),fields:Object(LI.selectAvailableSortFields)(e,t.listId)}},PI={collapseAllDropdowns:wI.collapseAllDropdowns},_I=Object(g.connect)(kI,PI)(SI),RI=Object(le.b)(ag(_I)),FI=function(e){return function(){Object(cm.b)(fe.g.TOOLBAR,fe.f.ORDER_BY,e===ze.p.DESCENDING?"descending":"ascending");var t=e===ze.p.DESCENDING?ze.p.ASCENDING:ze.p.DESCENDING;DI(t)}},zI=function(e,t){var a=t===ze.p.DESCENDING?Object(Ue.j)("mediaLibrary.grid.descending"):Object(Ue.j)("mediaLibrary.grid.ascending");return h.a.createElement(Z.a,{tooltipText:a,tooltipDistance:5,className:"btn-sort-tooltip topbar-item",isSensitive:!1},e)},BI=function(e,t,a){var n="desc"===t?"descending":"";return h.a.createElement("button",{"data-test":"btn-sort-direction",type:"button",className:e+" "+n,onClick:FI(t)},a)},UI=function(e){var t=e.selected,a=e.showTooltip,n=e.children,r=e.classNames,s=BI(r,t,n);return a?zI(s,t):s},VI=function(e){return{selected:Object(ub.selectSortDirection)(e)}},GI=Object(g.connect)(VI,null)(UI),WI=GI,HI=function(){return h.a.createElement("div",{className:"dropdown"},h.a.createElement("div",{className:"sorting-list"},h.a.createElement("div",{className:"head"},h.a.createElement("strong",{className:"title"},Object(Ue.j)("mediaLibrary.grid.sortBy")),h.a.createElement(WI,{classNames:"btn-sort"},h.a.createElement("span",{className:"txt1"},Object(Ue.j)("mediaLibrary.grid.ascending")),h.a.createElement("span",{className:"txt2"},Object(Ue.j)("mediaLibrary.grid.descending")))),h.a.createElement("span",{className:"arrow"}," "),h.a.createElement(WI,{classNames:"btn-sort btn-sort-direction"}),h.a.createElement(RI,null)))},YI=HI,QI=a(971),KI=(a(3932),{paddingLeft:0,paddingRight:"8px",borderRadius:0}),ZI=((Xw={})[oI.e.LIST]={tooltip:oI.e.GRID,icon:x.card},Xw[oI.e.GRID]={tooltip:oI.e.LIST,icon:x.list},Xw),qI=function(e){var t=e.showPreviewPaneToggle,a=void 0===t||t,n=e.showViewModeToggle,r=void 0===n||n,s=e.showRefresh,o=void 0!==s&&s,i=V()(e,["showPreviewPaneToggle","showViewModeToggle","showRefresh"]),l=i.setDropdownState,c=i.viewMode,d=i.setGridViewMode,u=i.trackEvent,m=i.sortTypeDropdownOpen?"parent-active":"",p=i.responsiveSortDropdownOpen?"drop-active":"",f=ZI[i.viewMode].icon,g=i.viewMode===oI.e.GRID?Object(Ue.j)("mediaLibrary.grid.gridToListTooltip"):Object(Ue.j)("mediaLibrary.grid.listToGridTooltip"),v=i.leftPaneOptions&&i.leftPaneOptions.buttonOptions,E=_()("topbar flex",i.showLeftPaneButton?"justify-between":"justify-end"),y=_()("flex",{"mr-auto":!i.showLeftPaneButton}),j=Object(b.useCallback)((function(e,t){return function(){u(e.action,e.label),t()}}),[u]),O=Object(b.useCallback)((function(){var e=c===oI.e.GRID?oI.e.LIST:oI.e.GRID;u(fe.f.CHANGE_VIEW,"change to: "+e.toLowerCase()),d(e)}),[c,d,u]),w={leftPaneButton:i.showLeftPaneButton,sortField:i.shouldDisplaySorting,sortDirection:i.shouldDisplaySorting,viewModeToggle:r,previewPaneToggle:a,refreshButton:o};return Object.values(w).every((function(e){return!e}))?null:h.a.createElement("div",{className:E,"data-test":"topbar"},h.a.createElement("span",{className:y},w.leftPaneButton&&h.a.createElement(h.a.Fragment,null,h.a.createElement(bn.b,{style:KI,icon:v&&v.icon,skin:"menu",size:"sm",onClick:j({action:fe.f.SHOW_HIDE,label:"open folder pane"},i.openLeftPane),tooltipText:v&&v.tooltip,tooltipIsSensitive:!1,className:"topbar-item",dataTest:"open-left-pane"}),h.a.createElement("div",{className:"divider"})),w.refreshButton&&h.a.createElement(bn.b,{icon:x.refresh,skin:"menu",size:"sm",tooltipText:Object(Ue.j)("grid.topBar.refreshButton"),tooltipIsSensitive:!1,dataTest:"refresh-grid-btn",onClick:j({action:fe.f.REFRESH,label:"refresh grid"},i.refreshList)})),h.a.createElement("div",{className:"flex"},w.sortDirection&&h.a.createElement(WI,{classNames:"h-100 w-100 btn-sort btn-sort-direction",showTooltip:!0}),w.sortDirection&&h.a.createElement("span",{className:"flex"},h.a.createElement("div",{className:"divider"}),h.a.createElement("div",{className:"sorting-box "+p+" "},h.a.createElement(bn.b,{icon:x.moreHorizontal,className:"dropdown-btn-mobile topbar-item",skin:"link",size:"sm",onClick:function(){i.setDropdownState(QI.b.RESPO_SORT_TYPE,!i.responsiveSortDropdownOpen)}}),h.a.createElement(OI.a,{ModalButtonComponent:function(){return!i.responsiveSortDropdownOpen&&h.a.createElement(MI,null)},ModalContentComponent:YI,outsideClickHandler:function(e){return i.setDropdownState(QI.b.RESPO_SORT_TYPE,e)},modalModeSelector:function(e){return Object(II.selectDropdownMode)(e,{name:QI.b.RESPO_SORT_TYPE})},className:"topbar-item",renderWhenCollapsed:!0,buttonLabelKey:"",modalButtonClassName:"sortDropNarrow"}),h.a.createElement("div",{className:"sortDropWide topbar-item"},h.a.createElement("div",{"data-test":"sort-drop-down",className:"dropdown"},h.a.createElement("div",{"data-test":"sorting-list",className:"sorting-list "+m},h.a.createElement("span",{className:"arrow"}," "),h.a.createElement(OI.a,{ModalButtonComponent:function(){return!i.sortTypeDropdownOpen&&h.a.createElement(MI,null)},ModalContentComponent:RI,outsideClickHandler:function(e){return l(QI.b.SORT_TYPE,e)},modalModeSelector:function(e){return Object(II.selectDropdownMode)(e,{name:QI.b.SORT_TYPE})},renderWhenCollapsed:!0,buttonLabelKey:"",modalButtonClassName:"sortDropWide"})))))),w.viewModeToggle&&h.a.createElement("span",{className:"flex view-mode-toggle-section"},h.a.createElement("div",{className:"divider"}),h.a.createElement(bn.b,{className:"view-mode-toggle h-100 "+i.viewMode.toLowerCase(),icon:f,tooltipText:g,tooltip:5,tooltipIsSensitive:!1,skin:"menu",size:"sm",dataTest:"view-mode-btn",onClick:O})),w.previewPaneToggle&&!i.previewPaneOpen&&h.a.createElement("span",{className:"flex"},h.a.createElement("div",{className:"divider"}),h.a.createElement("span",null,h.a.createElement(bn.b,{className:"h-100 toggle-preview-pane",icon:x.eyeOn,tooltipText:i.previewPaneOpen?Object(Ue.j)("mediaLibrary.grid.closePreview"):Object(Ue.j)("mediaLibrary.grid.openPreview"),tooltipIsSensitive:!1,skin:"menu",size:"sm",dataTest:"preview-pane-toggle-btn",onClick:j({action:fe.f.SHOW_HIDE,label:"open preview pane"},i.togglePreviewPane)})))))},XI={setDropdownState:wI.setDropdownState,toggleListSortDirection:Fn.toggleListSortDirection,openLeftPane:db.openLeftPane,togglePreviewPane:db.togglePreviewPane},JI=function(e,t){return{sortTypeDropdownOpen:Object(II.selectDropdownMode)(e,{name:QI.b.SORT_TYPE}),responsiveSortDropdownOpen:Object(II.selectDropdownMode)(e,{name:QI.b.RESPO_SORT_TYPE}),showLeftPaneButton:!Object(ub.selectLeftPaneOpen)(e)&&t.leftPaneOptions&&t.leftPaneOptions.buttonOptions,previewPaneOpen:Object(ub.isPreviewPaneOpen)(e),shouldDisplaySorting:Object(LI.selectShouldDisplayListSorting)(e,t.listId)}},$I=Object(g.connect)(JI,XI)(qI),eT=ag(Object(le.b)($I)),tT=a(1262),aT=a(495),nT=a(286),rT=a(150),sT="MEW_SAVE_MODAL",oT={withBackup:ng.a.url.enableBackupArticle,withoutBackup:ng.a.url.restoreBackups},iT=k.default.div.withConfig({displayName:"MediaEditorSaveModal__Warning",componentId:"sc-1mwvsz0-0"})(["display:flex;align-items:center;justify-content:center;"]),lT=k.default.div.withConfig({displayName:"MediaEditorSaveModal__DownloadNotice",componentId:"sc-1mwvsz0-1"})(["margin-top:24px;"]),cT=function(e,t){return function(){return h.a.createElement(Lt.a,null,h.a.createElement(iT,null,h.a.createElement(ee.a,{className:"mr3 flex-shrink-0",path:x.error,size:"xl3",color:"primary"}),h.a.createElement("div",null,Object(Ue.j)("mediaEditor.saveModal."+e+".beforeLink"),h.a.createElement(rg.a,{name:"Click on data link "+e,to:oT[e]},Object(Ue.j)("mediaEditor.saveModal."+e+".linkText")),Object(Ue.j)("mediaEditor.saveModal."+e+".afterLink"))),h.a.createElement(lT,null,Object(Ue.j)("mediaEditor.saveModal.downloadNotice.beforeLink"),h.a.createElement("a",{className:"pointer","data-test":"mew-download-from-notice",onClick:t},Object(Ue.j)("mediaEditor.saveModal.downloadNotice.linkText")),Object(Ue.j)("mediaEditor.saveModal.downloadNotice.afterLink")))}},dT=function(e){var t=e.isCustomerBackupEnabled,a=e.onConfirm,n=e.onClickDownload;return h.a.createElement(ho.b,{onConfirm:a,title:Object(Ue.j)("mediaEditor.saveModal.title"),renderBodyContent:cT(t?"withBackup":"withoutBackup",n),text:Object(Ue.j)("mediaEditor.saveModal.bodyWithoutBackup",{interpolation:{escapeValue:!1}}),primaryButtonText:Object(Ue.j)("mediaEditor.saveModal.overwriteButton"),primaryButtonVariant:"error",primaryButtonIcon:"check",secondaryButtonText:Object(Ue.j)("mediaEditor.saveModal.cancelButton")})};Ba.a.register(sT,dT);var uT=a(1594),mT="MEW_UNSAVED_CHANGES_MODAL",pT=function(){return h.a.createElement(Lt.a,null,Object(Ue.j)("mediaEditor.unsavedChanged.body"))},fT=function(e){var t=e.onConfirm;return h.a.createElement(ho.b,{dataTest:"media-editor-unsaved-changes-confirm-dialog",titleIcon:"info",onConfirm:t,renderBodyContent:pT,title:Object(Ue.j)("mediaEditor.unsavedChanged.title"),text:Object(Ue.j)("mediaEditor.unsavedChanged.body"),primaryButtonText:Object(Ue.j)("mediaEditor.unsavedChanged.approveButton"),primaryButtonVariant:"error",secondaryButtonText:Object(Ue.j)("mediaEditor.unsavedChanged.cancelButton")})};Ba.a.register(mT,fT);var bT=a(879),hT=Object(k.css)(["height:calc(100vh - ","px);height:calc(var(--vh,1vh) * 100 - ","px);"],(function(e){var t=e.mlHeaderHeight;return bT.a+t}),(function(e){var t=e.mlHeaderHeight;return bT.a+t})),gT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__ContentWrapper",componentId:"x5nq4r-0"})(["",""],hT),vT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__IframeContentWrapper",componentId:"x5nq4r-1"})(["iframe{","}"],hT),ET="40px",yT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__PreviewBackdrop",componentId:"x5nq4r-2"})(["height:calc(100vh);height:calc(var(--vh,1vh) * 100);width:100%;background:rgba(0,0,0,0.5);z-index:10000;position:fixed;top:0;"]),jT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__PreviewBackdropHeader",componentId:"x5nq4r-3"})(["position:absolute;top:0;left:0;display:flex;justify-content:space-between;width:100%;background-image:linear-gradient(to top,rgba(0,0,0,0),#000000);padding:"," "," 0;height:",";align-items:center;> span{font-size:",";font-weight:500;color:",";width:320px;}"],At.a.spacing.sm,At.a.spacing.lg,ET,At.a.font.size.xs,At.a.palette.contrastInvert),OT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__AssetDrilldownPreviewWrapper",componentId:"x5nq4r-4"})(["height:calc(100vh - ",");height:calc(var(--vh,1vh) * 100 - ",");margin-top:",";"],ET,ET,ET),wT=Object(k.default)(zp.a).withConfig({displayName:"AssetDrilldownstyles__StyledPill",componentId:"x5nq4r-5"})(["background-color:rgba(0,0,0,0.5);z-index:2;"]),IT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__StyledLeftSection",componentId:"x5nq4r-6"})(["display:flex;box-sizing:border-box;flex:1 1 100%;min-width:0;padding:",";padding-left:0px;align-items:center;"],At.a.spacing.md),TT=k.default.div.withConfig({displayName:"AssetDrilldownstyles__StyledRightSection",componentId:"x5nq4r-7"})(["display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-end;flex:0;box-sizing:border-box;padding-right:",";& > button{margin-left:",";}"],At.a.spacing.md,At.a.spacing.md),MT=Object(k.default)(Xe.a).withConfig({displayName:"MediaEditorTopBar__StyledDownloadButton",componentId:"lbjhs3-0"})(["margin-right:",";"],At.a.spacing.xs),CT=function(e){var t=e.item,a=e.isCustomerBackupEnabled,n=e.toggleMediaEditorWidget,r=e.getExportDetails,o=e.downloadItem,l=e.updateItem,c=e.setIsLoading,d=e.isDirty,u=e.showModal,m=e.trackEvent,p=e.isVisible,f=Object(b.useCallback)((function(){d?n():u(mT,{onConfirm:n})}),[u,d,n]),g=Object(b.useCallback)(i()(s.a.mark((function e(){var a,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:a=e.sent,n=a.transformation,i={apiOptions:{transformation:n,targetPublicId:null==t?void 0:t.filename}},m(fe.f.DOWNLOAD,"asset downloaded successfully from edit image"),o(t,i);case 7:case"end":return e.stop()}}),e)}))),[r,o,t,m]),v=Object(b.useCallback)((function(){var e=function(){var e=i()(s.a.mark((function e(){var a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(fe.f.EDIT,"image edited successfully"),e.next=3,r();case 3:return a=e.sent,o=a.transformation,c(!0),e.next=8,l(t,ge.i.RESOURCE_FILE,o);case 8:c(!1),n();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m(fe.f.EDIT,"intent to save image"),u(sT,{isCustomerBackupEnabled:a,onConfirm:e,onClickDownload:g})}),[r,t,n,l,c,a,u,m,g]),E=Object(b.useCallback)((function(e){"esc"===ks()(e)&&f()}),[f]);return Object(b.useEffect)((function(){return p?window.addEventListener("keydown",E):window.removeEventListener("keydown",E),function(){window.removeEventListener("keydown",E)}}),[E,p]),t?h.a.createElement("div",{"data-test":"media-editor-top-bar",className:_()(nn.a.toolbar,nn.a.toolbarTop,"bg-white","flex flex-nowrap items-center justify-between","w-100")},h.a.createElement(IT,null,h.a.createElement(fh,{onClick:f,tooltipText:Object(Ue.j)("assetDrilldown.close"),icon:"cross"}),h.a.createElement("div",{className:"w1 bg-gray-50 flex-none self-stretch mr3"}),h.a.createElement("div",{className:"flex-grow-1 flex-column content-center truncate"},h.a.createElement("div",{className:_()("flex items-center","truncate","fw5","f-sm f-md-md")},h.a.createElement(oa,{className:"mr1",size:"sm",asset:t,format:!1}),h.a.createElement(qe,{dataTest:"item-title",item:t,readOnly:!0})),h.a.createElement("div",{"data-test":"mew-item-subtitle",className:"flex items-center content-center"},h.a.createElement("span",{className:"f-sm lh-title"},Object(Ue.j)("versionDescriptor.itemTypeLabel")+" "+t.version),!a&&h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("mediaEditor.topBar.overwriteWarning"),tooltipPosition:"bottom"},h.a.createElement(ee.a,{size:"xs",className:"mh1 flex-shrink-0",path:x.error,color:"primary"}))))),h.a.createElement(TT,null,h.a.createElement("div",{className:"flex flex-nowrap items-center"},h.a.createElement(MT,{size:"md",type:Je.a.MENU,icon:"fileDownload",onClick:g,tooltipText:Object(Ue.j)("assetDrilldown.templates.download"),dataTest:"media-editor-topbar-download"}),h.a.createElement(Xe.a,{size:"md",breakpoint:"md",icon:"check",onClick:v,dataTest:"media-editor-topbar-save",disabled:d},Object(Ue.j)("assetDrilldown.mediaEditor.save"))))):null},NT=function(e,t){return{item:Object(_t.selectItem)(e,ge.m,t.id),isCustomerBackupEnabled:Object(uT.selectCustomerBackupEnabled)(e)}},xT={downloadItem:j.downloadItem,updateItem:j.updateItem,toggleMediaEditorWidget:Nn.toggleMediaEditorWidget,showModal:wa.showModal},AT=Object(g.connect)(NT,xT)(CT),DT=Object(le.b)(AT),LT="cloudinary.com"!==window.location.hostname&&!Object({NODE_ENV:"production",INTERCOM_APP_ID:"avmr5b6h",DEV_WITH_STAGING_BACKEND:!1,AUTOMATION:!1,TRANSLATIONS:["src/components/AssetPermissionIcon/AssetPermission.translations.js","src/components/DateRangePicker/DateRangePicker.translations.js","src/components/FilterableDataTable/FilterableDataTable.translations.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.translations.js","src/core/Components/Item/Container/PreviewPane/ContainerPreviewPane.translations.js","src/core/Components/Item/Folder/Modal/MoveModal/FolderMoveModal.translations.js","src/core/Components/Item/Folder/Modal/RenameModal/FolderRenameModal.translations.js","src/core/Components/Item/Item/Modal/CreateItemModal/CreateItemModal.translations.js","src/core/Components/Item/Item/Modal/MoveModal/MoveModal.translations.js","src/core/Components/Item/Item/Modal/RenameModal/RenameModal.translations.js","src/core/Components/Item/MetadataField/PreviewPane/MetadataFieldPreviewPane.translations.js","src/core/Components/Modal/FormModal/FormModal.translations.js","src/core/Components/PreviewPane/CollectionDescription/CollectionDescription.translations.js","src/core/Components/PreviewPane/CollectionDescription/EditDescriptionModal/EditDescriptionModal.translations.js","src/core/Components/PreviewPane/PortalInfo/PortalInfo.translations.js","src/modules/Core/ButtonWithModal/ButtonWithModal.translations.js","src/modules/Core/CmsUsageStats/CmsUsageStats.translations.js","src/modules/Core/CopyText/CopyText.translations.js","src/modules/Core/CopyUrl/CopyUrl.translations.js","src/modules/Core/EmptyPage/EmptyPage.translations.js","src/modules/Core/layouts/MainLayout/MainLayout.translations.js","src/modules/Core/LogInExpiration/LogInExpirationDialog.translations.js","src/modules/Core/ModalDialog/ConfirmDialog/ConfirmDialog.translations.js","src/modules/Core/ModalDialog/ModalDialog.translations.js","src/modules/Core/ToastManager/ToastManager.translations.js","src/modules/Core/Video/Video.translations.js","src/modules/MainBar/HelpBlock/HelpBlock.translations.js","src/modules/MainBar/MainBar.translations.js","src/modules/MainBar/ProductUpdatesBlock/ProductUpdatesBlock.translations.js","src/modules/MainBar/SettingsBlock/SettingsBlock.translations.js","src/modules/MainBar/UserBlock/UserBlock.translations.js","src/modules/MediaLibrary/AddAssetsToCollection/AddAssetsToCollection.translations.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.translations.js","src/modules/MediaLibrary/AdvancedSearch/ImageTab/ImageTabPromotion.translations.js","src/modules/MediaLibrary/AdvancedSearch/SearchBox/SearchBox.translations.js","src/modules/MediaLibrary/AdvancedSearch/SearchByMetadata/SearchByMetadata.translations.js","src/modules/MediaLibrary/AssetActivity/AssetActivity.translations.js","src/modules/MediaLibrary/AssetCard/AssetCard.translations.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.translations.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/SummaryTab/SummaryTab.translations.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownTopBar/AssetDrilldownTopBar.translations.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentsPane.translations.js","src/modules/MediaLibrary/AssetDrilldown/MediaEditor/MediaEditor.translations.js","src/modules/MediaLibrary/AssetDrilldown/MediaEditor/MediaEditorWidget.translations.js","src/modules/MediaLibrary/AssetExif/AssetExif.translations.js","src/modules/MediaLibrary/AssetMetadata/AssetMetadata.translations.js","src/modules/MediaLibrary/AssetProperties/AssetProperties.translations.js","src/modules/MediaLibrary/AssetsKindDropdown/AssetsKindDropdown.translations.js","src/modules/MediaLibrary/ContainerCard/ContainerCard.translations.js","src/modules/MediaLibrary/Context/Context.translations.js","src/modules/MediaLibrary/DeleteContainerModal/DeleteContainerModal.translations.js","src/modules/MediaLibrary/Folders/Folders.translations.js","src/modules/MediaLibrary/Grids/CollectionsGrid/CollectionsGrid.translations.js","src/modules/MediaLibrary/Grids/Grid.translations.js","src/modules/MediaLibrary/Grids/GridViewToolbar/Breadcrumbs/Breadcrumbs.translations.js","src/modules/MediaLibrary/Grids/GridViewToolbar/GridViewToolbar.translations.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NavigationMenu/NavigationMenu.translations.js","src/modules/MediaLibrary/ItemOperations/ItemOperationsMenu.translations.js","src/modules/MediaLibrary/ItemTitle/ItemTitle.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/AuditReport/AuditReportDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/CustomAction/CustomActionDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Customer/CustomerDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Portal/PortalConfigDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Portal/PortalDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Preference/PreferenceDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/PublicLink/PublicLinkDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Transformation/TransformationDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/UserGroup/UserGroupDescriptor.translations.js","src/modules/MediaLibrary/ItemTypesDescriptors/Version/VersionDescriptor.translations.js","src/modules/MediaLibrary/MediaLibrary.translations.js","src/modules/MediaLibrary/Modals/Modals.translations.js","src/modules/MediaLibrary/ModifyItemNameDialog/UpdateItemNameDialog.translations.js","src/modules/MediaLibrary/MoveAsset/MoveAsset.translations.js","src/modules/MediaLibrary/PanelHeader/PanelHeader.translations.js","src/modules/MediaLibrary/RemoveAssetsFromCollection/RemoveAssetsFromCollectionModal.translations.js","src/modules/MediaLibrary/Selection/BulkOperations/OperationPopover/BulkUpdateMetadataModal/BulkUpdateMetadataModal.translations.js","src/modules/MediaLibrary/Selection/Selection.translations.js","src/modules/MediaLibrary/ShareModal/ShareBlock/ShareBlock.translations.js","src/modules/MediaLibrary/ShareModal/SharePublicLinkConfig/SharePublicLinkConfig.translations.js","src/modules/MediaLibrary/TagsDrop/TagsDrop.translations.js","src/modules/MediaLibrary/Upload/Upload.translations.js","src/modules/MediaLibrary/Upload/UploadButton/UploadButton.translations.js","src/modules/MediaLibrary/Upload/UploadReview/UploadReview.translations.js","src/modules/MediaLibrary/Upload/UploadWidget.translations.js","src/modules/MediaLibrary/Views/AuditReportsView/AuditReportsView.translations.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.translations.js","src/modules/MediaLibrary/Views/CustomActionsManageView/components/Form/CustomActionsForm.translations.js","src/modules/MediaLibrary/Views/CustomActionsManageView/CustomActionsManageView.translations.js","src/modules/MediaLibrary/Views/MetadataFieldsView/MetadataFieldsView.translations.js","src/modules/MediaLibrary/Views/ModerationView/EmptyModeration/EmptyModeration.translations.js","src/modules/MediaLibrary/Views/ModerationView/ModerationView.translations.js","src/modules/MediaLibrary/Views/NavigationView/EmptyFolder/EmptyFolder.translations.js","src/modules/MediaLibrary/Views/NavigationView/NavigationView.translations.js","src/modules/MediaLibrary/Views/PortalsView/PortalsView.translations.js","src/modules/MediaLibrary/Views/PreferencesView/PreferencesView.translations.js","src/modules/MediaLibrary/Views/RecentUploadView/RecentUploadView.translations.js","src/modules/MediaLibrary/Views/SearchView/EmptySearch/EmptySearch.translations.js","src/modules/OnBoarding/OnBoarding.translations.js"],REDUCERS:["src/modules/Core/Core.reducers.js","src/modules/Core/DropdownManager/DropdownManager.reducers.js","src/modules/Core/Intercom/Intercom.reducers.js","src/modules/Core/layouts/MainLayout/Notifications/Notifications.reducers.js","src/modules/Core/ModalDialog/ModalDialog.reducers.js","src/modules/Core/OperationsInProgress/OperationsInProgress.reducers.js","src/modules/Core/PopoverManager/PopoverManager.reducers.js","src/modules/Core/UserPreferences/UserPreferences.reducers.js","src/modules/Dashboard/Dashboard.reducers.js","src/modules/Identity/Identity.reducers.js","src/modules/MainBar/MainBar.reducers.js","src/modules/MainIFrame/MainIFrame.reducers.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.reducers.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.reducers.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/AnalysisTab.reducers.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/TagsPanel/TagsPanel.reducers.js","src/modules/MediaLibrary/CmsConfig/CmsConfig.reducers.js","src/modules/MediaLibrary/Context/Context.reducers.js","src/modules/MediaLibrary/FoldersPane/FoldersPane.reducers.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.reducers.js","src/modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.reducers.js","src/modules/MediaLibrary/Grids/GridView.reducers.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NavigationMenu/NavigationMenu.reducers.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NewSearch/NewSearch.reducers.js","src/modules/MediaLibrary/ItemTitle/ItemTitle.reducers.js","src/modules/MediaLibrary/MediaLibrary.reducers.js","src/modules/MediaLibrary/RecentItems/RecentItems.reducers.js","src/modules/MediaLibrary/Selection/BulkOperations/DownloadSelection/DownloadSelection.reducers.js","src/modules/MediaLibrary/Selection/Selection.reducers.js","src/modules/MediaLibrary/ShareModal/ShareInfos/ShareInfos.reducers.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.reducers.js","src/modules/OnBoarding/OnBoarding.reducers.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.reducers.js","src/core/Data/Items/Items.reducers.js","src/core/Data/Lists/Lists.reducers.js"],MIDDLEWARE:["src/modules/Core/Core.middleware.js","src/modules/Core/Fullstory/Fullstory.middleware.js","src/modules/Core/Intercom/Intercom.middleware.js","src/modules/Core/ToastManager/ToastManager.middleware.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.middleware.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.middleware.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.middleware.js","src/modules/MediaLibrary/FoldersTree/FoldersTree.middleware.js","src/modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.middleware.js","src/modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.middleware.js","src/modules/MediaLibrary/MediaLibrary.middleware.js","src/modules/MediaLibrary/RecentItems/RecentItems.middleware.js","src/modules/MediaLibrary/Selection/BulkOperations/OperationPopover/BulkUpdateMetadataModal/BulkUpdateMetadataModal.middleware.js","src/modules/MediaLibrary/Views/MetadataFieldsView/MetadataFieldsView.middleware.js","src/modules/MediaLibrary/Views/NavigationView/NavigationView.middleware.js","src/modules/MediaLibrary/Views/RecentUploadView/RecentUploadsView.middleware.js","src/core/Data/Lists/Lists.middleware.js"],SERIALIZERS:["src/modules/MediaLibrary/ItemTypesDescriptors/Portal/PortalDescriptor.serializers.js","src/modules/MediaLibrary/ItemTypesDescriptors/Transformation/TransformationDescriptor.serializers.js","src/modules/MediaLibrary/MediaLibrary.serializers.js"],ACTIONS:["src/modules/Core/Core.actions.js","src/modules/Core/DropdownManager/DropdownManager.actions.js","src/modules/Core/Intercom/Intercom.actions.js","src/modules/Core/layouts/MainLayout/Notifications/Notifications.actions.js","src/modules/Core/ModalDialog/ModalDialog.actions.js","src/modules/Core/OperationsInProgress/OperationsInProgress.actions.js","src/modules/Core/PopoverManager/PopoverManager.actions.js","src/modules/Core/UserPreferences/UserPreferences.actions.js","src/modules/Identity/Identity.actions.js","src/modules/MainBar/MainBar.actions.js","src/modules/MainBar/UserBlock/UserBlock.actions.js","src/modules/MainIFrame/MainIFrame.actions.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.actions.js","src/modules/MediaLibrary/AdvancedSearch/SearchByFolder/CloseableFolder.actions.js","src/modules/MediaLibrary/AssetContext/AssetContext.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/AnalysisTab.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/TagsPanel/TagsPanel.actions.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/SummaryTab/SummaryTab.actions.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentEditorWrapper/CommentEditor/CommentEditor.actions.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentsPane.actions.js","src/modules/MediaLibrary/AssetExif/AssetExif.actions.js","src/modules/MediaLibrary/AssetTags/AssetTags.actions.js","src/modules/MediaLibrary/CmsConfig/CmsConfig.actions.js","src/modules/MediaLibrary/Context/Context.actions.js","src/modules/MediaLibrary/CustomActions/Callbacks/CustomActionCallbacks.actions.js","src/modules/MediaLibrary/CustomActions/CustomAction.actions.js","src/modules/MediaLibrary/Data/Item.actions.js","src/modules/MediaLibrary/Folders/Folders.actions.js","src/modules/MediaLibrary/FoldersPane/FoldersPane.actions.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.actions.js","src/modules/MediaLibrary/FoldersTree/FoldersTree.actions.js","src/modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.actions.js","src/modules/MediaLibrary/Grids/GridView.actions.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NewSearch/NewSearch.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataField.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Portal/Portal.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Preference/Preference.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/PublicLink/PublicLink.data.actions.js","src/modules/MediaLibrary/ItemTypesDescriptors/Version/VersionDescriptor.actions.js","src/modules/MediaLibrary/MediaLibrary.actions.js","src/modules/MediaLibrary/MoveAsset/MoveAsset.actions.js","src/modules/MediaLibrary/RecentItems/RecentItems.actions.js","src/modules/MediaLibrary/Selection/BulkOperations/DownloadSelection/DownloadSelection.actions.js","src/modules/MediaLibrary/Selection/BulkOperations/MoveAssets/MoveAssetsPopover.actions.js","src/modules/MediaLibrary/Selection/Selection.actions.js","src/modules/MediaLibrary/ShareModal/ShareBlock/ShareBlock.actions.js","src/modules/MediaLibrary/ShareModal/ShareInfos/ShareInfos.actions.js","src/modules/MediaLibrary/ShareModal/SharePublicLinkConfig/GeneratePublicLinkSection.actions.js","src/modules/MediaLibrary/Upload/Upload.actions.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.actions.js","src/modules/MediaLibrary/Views/CustomActionsManageView/CustomActionsManage.actions.js","src/modules/MediaLibrary/Views/PreferencesView/PreferencesView.actions.js","src/modules/MediaLibrary/Views/SearchView/SearchView.actions.js","src/modules/OnBoarding/OnBoarding.actions.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.actions.js","src/core/Components/Item/Folder/Field/FolderIdSelector.actions.js","src/core/Data/Items/Items.actions.js","src/core/Data/Lists/Lists.actions.js","src/core/Data/ListsManager/ListsManager.actions.js"],SELECTORS:["src/modules/Core/Core.selectors.js","src/modules/Core/DropdownManager/DropdownManager.selectors.js","src/modules/Core/Intercom/Intercom.selectors.js","src/modules/Core/layouts/MainLayout/Notifications/Notifications.selectors.js","src/modules/Core/ModalDialog/ModalDialog.selectors.js","src/modules/Core/OperationsInProgress/OperationsInProgress.selectors.js","src/modules/Core/PopoverManager/PopoverManager.selectors.js","src/modules/Identity/Identity.selectors.js","src/modules/MainBar/MainBar.selectors.js","src/modules/MainBar/ModuleNavigation/ClassicTabs/ClassicTabs.selectors.js","src/modules/MainIFrame/MainIFrame.selectors.js","src/modules/MediaLibrary/AdvancedSearch/AdvancedSearch.selectors.js","src/modules/MediaLibrary/AdvancedSearch/SearchByFolder/ClodeableFolder.selectors.js","src/modules/MediaLibrary/AdvancedSearch/SearchByMetadata/SearchByMetadata.selectors.js","src/modules/MediaLibrary/AssetAccess/AssetAccess.selectors.js","src/modules/MediaLibrary/AssetDisplay/AssetDisplay.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldown.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/AnalysisTab.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/FacesPanels/FacesPanels.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/OCRPanel/OCRPanel.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownInfo/AnalysisTab/TagsPanel/TagsPanel.selectors.js","src/modules/MediaLibrary/AssetDrilldown/AssetDrilldownTemplates/AssetDrilldownTemplates.selectors.js","src/modules/MediaLibrary/AssetDrilldown/CommentsPane/CommentsPane.selectors.js","src/modules/MediaLibrary/AssetDrilldown/MediaEditor/MediaEditor.selectors.js","src/modules/MediaLibrary/CmsConfig/CmsConfig.selectors.js","src/modules/MediaLibrary/CustomActions/CustomAction.selectors.js","src/modules/MediaLibrary/Data/Collection/Collection.selectors.js","src/modules/MediaLibrary/Data/Item.selectors.js","src/modules/MediaLibrary/Data/Portal/Portal.selectors.js","src/modules/MediaLibrary/Folders/Folders.selectors.js","src/modules/MediaLibrary/FoldersPane/FoldersPaneWithTree.selectors.js","src/modules/MediaLibrary/FoldersTree/FoldersTree.selectors.js","src/modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.selectors.js","src/modules/MediaLibrary/Grids/GridView.selectors.js","src/modules/MediaLibrary/Grids/GridViewToolbar/NewSearch/NewSearch.selectors.js","src/modules/MediaLibrary/Grids/TopBar/TopBar.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/CustomAction/CustomActionDescriptor.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/Customer/Customer.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataField.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/PublicLink/PublicLink.data.selectors.js","src/modules/MediaLibrary/ItemTypesDescriptors/Version/VersionDescriptor.data.selectors.js","src/modules/MediaLibrary/MediaLibrary.selectors.js","src/modules/MediaLibrary/RecentItems/RecentItems.selectors.js","src/modules/MediaLibrary/Selection/Selection.selectors.js","src/modules/MediaLibrary/ShareModal/ShareBlock/ShareBlock.selectors.js","src/modules/MediaLibrary/ShareModal/ShareInfos/ShareInfos.selectors.js","src/modules/MediaLibrary/ShareModal/ShareModal.selectors.js","src/modules/MediaLibrary/Upload/Upload.selectors.js","src/modules/MediaLibrary/Upload/UploadReview/UploadReview.selectors.js","src/modules/MediaLibrary/Views/AuditReportsView/AuditReportsView.selectors.js","src/modules/MediaLibrary/Views/CollectionsView/CollectionsView.selectors.js","src/modules/MediaLibrary/Views/CollectionView/CollectionView.selectors.js","src/modules/MediaLibrary/Views/ModerationView/ModerationView.selectors.js","src/modules/MediaLibrary/Views/NavigationView/NavigationView.selectors.js","src/modules/MediaLibrary/Views/PreferencesView/PreferencesView.selectors.js","src/modules/MediaLibrary/Views/SearchView/SearchView.selectors.js","src/modules/OnBoarding/OnBoarding.selectors.js","src/core/Components/Item/Asset/PreviewPane/AssetPreviewPane.selectors.js","src/core/Data/Items/Items.selectors.js","src/core/Data/Lists/Lists.selectors.js","src/core/Data/ListsManager/ListsManager.selectors.js"],VERSION:"1142"}).MEW_DEV;LT?!yt.a.getItem("env")&&yt.a.setItem("env","staging"):yt.a.removeItem("env");var ST=Ue.f.scriptLoader(Ue.b.url.mediaEditorWidget,"cld-mew-all").catch((function(e){Ue.e.error("[mediaEditorWidgetService]: Failed to initialize media editor widget",e)})),kT="media_editor_widget",PT=k.default.div.withConfig({displayName:"MediaEditorWidget__Wrapper",componentId:"nsgzc0-0"})(["position:absolute;top:0;bottom:0;left:0;right:0;display:",";flex-direction:column;"],(function(e){return e.isVisible?"flex":"none"})),_T=k.default.div.withConfig({displayName:"MediaEditorWidget__WidgetContainer",componentId:"nsgzc0-1"})(["flex-grow:1;display:flex;flex-direction:column;iframe{flex-grow:1;}z-index:2;"]),RT=k.default.div.withConfig({displayName:"MediaEditorWidget__LoadingOverlay",componentId:"nsgzc0-2"})(["position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;> div{width:50px;height:50px;}"]),FT=function(e){var t=e.isVisible,a=e.cloudName,n=e.publicId,r=e.thumbnailUrl,o=e.itemId,l=e.trackEvent,c=e.item,d=Object(Ms.f)().replace("-","_"),u=Object(Ms.e)(),m=Object(b.useRef)(null),p=u!==Ms.a.split("-")[0],f=p&&nT.a.getResourceBundle(u,"mediaEditorWidget"),g=Object(b.useState)(!1),v=g[0],E=g[1],y=Object(b.useState)(!1),j=y[0],O=y[1],w=Object(b.useRef)(null),I="h_"+c.height+",w_"+c.width;Object(b.useEffect)((function(){return i()(s.a.mark((function e(){var t,o,i,d,u,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ST;case 2:null!==(t=window.cloudinary)&&void 0!==t&&t.mediaEditor&&(window.cloudinary.mediaEditor.isConsole=!0,document.getElementById("mediaEditorWidgetContainer")&&(m.current=window.cloudinary.mediaEditor({appendTo:"#mediaEditorWidgetContainer"}),null===(o=m.current)||void 0===o||o.on("analytics",(function(e){var t,a=e.action,n=e.label;null===(t=m.current)||void 0===t||t.triggerExport(),l(a,n)})),null===(i=m.current)||void 0===i||i.onSign((function(e){var t=e.transformation;return{url:r+"/"+kT+"/"+(t?Object(rT.a)(t):"")}})),null===(d=m.current)||void 0===d||d.on("export",(function(e){Nu()(w.current)?w.current=e.transformation+("image"===c.resourceType?","+I:""):O(w.current!==e.transformation)})),f=Object.assign({},zT,{publicIds:[{publicId:n,resourceType:c.resourceType,type:c.type}],cloudName:a}),null===(u=m.current)||void 0===u||u.update(f),w.current=null,O(!1),null===(p=m.current)||void 0===p||p.triggerExport()));case 3:case"end":return e.stop()}}),e)})))(),function(){var e;null===(e=m.current)||void 0===e||e.destroy(),m.current=null}}),[m,c.bytes,c.type,c.resourceType,l,r,n,a,I]),Object(b.useEffect)((function(){var e,t;null===(e=m.current)||void 0===e||e.update.apply(e,p?{language:{locale:d,messages:(t={},t[d]=f,t)}}:{})}),[d,f,p]),Object(b.useEffect)((function(){i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ST;case 2:(null==m?void 0:m.current)&&(null==m||m.current[t?"show":"hide"]());case 3:case"end":return e.stop()}}),e)})))(),t||O(!1)}),[t,m]);var T=Object(b.useCallback)((function(){return new Promise((function(e){var t,a,n=null==m||null===(t=m.current)||void 0===t?void 0:t.on("export",(function(t){e(t),n()}));null===(a=m.current)||void 0===a||a.triggerExport()}))}),[m]);return h.a.createElement(h.a.Fragment,null,h.a.createElement(PT,{isVisible:t},h.a.createElement(DT,{id:o,isVisible:t,getExportDetails:T,setIsLoading:E,isDirty:v||!j}),h.a.createElement(_T,{id:"mediaEditorWidgetContainer"},v&&h.a.createElement(RT,null,h.a.createElement(ji.a,null)))))},zT={mode:"inline",source:"CLD_DAM",image:{steps:["resizeAndCrop"],resizeAndCrop:{interactiveCrop:!0,toggleAspectRatio:!0,aspectRatioLock:!0}},video:{steps:["trim"]}},BT=function(e,t){return{item:Object(_t.selectItem)(e,ge.m,t.itemId)}},UT=Object(g.connect)(BT)(Object(le.b)(FT)),VT=a(76),GT=a(89),WT=a.n(GT),HT=a(121),YT=a(744),QT=a(246),KT="",ZT=function(e){var t=Object(xI.e)(),a=WT.a.stringify(wd()(t,["panel","transformation"]),{addQueryPrefix:!0}),n=a?"/"+a:"";return Ue.b.path.modules.rails.mediaLibrary+"/asset"+n+"/#/dialog/"+qT(e)},qT=function(e){var t=0;return encodeURIComponent(e).replace(/%2F/g,(function(e){return t++<2?"/":e}))},XT=function(e){var t=ZT(e.resourceId);return h.a.createElement(vT,{mlHeaderHeight:e.mlHeaderHeight},h.a.createElement("iframe",{className:"fs-exclude",title:"Asset Drilldown",id:ft.c,src:t}))},JT=function(){var e=Object(QT.e)();e&&e.contentDocument.location.reload()},$T={componentDidMount:function(){var e=this;if(this.ifrLoaded=function(){if(e.props.isCmsMode&&e.props.cmsPreferences.transformation){var t=Object(Te.y)(e.props.cmsPreferences.transformation.url,e.props.origins);t&&t.includes(e.props.resourceId)&&Object(QT.b)(e.props.cmsPreferences.transformation.url)}},this.props.resourceId){var t=document.getElementById(this.props.wrapperElementID);t&&t.classList.remove("hidden");var a=document.getElementById(this.props.spinnerElementID);a&&a.classList.add("dn")}this.iframeMessageHandler=function(t){e.props.mainIframeHandler(t),e.props.drilldownIframeHandler(t)},window.addEventListener("message",this.iframeMessageHandler,!1),Object(QT.e)().addEventListener("load",this.ifrLoaded),KT=this.props.resourceId},componentDidUpdate:function(e){var t=document.getElementById(this.props.wrapperElementID),a=document.getElementById(this.props.spinnerElementID);if(this.props.isAssetDrilldown){if(this.props.isCmsMode&&Object(Nn.declareCmsMode)({insertCaption:this.props.cmsPreferences.insertCaption}),this.props.resourceId!==e.resourceId)if(window.addEventListener("message",(function e(n){t&&n.data&&n.data.drillDownLoaded&&(t.classList.remove("hidden"),a&&a.classList.add("dn"),window.removeEventListener("message",e,!1))}),!1),KT===this.props.resourceId)JT();else{var n=Object(QT.e)(),r=ZT(this.props.resourceId);n&&n.contentDocument.location.replace(r),KT=this.props.resourceId}}else t&&t.classList.add("hidden"),a&&a.classList.remove("dn"),JT()},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){KT="",window.removeEventListener("message",this.iframeMessageHandler,!1),Object(QT.e)().removeEventListener("load",this.ifrLoaded)}},eM=function(e){return{isCmsMode:Object(zt.selectCmsMode)(e),cmsPreferences:Object(HT.selectCmsPreferences)(e),origins:Object(zt.selectAvailableUrlOrigins)(e),isAssetDrilldown:Object(jt.selectIsAssetDrilldownOn)(e),mlHeaderHeight:Object(En.selectMLHeaderHeight)(e)}},tM={mainIframeHandler:YT.handleMessagesFromIFrame,drilldownIframeHandler:Nn.handleMessagesFromIFrame},aM=Object(jb.b)($T)(XT),nM=Object(g.connect)(eM,tM)(aM),rM=nM,sM=(a(3933),"asset-drill-down"),oM="asset-drill-down-spinner",iM=function(e){return h.a.createElement(le.a.Provider,{value:fe.g.TRANSFORM_PAGE},h.a.createElement(b.Fragment,null,h.a.createElement("div",{id:oM},h.a.createElement(vn.a,null)),h.a.createElement("div",{"data-test":"asset-drill-down-toolbar",id:sM,className:_()(nn.a.toolbar,nn.a.toolbarTop,"bg-white","flex flex-nowrap items-center justify-between","w-100","hidden")},h.a.createElement(IT,null,h.a.createElement(fh,{onClick:function(){Object(cm.b)(fe.g.TRANSFORM_PAGE,fe.f.NAVIGATE,"back to grid"),Object(be.j)()},icon:"cross",tooltipText:Object(Ue.j)("assetDrilldown.close")}),h.a.createElement("span",{className:"asset-drill-down-separator"}),h.a.createElement("div",{className:"w1 bg-gray-50 flex-none self-stretch mr3"}),h.a.createElement(K.a,{tooltipText:Object(Te.n)(e.item.resourceId).public_id,lines:1,render:function(t){return h.a.createElement("span",{className:_()(nn.a.assetTitle,"b","fs-exclude")},t(Object(Te.n)(e.item.resourceId).public_id))}})),h.a.createElement(TT,null,h.a.createElement(Xe.a,{dataTest:"manage-button",size:"md",breakpoint:"md",icon:"build",onClick:function(){Object(cm.b)(fe.g.TRANSFORM_PAGE,fe.f.CLICK,"manage asset page"),Object(be.k)(e.item)}},Object(Ue.j)("assetDrilldown.manage")))),h.a.createElement(rM,{resourceId:e.item.resourceId,wrapperElementID:sM,spinnerElementID:oM})))},lM=iM,cM=a(3865),dM=a.n(cM),uM=function(e){var t=e.asset,a=e.trackEvent;return t?h.a.createElement("div",{"data-test":"summary-tab"},h.a.createElement(ja,{asset:t}),h.a.createElement(ta,{asset:t,trackEvent:a}),h.a.createElement(fn,{asset:t,showDisclaimer:!0}),"video"===t.resourceType?h.a.createElement("div",{className:"ma3"},h.a.createElement("div",{className:"br2 bg-gray-40 pa4 flex flex-column items-center justify-center"},h.a.createElement("img",{style:{maxWidth:"70%"},srcSet:Ue.b.url.prodRes+"/image/upload/dpr_1.0,q_auto,f_auto/console/vid-promo,\n                        "+Ue.b.url.prodRes+"/image/upload/dpr_2.0,q_auto,f_auto/console/vid-promo",alt:"",src:Ue.b.url.prodRes+"/image/upload/dpr_2.0,q_auto,f_auto/console/vid-promo"}),h.a.createElement("div",{className:"mt3 mb3 f-md b tc gray-90"},Object(Ue.j)("summaryTab.videoPromoText")),h.a.createElement(Xe.a,{icon:x.openInNew,dataTest:"video-promo",size:"md",skin:"action",onClick:function(){a(fe.f.NAVIGATE,"video demo page"),window.open("https://demo.cloudinary.com/video/","_blank")}},Object(Ue.j)("summaryTab.viewDemo")))):null):null},mM={showModal:wa.showModal},pM=function(e,t){return{asset:Object(_t.selectItem)(e,ge.m,t.id),accessControlEnabled:Object(rn.selectAccessControlEnabled)(e),isItemOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},fM=Object(g.connect)(pM,mM)(uM),bM=Object(le.b)(fM),hM=function(e,t){var a=Object(_t.selectItem)(e,ge.m,t);return a&&a[ge.s.EMBEDDED_META_DATA]},gM=a(310),vM=a.n(gM),EM=a(3934),yM=a.n(EM),jM=a(3935),OM=a(3936),wM=a.n(OM),IM={fontWeight:"500",backgroundColor:"#FFF28E"},TM=function(e){var t=e.entries,a=e.filter,n=void 0===a?"":a,r=e.containerClassName,s=void 0===r?"":r,o=[].concat(n.replace(/\s+/g," ").split(" ")),i=jr()(n)?t:vM()(t,(function(e,t){return Object(jM.findAll)({searchWords:[n],textToHighlight:t+" "+e,autoEscape:!0}).some((function(e){return e.highlight}))}));if(jr()(i))return h.a.createElement("div",{className:wM.a["no-results"]},Object(Ue.j)("filterableDataTable.noResults"));var l=Object.keys(i).map((function(e){return{id:e,label:h.a.createElement(yM.a,{searchWords:o,textToHighlight:e,autoEscape:!0,highlightStyle:IM}),value:h.a.createElement(yM.a,{searchWords:o,textToHighlight:t[e],autoEscape:!0,highlightStyle:IM})}}));return h.a.createElement(Dr,{rows:l,containerClassName:_()(s,wM.a["filterable-data-table"])})},MM=TM,CM=Object(k.default)(et.a).withConfig({displayName:"SearchField__StyledIcon",componentId:"sc-1ywq181-0"})(["",""],(function(e){return!e.disabled&&Object(k.css)(["cursor:pointer;"])})),NM=function(e){var t=e.dataTest,a=e.filter,n=e.setFilter,r=e.placeholder,s=Object(b.useRef)(null),o=hs()((function(e){n(e)}),300);return Object(b.useEffect)((function(){return function(){o.cancel()}}),[]),h.a.createElement(zg.TextField,{onChange:function(e){o(e)},inputProps:{className:"fs-exclude"},inputRef:s,placeholder:r,rootProps:{"data-test":t},trailingDecoration:h.a.createElement(CM,{name:a.length?"cross":"search",size:"sm",variant:"contrastLow",onClick:a.length?function(){n(""),s.current&&(s.current.value="")}:null,disabled:!a.length,"data-test":"search"+(a.length?"-clear":"")+"-button"})})},xM=NM,AM={height:"100px"},DM=function(){return h.a.createElement("div",{className:"flex justify-center items-center",style:AM},h.a.createElement(vn.a,{dataTest:"folder-tree-loader-spinner",variant:"secondary",width:"50%"}))},LM=DM,SM=k.default.div.withConfig({displayName:"AssetExif__SearchFieldContainer",componentId:"sc-1ensy7c-0"})(["margin-bottom:",";"],At.a.spacing.md),kM=function(e){var t=e.metadata,a=e.trackEvent,n=Object(b.useState)(""),r=n[0],s=n[1];return t?h.a.createElement(h.a.Fragment,null,h.a.createElement(SM,null,h.a.createElement(xM,{dataTest:"asset-exif-search-field",filter:r,setFilter:function(e){s(e),a(fe.f.EXIF_FILTER,e)},placeholder:Object(Ue.j)("exif.placeholder")})),h.a.createElement(MM,{entries:t.imageMetadata,filter:r})):h.a.createElement(LM,null)},PM=function(e,t){return{metadata:hM(e,t.id)}},_M=Object(g.connect)(PM)(kM),RM=Object(le.b)(_M),FM=function(e){var t=Ro(pe.B.ASSET_DRILLDOWN_METADATA_ACTIVE_SECTION),a=t[0],n=t[1],r=e.asset,s=e.trackEvent,o=e.showTagsInAnalysis,i=e.id,l=e.contextMetadataEnabled,c=e.metadataFields;return h.a.createElement(h.a.Fragment,null,h.a.createElement(ws,W()({isExpanded:a===pe.v.TAGS,setExpanded:function(e){return n(pe.v.TAGS,e)},dataTest:"tags-section",caption:Object(Ms.d)("previewPane.asset.tags"),key:"tags-"+r.id},Object(rT.f)(r)?{actions:h.a.createElement(Xe.a,{icon:"lightning",dataTest:"auto-tags-button",size:"sm",type:"link",iconRight:!0,onClick:function(e){e.stopPropagation(),s(fe.f.NAVIGATE,"auto-tagging"),o(r)}},Object(Ms.d)("summaryTab.autoTags"))}:{}),h.a.createElement(_o,{asset:r,showAutoTagsButton:!0})),null!=c&&c.length?h.a.createElement(ws,{isExpanded:a===pe.v.METADATA,setExpanded:function(e){return n(pe.v.METADATA,e)},dataTest:"structured-metadata-section",caption:Object(Ms.d)("assetMetadata.caption"),key:"metadata-"+r.id},h.a.createElement(fs,{id:i})):null,l&&h.a.createElement(ws,{isExpanded:a===pe.v.CONTEXT,setExpanded:function(e){return n(pe.v.CONTEXT,e)},dataTest:"contextual-metadata-section",caption:Object(Ms.d)("context.sectionCaption"),key:"contextual-"+r.id},h.a.createElement(mo,{id:i})),"image"===r.resourceType&&h.a.createElement(ws,{isExpanded:a===pe.v.EXIF,setExpanded:function(e){return n(pe.v.EXIF,e)},dataTest:"asset-exif-section",caption:Object(Ms.d)("exif.caption"),key:"exif-"+r.id},h.a.createElement(RM,{id:i})))},zM=function(e,t){return{contextMetadataEnabled:Object(zt.selectIsContextualMetadataEnabled)(e),asset:Object(_t.selectItem)(e,ge.m,t.id),metadataFields:Object(Ft.selectListItems)(e,pe.l)}},BM={showTagsInAnalysis:Ao.showTagsInAnalysis},UM=Object(g.connect)(zM,BM)(FM),VM=Object(le.b)(UM),GM=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"previewOriginal",(function(e){var a=t.props,n=a.asset.secure_url,r=a.previewPreset,s=a.trackEvent;e.preventDefault(),s(fe.f.CLICK,"select the original"),r({name:"Original",derivedUrl:n,transformation:null,presetIndex:0})})),t}return u()(t,e),t.prototype.render=function(){return h.a.createElement("div",{className:"h-100 ph5 pv3 flex flex-column justify-center items-center","data-test":"image-analysis-disabled"},h.a.createElement(ee.a,{size:"xl4",color:"gray-60",path:x.imageAnalysis}),h.a.createElement("p",{className:"f-sm fw5 mv3 gray-80"},Object(Ms.d)("assetDrilldown.drilldownInfo.tabs.analysis.disabled.title")),h.a.createElement("p",null,Object(Ms.d)("assetDrilldown.drilldownInfo.tabs.analysis.disabled.beforeLinkText"),h.a.createElement("a",{onClick:this.previewOriginal},Object(Ms.d)("assetDrilldown.drilldownInfo.tabs.analysis.disabled.selectOriginalLink")),Object(Ms.d)("assetDrilldown.drilldownInfo.tabs.analysis.disabled.afterLinkText")))},t}(h.a.Component),WM=function(e){return{asset:Object(jt.selectDrilldownAsset)(e)}},HM={previewPreset:Nn.previewPreset},YM=Object(g.connect)(WM,HM)(Object(le.b)(GM)),QM=a(49),KM=a(3937),ZM=a.n(KM),qM=function(e){var t=_()(ZM.a.collapsible,e.expanded?ZM.a.expanded:ZM.a.collapsed);return h.a.createElement("div",{className:t,"data-test":e.expanded?"collapsible-panel-expended":"collapsible-panel-collapsed"},e.children.find((function(e){return e.type.displayName===XM.displayName})),e.expanded&&e.children.find((function(e){return e.type.displayName===JM.displayName})))},XM=function(e){var t=e.isAlwaysOpen,a=e.onToggle,n=e.className,r=e.name,s=e.children;return h.a.createElement("div",{className:_()("flex items-center pv2",n),onClick:function(e){return!t&&a(r,e)}},!t&&h.a.createElement("span",{className:ZM.a.arrow}),h.a.createElement("div",{className:"flex justify-between items-center w-100 pl1"},s))};XM.displayName="PanelHeader";var JM=function(e){var t=e.children,a=e.className,n=void 0===a?"ph3 pv2":a;return h.a.createElement("div",{className:n},t)};JM.displayName="PanelBody";var $M=a(274),eC=a(376),tC=Object(k.default)(Lt.a).withConfig({displayName:"AnalysisTabPanel__PreviewLabel",componentId:"g6usgt-0"})(["margin-right:",";cursor:pointer;"],At.a.spacing.xxs),aC=function(e){var t=e.name,a=e.title,n=e.isMarked,r=e.isExpanded,s=e.color,o=e.toggleRegionTypeMarkedState,i=e.setMarkedRegion,l=e.togglePanelExpandedState,c=e.toggleMobileAnalysisPreview,d=e.children,u=e.trackEvent,m=(""+(fe.a[a]||a)).toLowerCase(),p=Object($d.d)(),f=function(e){var r=n?"hide":"show";u(fe.f.SHOW_HIDE,r+" "+m+" on preview"),e.preventDefault(),p?(c(),i(t,a)):o(t)};return h.a.createElement(h.a.Fragment,null,h.a.createElement(qM,{expanded:r||p},h.a.createElement(XM,{className:(p?"":"pointer")+" bt b--gray-60 bg-gray-40 ph3",name:t,onToggle:function(e,t){t.defaultPrevented||(u(fe.f.SHOW_HIDE,(r?"collapse":"expand")+" tab "+m),l(e))},isAlwaysOpen:p},a,s&&h.a.createElement("div",{className:"flex items-center"},p?h.a.createElement(tC,{size:"xs",as:"span",type:"url",onClick:f},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.preview")):h.a.createElement("span",{className:"w4 h4 mb0 mr2 ba br-100 b--gray-60 bg-"+s}),Object(Z.b)((function(){return h.a.createElement("span",{className:"pointer",onClick:f,style:{display:"flex"}},h.a.createElement(et.a,{name:n||p?"eyeOn":"eyeOff",size:"sm",variant:n||p?"primary":"contrastLow"}))}))({tooltipText:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis."+(n?"hide":"show")+"RegionsOnPreview"),tooltipDisabled:p}))),h.a.createElement(JM,null,d)))},nC=function(e,t){return{isMarked:Object($M.selectRegionTypeMarkedState)(e,t.name),isExpanded:Object($M.selectPanelExpandedState)(e,t.name)}},rC={toggleRegionTypeMarkedState:eC.toggleRegionTypeMarkedState,togglePanelExpandedState:eC.togglePanelExpandedState,setMarkedRegion:eC.setMarkedRegion,toggleMobileAnalysisPreview:Nn.toggleMobileAnalysisPreview},sC=Object(g.connect)(nC,rC)(aC),oC=Object(le.b)(sC),iC=a(1550),lC=a(3857),cC=a.n(lC),dC=function(e){return b.createElement(Mr.a,{roleName:e.item&&e.item.role},e.children)},uC=vp(dC),mC=a(876),pC=function(e){return h.a.createElement(Lh.a,{isOpen:e.popoverOpen,toggle:function(t){e.togglePopover(mC.c.ANALYSIS_TAGGING,t)}},h.a.createElement(Sh.a,{size:"sm",skin:"menu",icon:x.moreVert,tooltipText:Object(Ue.j)("folders.popover.tooltip")}),h.a.createElement(cE,null,h.a.createElement(nE,{icon:ve.TAG_SIGN,onClick:function(){e.trackEvent(fe.f.NAVIGATE,"manage tags in summary tab"),e.togglePopover(mC.c.ANALYSIS_TAGGING,!1),Object(be.k)(e.item,ft.g)}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel.menu.manageTags")),h.a.createElement(uC,null,(function(t){return t.editAssetsTags&&h.a.createElement(nE,{icon:ve.ADD_MULTIPLE_TAGS,onClick:function(){e.trackEvent(fe.f.TAG,"all tags above confidence added"),e.togglePopover(mC.c.ANALYSIS_TAGGING,!1),e.addTagsByFeaturesToAsset(e.item,QM.c)}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel.menu.addAllTags",{confidence:e.confidenceFilter}))}))))},fC=function(e){return{popoverOpen:Object(kh.selectIsPopoverOpen)(e,mC.c.ANALYSIS_TAGGING),confidenceFilter:Ve.a.TagsPanel.confidenceFilter.get(e)}},bC={togglePopover:Dh.default,addTagsByFeaturesToAsset:iC.addTagsByFeaturesToAsset},hC=cC()(Object(g.connect)(fC,bC),vp,le.b),gC=hC(pC),vC=Object(k.default)(zg.TextField).withConfig({displayName:"TagsPanelConfidenceFilter__StyledTextField",componentId:"i5q576-0"})(["width:38px;margin-left:",";margin-right:",";"],At.a.spacing.md,At.a.spacing.xs),EC=Object(k.default)(Lt.a).withConfig({displayName:"TagsPanelConfidenceFilter__StyledTypography",componentId:"i5q576-1"})(["min-width:130px;"]),yC=function(e){var t=e.confidenceFilter,a=e.setConfidenceFilter,n=e.trackEvent,r=Object(b.useCallback)((function(e){a(e)}),[a]),s=Object(b.useCallback)((function(){n(fe.f.TAG,"change minimum confidence slider")}),[n]),o=Object(b.useCallback)((function(e){a(e),n(fe.f.TAG,"change minimum confidence input text")}),[a,n]);return h.a.createElement("div",{className:"flex justify-between"},h.a.createElement("div",{className:"flex items-center w-100"},h.a.createElement(EC,{size:"xs",type:"lowContrast"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel.confidence")),h.a.createElement("div",{className:"w-100"},h.a.createElement(PO.a.Normal,{min:0,max:100,value:t,onChange:r,onAfterChange:s})),h.a.createElement("div",null,h.a.createElement(vC,{value:t,onChange:o})),h.a.createElement(gC,null)))},jC=function(e){return{confidenceFilter:Ve.a.TagsPanel.confidenceFilter.get(e)}},OC={setConfidenceFilter:iC.setConfidenceFilter},wC=Object(g.connect)(jC,OC)(yC),IC=Object(le.b)(wC),TC=a(632),MC=a(161),CC={minWidth:"30px"},NC=function(e){var t=function(){return e.label&&h.a.createElement("span",{className:_()("mr2 truncate",e.labelClassName),style:e.labelStyle},e.label)},a=function(){return h.a.createElement("span",{className:"db tr",style:CC},e.valueLabel?e.valueLabel:e.value)},n=function(){return h.a.createElement("span",{className:_()("flex w-100 h2",e.bgColor&&"bg-"+e.bgColor),style:e.bgBarStyle},h.a.createElement("span",{className:_()("h-100",e.fgBarClassName,e.fgColor&&"bg-"+e.fgColor),style:W()({},e.fgBarStyle,{width:e.value/(e.maxValue||100)*100+"%"})}))},r=_()(e.className,"flex items-center justify-between w-100",{"flex-column":"double-row"===e.layout});return h.a.createElement("div",{className:r,style:e.style},"single-row"===e.layout?h.a.createElement(b.Fragment,null,t(),n(),e.indicatorComponent&&e.indicatorComponent(),a()):h.a.createElement(b.Fragment,null,h.a.createElement("div",{className:"flex justify-between w-100 mb1"},t(),h.a.createElement("div",{className:"flex items-center"},e.indicatorComponent&&e.indicatorComponent(),a())),n()))};NC.defaultProps={maxValue:100,bgColor:"gray-50",fgColor:"action-light",layout:"single-row"};var xC=NC,AC=a(3938),DC=a.n(AC),LC={minWidth:"130px",maxWidth:"40%"},SC={height:"14px",width:"14px"},kC=h.a.createElement(ee.a,{className:DC.a.tagIcon,size:"xs",path:x.tagSign}),PC=h.a.createElement(ee.a,{className:DC.a.addIcon,size:"xs",path:x.addBox,color:"gray-60"}),_C=h.a.createElement(ee.a,{className:DC.a.removeIcon,size:"xs",path:x.removeBox}),RC=function(e){function t(t){var a;return a=e.call(this,t)||this,p()(c()(a),"value",void 0),a.state={status:null},a.value=Math.round(100*t.tagInfo.confidence),c()(a).onClick=a.onClick.bind(c()(a)),c()(a).indicatorComponent=a.indicatorComponent.bind(c()(a)),a}u()(t,e);var a=t.prototype;return a.onClick=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.status){e.next=2;break}return e.abrupt("return");case 2:if(this.setState({status:this.props.tagInfo.isAssetTag?"removing":"adding"}),e.prev=3,this.props.trackEvent(fe.f.TAG,(this.props.tagInfo.isAssetTag?"remove":"add")+" tag from "+this.props.analyticsFeatureName),!this.props.tagInfo.isAssetTag){e.next=10;break}return e.next=8,this.props.removeTagFromAsset(this.props.tagInfo);case 8:e.next=12;break;case 10:return e.next=12,this.props.addTagToAsset(this.props.tagInfo);case 12:return e.prev=12,this.setState({status:null}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,,12,15]])})));return function(){return e.apply(this,arguments)}}(),a.getTooltip=function(){var e;return e=this.state.status?this.state.status:this.props.tagInfo.isAssetTag?"remove":"add",Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel."+e+"Tag")},a.indicatorComponent=function(){var e=this,t=this.props.tagInfo.isAssetTag,a=!!this.state.status;return h.a.createElement(uC,null,(function(n){return h.a.createElement(Z.a,{tooltipText:e.getTooltip(),tooltipPosition:"top"},h.a.createElement("div",{className:"flex ml2"},a&&h.a.createElement(ji.a,{style:SC}),!a&&t&&kC,!a&&t&&n.editAssetsTags&&_C,!a&&!t&&n.editAssetsTags&&PC))}))},a.render=function(){var e=this,t=!!this.state.status;return h.a.createElement(uC,null,(function(a){return h.a.createElement("div",{className:_()(DC.a.tagPanelTag,"fs-exclude mt2 mb2",{pointer:a.editAssetsTags&&!t}),onClick:a.editAssetsTags&&e.onClick},h.a.createElement(xC,{key:e.props.tagInfo.tag,label:e.props.tagInfo.tag,labelClassName:e.props.tagInfo.isAssetTag?"b i":null,labelStyle:"single-row"===e.props.layout?LC:null,indicatorComponent:e.indicatorComponent,value:e.value,valueLabel:e.value+"%",fgColor:e.props.color,layout:e.props.layout}))}))},t}(h.a.Component),FC={addTagToAsset:iC.addTagToAsset,removeTagFromAsset:iC.removeTagFromAsset},zC=Object(g.connect)(null,FC)(RC),BC=Object(le.b)(zC),UC=function(e){return h.a.createElement("div",{className:"flex flex-column mv3"},e.children)},VC=UC,GC=function(e){return h.a.createElement("div",{className:"flex mb3 self-start"},e.icon&&h.a.createElement(ee.a,{className:"mr2",color:e.iconColor,path:e.icon}),h.a.createElement("div",{className:"f-sm fw5"},e.title))},WC=GC,HC=function(e){return h.a.createElement("div",{className:"flex flex-column"},h.a.createElement("div",{className:"lh-copy"},e.message,e.note&&h.a.createElement("div",{className:"pt3"},e.note)),e.children)},YC=HC,QC=function(e){return h.a.createElement(VC,null,h.a.createElement(WC,{title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+e.panelName+".featuresStatuses.noResultsAboveConfidenceLevel.title")}),h.a.createElement(YC,{message:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+e.panelName+".featuresStatuses.noResultsAboveConfidenceLevel.message",{feature:Object(MC.c)(e.featureName)}),note:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+e.panelName+".featuresStatuses.noResultsAboveConfidenceLevel.note")}))},KC=QC,ZC=a(1233),qC="FEATURE_REGISTRATION",XC="assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notRegistered.registrationModal",JC=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{isRegistering:!1,checked:!1}),p()(c()(t),"register",i()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isRegistering:!0}),e.next=3,t.props.registerToFreeFeaturePlan(t.props.featureName);case 3:a=t.props.featureLabel,t.props.trackEvent(fe.f.REGISTER_ADDON,("register successfully "+(fe.a[a]||a)).toLowerCase()),t.props.hideModal();case 6:case"end":return e.stop()}}),e)})))),p()(c()(t),"setChecked",(function(e){t.setState({checked:e})})),t}u()(t,e);var a=t.prototype;return a.renderContent=function(){return h.a.createElement(b.Fragment,null,h.a.createElement("span",null,Object(Ue.j)(XC+".contentPart1")),h.a.createElement("span",{className:"pv2 b"},this.props.providerLabel),h.a.createElement("span",{className:"pv2"},Object(Ue.j)(XC+".contentPart2")),h.a.createElement("div",{className:"pv2"},Object(Ue.j)(XC+".contentPart3",{provider:this.props.providerLabel})))},a.renderLink=function(e){var t=this.props.featureLabel;return h.a.createElement(rg.a,{target:"_blank",to:this.props[e+"Url"],name:((fe.a[t]||t)+" "+e).toLowerCase()},h.a.createElement("span",{className:"ph1"},Object(Ue.j)(XC+"."+e)))},a.renderCheckbox=function(){return this.props.termsUrl||this.props.privacyUrl?h.a.createElement(ZC.a,{checked:this.state.checked,setChecked:this.setChecked,checkboxTitle:h.a.createElement("span",{className:"gray-70"},Object(Ue.j)(XC+".checkboxPart1"),this.props.termsUrl&&this.renderLink("terms"),this.props.termsUrl&&this.props.privacyUrl&&Object(Ue.j)(XC+".checkboxAnd"),this.props.privacyUrl&&this.renderLink("privacy"),Object(Ue.j)(XC+".checkboxPart2",{feature:this.props.featureLabel}))}):null},a.render=function(){return h.a.createElement(le.a.Provider,{value:fe.g.DRILLDOWN},h.a.createElement(Ua.a,{onClose:this.props.hideModal,onConfirm:this.register,headerTitle:Object(Ue.j)(XC+".title",{feature:this.props.featureLabel}),cancelText:Object(Ue.j)(XC+".cancelBtn"),confirmText:Object(Ue.j)(XC+".registerBtn"),isInProgress:this.state.isRegistering,isConfirmDisabled:!this.state.checked,truncation:!1},this.renderContent(),this.renderCheckbox()))},t}(h.a.Component);p()(JC,"defaultProps",{featureLabel:""});var $C=function(e,t){return{featureLabel:Object(MC.c)(t.featureName),providerLabel:Object(MC.g)(t.providerName),termsUrl:QM.g[t.providerName].termsUrl,privacyUrl:QM.g[t.providerName].privacyUrl}},eN={hideModal:wa.hideModal,registerToFreeFeaturePlan:eC.registerToFreeFeaturePlan},tN=Object(g.connect)($C,eN)(JC);Ba.a.register(qC,tN);var aN=qC,nN=function(e){var t=function(){var t=i()(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(MC.c)(e.featureName),e.trackEvent(fe.f.REGISTER_ADDON,("intent to register "+(fe.a[a]||a)).toLowerCase()),t.next=4,Object(MC.f)(e.featureName);case 4:if(n=t.sent){t.next=8;break}return Be.d.error(Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notRegistered.registerToast.noFreePlan")),t.abrupt("return",!1);case 8:e.showModal(aN,{featureName:n.feature,providerName:n.provider,trackEvent:e.trackEvent});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return h.a.createElement(VC,null,h.a.createElement(WC,{title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notRegistered.title",{feature:Object(MC.c)(e.featureName)})}),h.a.createElement(YC,{message:e.message}),e.isAdminUser?h.a.createElement(bn.b,{className:"ma2 self-center",skin:"action",icon:x.lightning,onClick:t},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notRegistered.registerFeature")):h.a.createElement("div",{className:"pt3 i"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notRegistered.registrationNotAllowed")))},rN=function(e){return{isAdminUser:Object(zt.selectUser)(e).role===fe.m}},sN={showModal:wa.showModal},oN=Object(g.connect)(rN,sN)(nN),iN=Object(le.b)(oN),lN=Object(k.default)(Xe.a).withConfig({displayName:"NotActivatedStatus__StyledButton",componentId:"sc-1k3c83w-0"})(["align-self:center;margin:",";"],po.globalTheme.spacing.xs),cN=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(c()(n),"state",{isUpdating:!1}),c()(n).onActivateFeatureClicked=n.onActivateFeatureClicked.bind(c()(n)),n}u()(t,e);var a=t.prototype;return a.onActivateFeatureClicked=function(){var e=i()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isUpdating:!0}),a=Object(MC.d)(this.props.featureName).type,e.next=4,this.props.updateItem(this.props.asset,ge.i.ANALYSIS_FEATURES,((t={})[a]=this.props.featureName,t),ze.q.ADD,{disableSuccessToast:!0});case 4:this.setState({isUpdating:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.renderRunButton=function(){var e=this,t=Object(MC.c)(this.props.featureName),a=this.props.featureUsages.find((function(t){return t.feature_name===e.props.featureName}));return h.a.createElement(b.Fragment,null,h.a.createElement(lN,{icon:"lightning",size:"md",variant:"primary",progress:this.state.isUpdating,onClick:function(){e.props.trackEvent(fe.f.RUN_ADDON,(""+(fe.a[t]||t)).toLowerCase()),e.onActivateFeatureClicked()}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notActivated.runFeature",{feature:t})),h.a.createElement("div",{className:"self-center bg-gray-40 ph4 pv2 ma2 br2"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notActivated.note1"),a?h.a.createElement(b.Fragment,null,h.a.createElement("br",null),Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notActivated.note2",{limit:a.provisioned,used:a.value})):null))},a.render=function(){var e=this;return h.a.createElement(VC,null,h.a.createElement(WC,{title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.notActivated.title")}),h.a.createElement(YC,{message:this.props.message},h.a.createElement(uC,null,(function(t){return t.activateFeatures&&e.renderRunButton()}))))},t}(h.a.Component),dN=function(e){return{featureUsages:Ve.a.AnalysisTab.featureUsages.get(e),asset:Object(jt.selectDrilldownAsset)(e)}},uN={updateItem:j.updateItem},mN=Object(g.connect)(dN,uN)(cN),pN=Object(le.b)(mN),fN=function(e){return h.a.createElement(VC,null,h.a.createElement(WC,{title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.failed.title"),icon:x.cancel,iconColor:"destructive"}),h.a.createElement(YC,{message:e.error}))},bN=fN,hN=function(e){return h.a.createElement(VC,null,h.a.createElement(WC,{title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+e.panelName+".featuresStatuses.noResults.title")}),h.a.createElement(YC,{message:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+e.panelName+".featuresStatuses.noResults.message",{feature:Object(MC.c)(e.featureName)})}))},gN=hN,vN=function(e){return h.a.createElement(VC,null,h.a.createElement(WC,{title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.quotaExceeded.title"),icon:x.warning,iconColor:"destructive"}),h.a.createElement(YC,{message:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.quotaExceeded.message",{feature:Object(MC.c)(e.featureName)})},h.a.createElement(bn.b,{className:"self-center mt2",onClick:function(){Object(xI.g)(Ue.b.modules.addOns)}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.statuses.quotaExceeded.manageFeature"))))},EN=vN,yN=function(e){return CN(e)},jN=function(e,t){return h.a.createElement(iN,{featureName:e,message:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+t+".featuresStatuses.notRegistered.message")})},ON=function(e,t){return h.a.createElement(pN,{featureName:e,message:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+t+".featuresStatuses.notActivated.message",{feature:Object(MC.c)(e)})})},wN=function(e,t){return h.a.createElement(gN,{featureName:e,panelName:t})},IN=function(e){return h.a.createElement(EN,{featureName:e})},TN=function(e){return h.a.createElement(bN,{error:e})},MN=function(){return h.a.createElement(LM,null)},CN=function(e){if(!e.featureAnalysis)return MN();switch(e.featureAnalysis.status){case QM.d.NOT_REGISTERED:return jN(e.featureAnalysis.name,e.panelName);case QM.d.NOT_ACTIVATED:return ON(e.featureAnalysis.name,e.panelName);case QM.d.QUOTA_EXCEEDED:return IN(e.featureAnalysis.name);case QM.d.FAILED:return TN(e.featureAnalysis.error);case QM.d.COMPLETED:return e.featureAnalysis.data.length?e.resultsRenderer():wN(e.featureAnalysis.name,e.panelName);default:return null}},NN=yN,xN="tagsPanel",AN=Object(k.default)(fo.Combobox).withConfig({displayName:"TagsPanelFeature__StyledCombobox",componentId:"sc-1ixzeih-0"})(["min-width:unset;width:100%;"]),DN=Object(k.default)(et.a).withConfig({displayName:"TagsPanelFeature__StyledIcon",componentId:"sc-1ixzeih-1"})(["align-self:start;display:flex;margin-right:",";"],At.a.spacing.sm),LN=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{isAddingTags:!1}),p()(c()(t),"onAddTagsClicked",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isAddingTags:!0}),e.prev=1,e.next=4,t.props.addTagsByFeaturesToAsset(t.props.item,[t.props.selectedFeatureAnalysis.name]);case 4:return e.prev=4,t.setState({isAddingTags:!1}),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})))),p()(c()(t),"getOptions",ql()((function(e,t){return e.reduce((function(e,a){return a.name!==t.name&&e.push(SN(a)),e}),[])}))),p()(c()(t),"getVisibleTags",(function(e){return e?t.props.selectedFeatureAnalysis.filteredTags:t.props.selectedFeatureAnalysis.filteredTags.slice(0,mC.b)})),p()(c()(t),"renderResults",(function(){var e=t.getVisibleTags(t.props.tags);return e.length?e.map((function(e){return h.a.createElement(BC,{key:e.tag,tagInfo:e,layout:t.props.tagBarLayout,analyticsFeatureName:t.props.selectedFeatureAnalysis.name,color:mC.a[t.props.selectedFeatureAnalysis.name]})})):h.a.createElement(KC,{featureName:t.props.selectedFeatureAnalysis.name,panelName:xN})})),t}u()(t,e);var a=t.prototype;return a.renderHeader=function(){var e=this,t=this.getOptions(this.props.options,this.props.selectedFeatureAnalysis),a=SN(this.props.selectedFeatureAnalysis),n={Option:Object(Mb.withListItemLayout)((function(e,t){return h.a.createElement(Ls.ItemContext.Provider,{value:t},h.a.createElement(Ls.IconTwoLine,{icon:e.icon,primaryText:e.label}))})),SingleValue:function(e){var t=e.data;return h.a.createElement(Ls.ItemContext.Provider,{value:{}},h.a.createElement(Ls.IconTwoLine,{icon:t.icon,primaryText:t.label}))}};return h.a.createElement("div",{className:"flex items-center mb1"},h.a.createElement(AN,{options:t,value:a,size:"sm",onChange:function(t){e.props.onChange&&e.props.onChange(t.value)},isClearable:!1,isSearchable:!1,components:n}),h.a.createElement(uC,null,(function(t){return t.editAssetsTags&&h.a.createElement(bn.b,{skin:"menu",icon:x.addMultiple,disabled:!e.props.selectedFeatureAnalysis||!e.props.selectedFeatureAnalysis.filteredTags.length,progress:e.state.isAddingTags,tooltipText:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel.addFeatureTags",{feature:Object(MC.c)(e.props.selectedFeatureAnalysis.name),confidence:e.props.confidenceFilter}),onClick:function(){var t=e.props.selectedFeatureAnalysis.name;e.props.trackEvent(fe.f.TAG," all "+(fe.E[t]||t)+" tags above confidenceadded"),e.onAddTagsClicked()}})})))},a.render=function(){return h.a.createElement("div",{key:this.props.selectedFeatureAnalysis.name,className:_()(this.props.className,"flex flex-column w-100")},this.renderHeader(),h.a.createElement(NN,{featureAnalysis:this.props.selectedFeatureAnalysis,panelName:xN,resultsRenderer:this.renderResults}))},t}(h.a.Component),SN=function(e){var t=e.status===QM.d.COMPLETED?" "+Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+xN+".tagsResults",{total:e.allTags.length,filtered:e.filteredTags.length}):"";return{value:e,label:Object(MC.c)(e.name)+" "+t,icon:h.a.createElement(DN,{name:"circle",size:"sm",color:mC.a[e.name]})}},kN=function(e,t){return{options:Object(TC.getOptionsForDropMenu)(e,t.item),confidenceFilter:Ve.a.TagsPanel.confidenceFilter.get(e),tags:Ve.a.TagsPanel.showAll.get(e),featureUsages:Ve.a.AnalysisTab.featureUsages.get(e)}},PN={addTagsByFeaturesToAsset:iC.addTagsByFeaturesToAsset},_N=cC()(Object(g.connect)(kN,PN),vp,le.b),RN=_N(LN),FN=function(e){var t=function(t,a){var n,r=e.displayedFeaturesNames[t],s=null===(n=e.featuresAnalysis)||void 0===n?void 0:n.find((function(e){return e.name===r}));return s&&h.a.createElement(RN,W()({featuresAnalysis:e.featuresAnalysis,selectedFeatureAnalysis:s,onChange:function(a){return function(t,a){var n=e.displayedFeaturesNames.map((function(e,n){return n===a?t.name:e})),r=Object(MC.c)(t.name);e.trackEvent(fe.f.CLICK,("select "+(fe.a[r]||r)).toLowerCase()),e.setDisplayedFeaturesNames(n)}(a,t)}},a))};return h.a.createElement("div",{className:"flex flex-column"},h.a.createElement("div",{className:"flex justify-around relative"},function(){switch(e.displayedFeaturesNames.length){case 0:return h.a.createElement(LM,null);case 1:return t(0,{tagBarLayout:"single-row"});default:return h.a.createElement(b.Fragment,null,t(0,{tagBarLayout:"double-row",className:"mr3"}),t(1,{tagBarLayout:"double-row"}))}}()),e.showMoreButtonVisible&&h.a.createElement(bn.b,{className:"justify-center",size:"sm",onClick:function(){return e.setShowAll(!e.showAll)}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel.show"+(e.showAll?"Less":"More"))))},zN=function(e){return-1===[QM.d.NOT_REGISTERED,QM.d.NOT_ACTIVATED].indexOf(e.status)},BN=function(e){if(e.featuresAnalysis&&e.featuresAnalysis.length){var t=e.displayedFeaturesNames.length;if(!(t>=2)){var a=e.featuresAnalysis.filter(zN);if(0===t){var n=e.featuresAnalysis.slice(0,a.length>1&&!e.isMobileOrTabletLayout?2:1).map((function(e){return e.name}));e.setDisplayedFeaturesNames(n)}1===t&&a.length>1&&!e.isMobileOrTabletLayout&&e.setDisplayedFeaturesNames(a.slice(0,2).map((function(e){return e.name})))}}},UN={componentDidMount:function(){BN(this.props)},componentDidUpdate:function(){BN(this.props)}},VN=function(e,t){return{featuresAnalysis:Object(TC.selectCategorizationFeaturesAnalysis)(e,t.item),displayedFeaturesNames:Ve.a.TagsPanel.displayedFeaturesNames.get(e),showAll:Ve.a.TagsPanel.showAll.get(e),showMoreButtonVisible:Object(TC.selectShowMoreButtonVisible)(e,t.item)}},GN={setDisplayedFeaturesNames:Ve.a.TagsPanel.displayedFeaturesNames.set,setShowAll:iC.setShowAll},WN=cC()(Object(jb.b)(UN),Object(g.connect)(VN,GN),vp,le.b)(FN),HN=function(e){var t=e.isMobileOrTabletLayout;return h.a.createElement(oC,{name:QM.h.TAGS.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.tagsPanel.title"),color:QM.h.TAGS.color},h.a.createElement(IC,null),h.a.createElement("div",{className:"h2 w-100 bg-gray-40 mt2 mb2"}),h.a.createElement(WN,{isMobileOrTabletLayout:t}))},YN=HN,QN=a(422),KN=a(86),ZN=Object(Q.withCircleSkeleton)((function(){return h.a.createElement("div",null)}));function qN(){return h.a.createElement(ZN,{isLoading:!0})}var XN=function(e){return h.a.createElement("div",{className:_()("flex items-center justify-center",e.className)},e.shouldShowThumbnail?h.a.createElement(yn.b,{variant:ur.a.TEMPLATE+"/"+JN(e.rect,e.item,e.cropSquare),asset:e.item,loading:qN}):h.a.createElement(ee.a,{path:x.face,color:"gray-70"}))},JN=function(e,t,a){var n=$N(e,t,a);return btoa(n+",c_crop")},$N=function(e,t,a){var n=ex(e,t);return a&&(n=tx(n,t)),"x_"+Math.round(n.left)+",y_"+Math.round(n.top)+",w_"+Math.round(n.width)+",h_"+Math.round(n.height)},ex=function(e,t){return{top:e.top*t.height,left:e.left*t.width,height:e.height*t.height,width:e.width*t.width,roll:e.roll}},tx=function(e,t){var a,n;if(e.width>e.height){var r=e.top+e.height;return n=(a=e.width-e.height)/2,e.top-n<0?n=e.top:r+n>t.height&&(n=a-(t.height-r)),W()({},e,{top:e.top-n,height:e.width})}if(e.height>e.width){var s=e.left+e.width;return n=(a=e.height-e.width)/2,e.left-n<0?n=e.left:s+n>t.width&&(n=a-(t.width-s)),W()({},e,{left:e.left-n,width:e.height})}return e},ax=function(e){return{shouldShowThumbnail:Object(zt.selectIsLoginAsSelf)(e)||Object(KN.selectIsCustomerImagesDisplay)(e)}},nx=Object(g.connect)(ax)(XN),rx=vp(nx),sx=a(3884),ox=a.n(sx),ix=1,lx=function(e){return e.faces.length&&h.a.createElement("div",{className:"flex flex-wrap"},e.faces.map((function(t){return h.a.createElement("span",{className:"mb2",key:ix++,onMouseEnter:function(){return e.setHighlightedRegions(Object(QN.a)([t],e.color))},onMouseLeave:function(){e.setHighlightedRegions([])}},h.a.createElement(rx,{className:_()(ox.a.faceThumbnail,"box-xxl mr2 pointer"),rect:t.rect,cropSquare:!0}))})))},cx={setHighlightedRegions:Ve.a.AnalysisTab.highlightedRegions.set},dx=Object(g.connect)(null,cx)(lx),ux=dx,mx="cloudinary_face",px={paddingRight:"0px"},fx="cloudinaryFacesPanel",bx=function(e){var t=Object(QN.b)(e.item);return h.a.createElement(oC,{name:QM.h.CLOUDINARY_FACES.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+fx+".cloudinaryTitle"),color:QM.h.CLOUDINARY_FACES.color},t.length?h.a.createElement(b.Fragment,null,h.a.createElement("div",{className:"flex justify-between"},h.a.createElement("span",{className:"flex items-center mt1 mb2 f-sm"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.facesPanels.detectedFaces",{count:t.length})),h.a.createElement(uC,null,(function(t){return!e.isMobileOrTabletLayout&&t.editAutoDetection&&h.a.createElement(bn.b,{icon:x.faceDetect,iconRight:!0,size:"sm",style:px,onClick:function(){Object(be.m)(e.item,"faces"),e.trackEvent(fe.f.NAVIGATE,"face coordinates editing page")}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+fx+".manageCloudinaryFaces"))}))),h.a.createElement(ux,{faces:t,color:QM.h.CLOUDINARY_FACES.color})):h.a.createElement(gN,{featureName:mx,panelName:fx}))},hx=Object(le.b)(vp(bx)),gx=a(524),vx="awsFacesPanel",Ex={height:"28px",borderRadius:"15px"},yx=function(e){var t=1,a=e.featureAnalysis;return h.a.createElement(oC,{name:QM.h.AWS_FACES.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.labels."+QM.a.AWS_REK_FACE.name),color:QM.h.AWS_FACES.color},h.a.createElement(NN,{featureAnalysis:e.featureAnalysis,panelName:vx,resultsRenderer:function(){return a&&h.a.createElement(b.Fragment,null,h.a.createElement("div",{className:"mt1 mb2 f-sm"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+vx+".detectedCelebrities",{count:a.data.length})),h.a.createElement("div",{className:"flex flex-wrap"},a.data.map((function(a){return h.a.createElement("div",{key:t++,className:"flex items-center justify-center mr2 mb2 br4 pointer bg-gray-40",style:Ex,onMouseEnter:function(){return e.setHighlightedRegions(Object(QN.a)([a],QM.h.AWS_FACES.color))},onMouseLeave:function(){e.setHighlightedRegions([])}},h.a.createElement(rx,{className:_()(ox.a.faceThumbnail,"box-xxl"),rect:a.rect,cropSquare:!0}),h.a.createElement("span",{className:"pr2 pl2 f-xxs b"},a.name," ",Math.round(a.nameConfidence||0),"%"))}))))}}))},jx=function(e){return{featureAnalysis:Object(gx.selectAwsCelebrityFacesAnalysis)(e)}},Ox={setHighlightedRegions:Ve.a.AnalysisTab.highlightedRegions.set},wx=Object(g.connect)(jx,Ox)(yx),Ix=wx,Tx="advFacesPanel",Mx=function(e){var t=e.featureAnalysis;return t&&t.status!==QM.d.NOT_REGISTERED?h.a.createElement(oC,{name:QM.h.ADVANCED_FACES.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.labels."+QM.a.ADV_FACE.name),color:QM.h.ADVANCED_FACES.color},h.a.createElement(NN,{featureAnalysis:t,panelName:Tx,resultsRenderer:function(){return t&&h.a.createElement(b.Fragment,null,h.a.createElement("div",{className:"mt1 mb2 f-sm"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.facesPanels.detectedFaces",{count:t.data.length})),h.a.createElement(ux,{faces:t.data,color:QM.h.ADVANCED_FACES.color}))}})):null},Cx=function(e){return{featureAnalysis:Object(gx.selectAdvancedFacesAnalysis)(e)}},Nx=Object(g.connect)(Cx)(Mx),xx=Nx,Ax=a(838),Dx=a(3939),Lx=a.n(Dx),Sx=500,kx=90,Px=function(e){var t=Object(Ax.b)(e.item);return h.a.createElement(oC,{name:QM.h.AREA_OF_INTEREST.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.areaOfInterestPanel.title"),color:QM.h.AREA_OF_INTEREST.color},h.a.createElement("div",{className:"flex justify-between pt1 pb1"},t.length>0?h.a.createElement("div",{onMouseEnter:function(){return e.setHighlightedRegions(Object(Ax.a)(t))},onMouseLeave:function(){e.setHighlightedRegions([])},style:function(){var a=Sx,n=t[0],r=n.width*e.item.width,s=n.height*e.item.height;if(s>kx){var o=r/s;a=kx*o<Sx?kx*o:Sx}return{maxWidth:a+"px"}}()},h.a.createElement(rx,{className:_()(Lx.a.areaOfInterest),rect:t[0]})):h.a.createElement("span",{className:"flex items-center f-sm"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.areaOfInterestPanel.areaNotDefined")),h.a.createElement(uC,null,(function(t){return t.editAutoDetection&&!e.isMobileOrTabletLayout&&h.a.createElement(Xe.a,{icon:"areaOfInterest",iconRight:!0,size:"sm",type:"link",onClick:function(){e.trackEvent(fe.f.NAVIGATE,"custom coordinates editing page"),Object(be.m)(e.item,"custom_coordinates")}},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.areaOfInterestPanel.manage"))}))))},_x={setHighlightedRegions:Ve.a.AnalysisTab.highlightedRegions.set},Rx=cC()(Object(g.connect)(null,_x),vp,le.b),Fx=Rx(Px),zx=a(756),Bx=a(1279),Ux=a(3940),Vx=a.n(Ux),Gx="advOcrPanel",Wx=function(e){var t=1;return h.a.createElement(oC,{name:QM.h.OCR.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.features.labels."+QM.a.ADV_OCR.name),color:QM.h.OCR.color},h.a.createElement(NN,{featureAnalysis:e.featureAnalysis,panelName:Gx,resultsRenderer:function(){var a,n;return h.a.createElement(b.Fragment,null,h.a.createElement("span",{className:"flex f-sm fw5 pt1 pb1"},Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels."+Gx+".detectedPhrases",{count:null===(a=e.featureAnalysis)||void 0===a?void 0:a.data.length})),h.a.createElement("div",{className:"pb1 pt1"},null===(n=e.featureAnalysis)||void 0===n?void 0:n.data.map((function(a){return h.a.createElement("div",{key:t++,className:_()("pt1 pb1 pointer",Vx.a.trimmer),onMouseEnter:function(){return 0===a.page&&e.setHighlightedRegions(Object(Bx.a)([a]))},onMouseLeave:function(){e.setHighlightedRegions([])}},h.a.createElement(Z.a,{tooltipText:a.text},a.text))}))))}}))},Hx=function(e){return{featureAnalysis:Object(zx.selectOCRFeatureAnalysis)(e)}},Yx={setHighlightedRegions:Ve.a.AnalysisTab.highlightedRegions.set},Qx=Object(g.connect)(Hx,Yx)(Wx),Kx=Qx,Zx=function(e){return e&&e.predominant?e.predominant.cloudinary.map((function(e){return{name:e[0],percentage:e[1]}})):null},qx=function(e){return e&&e.colors?e.colors.map((function(e){return{hex:e[0],percentage:e[1]}})):null},Xx={lineHeight:"2"},Jx={width:"100px"},$x={height:"6px"},eA=function(e){var t=e.substring(1),a=parseInt(t,16);return.2126*(a>>16&255)+.7152*(a>>8&255)+.0722*(a>>0&255)},tA=function(e){var t=function(e,t){if(!t)return null;var a=t.reduce((function(e,t){return Math.max(t.percentage,e)}),0);return h.a.createElement("div",{className:"pt2 pb2"},h.a.createElement("div",{className:"pb2 f-sm"},e),t.map((function(e){var t=Math.round(e.percentage);return h.a.createElement(xC,{key:e.name||e.hex,style:Xx,label:e.name||e.hex,value:t,maxValue:a,valueLabel:t+"%",labelStyle:Jx,bgColor:"transparent",fgColor:e.name?"predominant-"+e.name:null,fgBarClassName:"white"===e.name||e.hex&&eA(e.hex)>200?"bw1 b--solid b--gray-40":null,fgBarStyle:{backgroundColor:e.hex,boxSizing:"content-box"},bgBarStyle:$x})})))};return!(!e.topColors&&!e.cloudinaryPredominantColors)&&h.a.createElement(oC,{name:QM.h.COLORS.name,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.colorsPanel.title"),color:QM.h.COLORS.color},t(Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.colorsPanel.predominantColors"),e.cloudinaryPredominantColors||[]),t(Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.panels.colorsPanel.topColors"),e.topColors||[]))},aA=function(e){var t=Object(jt.selectDrilldownAsset)(e),a=t&&t.analysis;return{cloudinaryPredominantColors:Zx(a),topColors:qx(a)}},nA=Object(g.connect)(aA)(tA),rA=nA,sA={marginTop:"-1px"},oA=function(){var e=Object($d.d)();return h.a.createElement("div",{style:sA,"data-test":"image-analysis-enabled"},h.a.createElement(YN,{isMobileOrTabletLayout:e}),h.a.createElement(hx,{isMobileOrTabletLayout:e}),h.a.createElement(Ix,null),h.a.createElement(xx,null),h.a.createElement(Fx,{isMobileOrTabletLayout:e}),h.a.createElement(Kx,null),h.a.createElement(rA,null))},iA=oA,lA=a(1580),cA=a(1557),dA=a(3941),uA=a.n(dA),mA=a(3942),pA=a.n(mA),fA=k.default.div.withConfig({displayName:"Banner__HorizontalBar",componentId:"sc-1su8c3e-0"})(["height:1px;"]),bA=function(e){var t=e.title,a=e.skin,n=e.size,r=e.noBackground,s=e.color;return h.a.createElement("div",{className:"bg-"+(r?"transparent":a)+" f-"+n+" br2 pv2 ph3 "+s},t)},hA=function(e){var t=e.title,a=e.skin,n=void 0===a?"gray-50":a,r=e.size,s=void 0===r?"xxs":r,o=e.className,i=void 0===o?"":o,l=e.tooltipText,c=void 0===l?"":l,d=e.tooltipPosition,u=void 0===d?"top":d,m=e.noBackground,p=void 0!==m&&m,f=e.color,b=void 0===f?"":f,g=e.dataTest,v=void 0===g?"banner":g;return h.a.createElement("div",{className:_()("flex items-center",i),"data-test":v},h.a.createElement(fA,{className:"bg-"+n+" flex-auto"}),c?h.a.createElement(Z.a,{tooltipText:c,tooltipPosition:u},h.a.createElement(bA,{title:t,skin:n,size:s,noBackground:p,color:b})):h.a.createElement(bA,{title:t,skin:n,size:s,noBackground:p,color:b}),h.a.createElement(fA,{className:"bg-"+n+" flex-auto"}))},gA=hA,vA=/(https?:\/\/|http?:\/\/|www\.)([-a-zA-Z0-9@:%._\+~#=]{1,256}\.)([a-z]{2,6}\b)([-a-zA-Z0-9@:%_\+.~#?&\=]*[-a-zA-Z0-9@:%_\+~#?&\/=])*/gi,EA=function(){return h.a.createElement("span",null," ")},yA=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var a=t.prototype;return a.linkify=function(e){var t=this;return(e.match(vA)||[]).reduce((function(e,t){return e.replace(t,"\n"+t+"\n")}),e).split("\n").map((function(e,a){var n=vA.test(e);return{Element:function(){return n?h.a.createElement("a",{href:/^http/gi.test(e)?e:"//"+e,target:"_blank",rel:"noopener noreferrer"},e):e?t.renderText(e,a):h.a.createElement(EA,null)},isLink:n,context:e,key:a}}))},a.renderText=function(e,t){return this.props.customizeRenderText?this.props.customizeRenderText(e,t):h.a.createElement("span",null,e)},a.renderLine=function(e,t){var a=this.linkify(e);return h.a.createElement("div",{key:t},a.map((function(e){return h.a.createElement(e.Element,{key:e.key})})))},a.render=function(){var e=this,t=this.props.content.split("\n");return h.a.createElement("div",{className:_()("fs-exclude lh-md",this.props.className),"data-test":"markdown-content"},t.map((function(t,a){return e.renderLine(t,a)})))},t}(h.a.PureComponent),jA={name:"Deleted user",id:""},OA=function(e){var t=e.user,a=t?"action":"strike";return h.a.createElement("span",{className:a},"@",t?t.name:jA.name)},wA=function(e,t){return{user:Object(_t.selectItem)(e,Rt.a,t.id)}},IA=Object(g.connect)(wA)(OA),TA=IA,MA=a(3943),CA=a.n(MA),NA=/(<@U.*?>)/,xA=/<@U(.*?)>/,AA=function(e){function t(){for(var a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=e.call.apply(e,[this].concat(r))||this,p()(c()(a),"showDeleteDialog",(function(){var e=a.props,t=e.readOnly,n=e.showModal,r=e.trackEvent;t||(r(fe.f.DELETE,"intent to delete comment"),n(ho.a,{onConfirm:a.deleteComment,title:Object(Ue.j)("commentsPane.deleteComment.title"),renderBodyContent:a.renderDeleteDialogBody,primaryButtonText:Object(Ue.j)("commentsPane.commentContent.delete"),primaryButtonSkin:"destructive"}))})),p()(c()(a),"deleteComment",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.deleteItem(a.props.comment);case 2:a.props.trackEvent(fe.f.DELETE,"comment deleted successfully");case 3:case"end":return e.stop()}}),e)})))),p()(c()(a),"renderDeleteDialogBody",(function(){return h.a.createElement(Lt.a,null,h.a.createElement("div",{className:"pb3"},Object(Ue.j)("commentsPane.deleteComment.warning")),h.a.createElement("div",{className:_()("pv3 ba br2 b--gray-40 overflow-y-auto",CA.a.deleteCommentWrapper)},h.a.createElement(t,{comment:a.props.comment,currentUserId:a.props.currentUserId,showModal:a.props.showModal,deleteItem:a.props.deleteItem,readOnly:!0,user:a.props.user,trackEvent:a.props.trackEvent})))})),p()(c()(a),"renderTextLine",(function(e,t){return NA.test(e)?(e.split(NA)||[]).map((function(e,a){var n=a;if(xA.test(e)){var r=e.split(xA).join("");return h.a.createElement(TA,{key:t+"_"+r+"_"+n,id:r})}return h.a.createElement("span",{key:t+"_"+n},e)})):h.a.createElement("span",{key:t},e)})),a}return u()(t,e),t.prototype.render=function(){var e,t=this.props.currentUserId===this.props.user.id,a=this.props.user.name===jA.name;return h.a.createElement("div",{className:_()("w-100 flex items-start ph3",CA.a.commentContent,(e={},e[CA.a.readOnly]=this.props.readOnly,e.pt3=t,e.pv3=!t,e)),"data-test":"comment-block"},h.a.createElement(Z.a,{tooltipText:h.a.createElement(Pt.a,{user:this.props.user,className:"fs-exclude tl mv1"}),tooltipDisabled:a,tooltipPosition:"top-start",offset:-100,theme:"light"},h.a.createElement("div",{className:_()("fs-exclude pr3 relative",{pointer:!a})},h.a.createElement(cc.a,{user:!a&&this.props.user,size:ki.a.LG}))),h.a.createElement("div",{className:"flex flex-column items-between"},h.a.createElement("div",{className:"flex justify-start items-center flex-wrap"},h.a.createElement("h4",{className:"fs-exclude fw6 mv0 mr2"},this.props.user.name),h.a.createElement(Z.a,{tooltipText:Object(St.h)(this.props.comment.createdAt),tooltipPosition:"top"},h.a.createElement("div",{className:"fs-exclude gray-60 mr2 f-xs pointer"},Object(St.k)(this.props.comment.createdAt))),this.props.comment.updatedAt&&h.a.createElement("span",{className:"gray-60 i f-xs"},Object(Ue.j)("commentsPane.commentContent.modified"))),h.a.createElement(yA,{className:_()("pt1",CA.a.content),content:this.props.comment.content,customizeRenderText:this.renderTextLine}),h.a.createElement("div",{className:_()(CA.a.commentOperations,{dn:this.props.readOnly})},t&&h.a.createElement(bn.b,{skin:"link",size:"sm",dataTest:"delete-btn",onClick:this.showDeleteDialog},Object(Ue.j)("commentsPane.commentContent.delete")))))},t}(h.a.Component),DA=function(e,t){return{currentUserId:Object(zt.selectUser)(e).id,user:Object(_t.selectItem)(e,Rt.a,t.comment.userId)||W()({},jA,{id:t.comment.userId})}},LA={showModal:wa.showModal,deleteItem:j.deleteItem},SA=Object(g.connect)(DA,LA)(AA),kA=Object(le.b)(SA),PA="TOP_LEVEL_COMMENT",_A="VERSION_INDICATOR_TYPE",RA=k.default.div.withConfig({displayName:"CommentsFeed__Feed",componentId:"sc-1w46zs2-0"})(["max-height:calc(100% - 75px);"]),FA=Object(k.default)(ji.a).withConfig({displayName:"CommentsFeed__StyledProgress",componentId:"sc-1w46zs2-1"})(["width:30px;margin:auto;"]),zA=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"getEventsInFeed",(function(e){return t.props.itemVersionTimestamps.forEach((function(t){var a={type:_A,id:t,createdAt:t,content:t},n=uA()(e,a,(function(e){return-1*new Date(e.createdAt).getTime()}));e.length&&n<e.length&&e.splice(n,0,a)})),e})),p()(c()(t),"scrollToBottom",(function(){return setTimeout((function(){t.feedRef.current&&t.feedRef.current.scrollIntoView(!1)}))})),p()(c()(t),"feedRef",h.a.createRef()),p()(c()(t),"feedRenderer",null),p()(c()(t),"loadMoreComments",(function(){t.props.loadMoreListItems(t.props.listId)})),p()(c()(t),"renderFeed",(function(){return t.feedRenderer||(t.feedRenderer=Object(wr.default)((function(e,a,n){var r=pA()(e,(function(e){return e.parentId||PA})),s=t.getEventsInFeed(r[PA]||[]);return h.a.createElement(RA,{className:"overflow-auto","data-test":"comments-feed"},h.a.createElement("div",{className:"flex flex-column-reverse"},s.map((function(e){var a=r[e.id]||[];return h.a.createElement(h.a.Fragment,{key:e.id},e.type&&e.type===_A?t.renderVersionIndicatorBanner(e.createdAt):e.content&&t.renderComment(e,a))})),a?h.a.createElement(FA,{className:"pt3"}):n&&h.a.createElement(wh.a,{key:s.length,topOffset:"-50%",onEnter:t.loadMoreComments})),h.a.createElement("div",{ref:t.feedRef}))}))),t.feedRenderer(t.props.comments,t.props.loadingMoreComments,t.props.hasMoreComments)})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.scrollToBottom()},a.renderEmptyState=function(){return h.a.createElement("div",{"data-test":"empty-state-comments-feed",className:_()("flex items-center justify-center flex-column flex-auto")},h.a.createElement(ee.a,{path:x.comment,size:"xl4",color:"gray-50"}),h.a.createElement("h1",{className:"gray-50 mt2"},Object(Ue.j)("commentsPane.emptyState")))},a.renderComment=function(e,t){return h.a.createElement(h.a.Fragment,null,h.a.createElement(kA,{comment:e,key:e.id}),t.length>0&&h.a.createElement("div",{className:"pl3 mb1","data-test":"comment-replies"},t.map((function(e){return h.a.createElement(kA,{key:e.id,comment:e})}))))},a.renderVersionIndicatorBanner=function(e){return h.a.createElement(gA,{title:Object(Ue.j)("commentsPane.newVersionIndicator"),className:"fw6 pointer mv1",tooltipText:Object(St.h)(e)})},a.render=function(){return this.props.comments&&this.props.comments.length?this.renderFeed():this.renderEmptyState()},t}(h.a.Component),BA=function(e,t){return{comments:Object(Ft.selectListExists)(e,t.listId)?Object(Ft.selectListItems)(e,t.listId):null,itemVersionTimestamps:[t.item.uploadedAt],hasMoreComments:!!Object(Ft.selectListNextCursor)(e,t.listId),loadingMoreComments:Object(Ft.selectListInProgress)(e,t.listId)}},UA={loadMoreListItems:Fn.loadMoreListItems},VA=Object(g.connect)(BA,UA)(zA),GA=vp(VA),WA=a(209),HA=a(877),YA=a(3864),QA=a.n(YA),KA=a(3944),ZA=a.n(KA),qA=function(e){var t=e.item,a=e.isSelected,n=e.isHighlighted;return h.a.createElement("div",{"data-test":"user-list-item",className:_()("flex items-center justify-start w-100 h-100",{"bg-gray-50":a,"bg-gray-40":n}),key:t.email},h.a.createElement(Pt.a,{user:t,avatarSize:ki.a.MD,className:"pa2"}))},XA=function(e){var t=e.inputValue,a=e.getItems,n=e.emptyPlaceholderComp,r=Object(b.useMemo)((function(){return a(t)}),[t,a]),s=Object(b.useCallback)((function(){return function(e){return r.length>0?h.a.createElement(h.a.Fragment,null,r.map((function(t,a){return Yi(W()({},e,{item:t,index:a}))}))):n()}}),[r,n]);return h.a.createElement(Ki,W()({},e,{defaultHighlightedIndex:0,className:_()("flex flex-grow overflow-hidden",e.className),dropClassName:_()(ZA.a.usersDropdown,e.dropClassName),getItems:s,dropItemComponent:qA}))},JA=a(560),$A=a.n(JA),eD=30,tD=k.default.div.withConfig({displayName:"TextEditor__Editor",componentId:"efpl5p-0"})(["white-space:pre-wrap;"]),aD=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{showPlaceholder:!t.props.defaultValue}),p()(c()(t),"setMaxAndMinRows",(function(){if(t.editorRef){var e=t.editorRef.children[0]?t.editorRef.children[0].offsetHeight:null;if(e){var a=e*(t.props.minRows||1);t.editorRef.style.minHeight=(a>eD?a:eD)+"px",t.editorRef.style.maxHeight=e*(t.props.maxRows||1)+"px"}}})),p()(c()(t),"onEditorFocus",(function(){t.editorRef&&(t.editorRef.textContent||t.state.showPlaceholder||t.toogleDisplayPlaceholder(!0),t.editorRef.focus())})),p()(c()(t),"onKeyDown",(function(e){$A()(["mod+b","mod+i"])(e)&&e.preventDefault(),(!t.props.onKeyDown||t.props.onKeyDown(e,t.editorRef))&&Object(I.c)(e,t.autoList)})),p()(c()(t),"onKeyUp",(function(e){t.cleanEditorAndShowPlaceholder(),t.props.onKeyUp&&t.props.onKeyUp(e)})),p()(c()(t),"onPaste",(function(e){e.preventDefault();var t=e.clipboardData;if(t){var a=t.getData("text/plain"),n=document.queryCommandSupported("insertText")?"insertText":"paste";document.execCommand(n,!1,a)}})),p()(c()(t),"setRef",(function(e){e&&(t.editorRef=e,t.props.innerRef&&t.props.innerRef(e))})),p()(c()(t),"cleanEditorAndShowPlaceholder",(function(){if(t.editorRef){var e=t.editorRef.innerText;e||t.state.showPlaceholder?"\n"!==e&&t.state.showPlaceholder&&t.toogleDisplayPlaceholder(!1):(Object(WA.c)(t.editorRef),t.toogleDisplayPlaceholder(!0))}})),p()(c()(t),"toogleDisplayPlaceholder",(function(e){return!t.unmounted&&t.setState({showPlaceholder:e})})),p()(c()(t),"autoList",(function(e){t.editorRef&&(e.ctrlKey||e.metaKey?t.editorRef.blur():Object(WA.b)())})),p()(c()(t),"editorRef",void 0),p()(c()(t),"unmounted",!1),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.setMaxAndMinRows(),this.onEditorFocus()},a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){return h.a.createElement("div",{onFocus:this.onEditorFocus,className:"relative w-100 overflow-hidden ml2"},h.a.createElement("div",{className:_()("gray-60 absolute outline-0 pv2 w-100 f-"+(this.props.fontSize||"xs"),{dn:!this.state.showPlaceholder}),"aria-hidden":"true","data-test":"editor-placeholder",role:"presentation",tabIndex:"-1"},this.props.placeholder),h.a.createElement(tD,{contentEditable:!0,maxRows:this.props.maxRows,minRows:this.props.minRows,ref:this.setRef,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onMouseUp:this.onKeyUp,className:_()("flex-grow outline-0 overflow-y-auto pv2 pr2 f-"+(this.props.fontSize||"xs"),this.props.className),"data-test":this.props.dataTest,"aria-label":this.props.placeholder,onBlur:this.props.onBlur,onPaste:this.onPaste,suppressContentEditableWarning:!0},h.a.createElement("div",{"data-text":!0,className:"notranslate"},this.props.defaultValue?this.props.defaultValue:h.a.createElement("br",null))))},t}(h.a.Component);p()(aD,"defaultProps",{minRows:1,maxRows:1,dataTest:"text-editor",fontSize:"xs"});var nD=aD,rD=a(1579),sD=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"onKeyDown",(function(e){var a=t.props.getInputProps().onKeyDown,n=window.getSelection().getRangeAt(0);return["ArrowUp","ArrowDown","Tab","Enter"].includes(e.key)&&t.props.isOpen&&n.startContainer===n.endContainer?(a(e),!1):(t.props.onCtrlEnter&&Object(I.b)(e,t.props.onCtrlEnter),!0)})),p()(c()(t),"onKeyUp",(function(e){var a=window.getSelection().getRangeAt(0);if(Object(HA.g)(a),!($A()("shift+arrowUp")(e)||$A()("shift+arrowDown")(e)||$A()("shift+arrowLeft")(e)||$A()("shift+arrowRight")(e))){var n=Object(WA.d)(t.textEditorRef);t.props.adjustMentioningDisplay(n,a,e)}var r=a.startContainer.textContent.substring(1)||"",s=t.props.getFilterUsers(r.trim());Object(HA.f)(e,s.length);var o=Object(HA.e)(a);!t.props.isOpen&&o&&0!==s.length?t.props.toggleMenu({isOpen:!0,inputValue:r}):o&&0!==s.length?t.props.onMentionInputChange(r):(t.props.closeMenu(),t.props.validateInput&&t.props.validateInput(t.textEditorRef.textContent))})),p()(c()(t),"onBlur",(function(){var e=Object(WA.f)();t.lastSelection=e.cloneRange()})),p()(c()(t),"startMentionUser",(function(){if(t.textEditorRef){var e=Object(WA.f)();if(e.startContainer===document){var a=t.textEditorRef.firstChild;e.setStart(a,0),e.setEnd(a,0)}else e.setStart(t.lastSelection.startContainer,t.lastSelection.startOffset),e.setEnd(t.lastSelection.endContainer,t.lastSelection.endOffset);var n=e.startOffset;if(e.deleteContents(),!t.props.isOpen){t.props.onMentionInputChange("");var r=new KeyboardEvent("keydown",{key:"@",keyCode:50,which:50}),s=t.textEditorRef.previousElementSibling;e.startContainer.textContent=e.startContainer.textContent.substring(0,n)+" @"+e.startContainer.textContent.substring(n),e.setStart(e.startContainer.nodeType===Node.TEXT_NODE?e.startContainer:e.startContainer.firstChild,n+2),t.onKeyDown(r),t.onKeyUp(r),s&&s.classList.add("dn")}}})),p()(c()(t),"setRef",(function(e){e&&(t.textEditorRef=e,t.props.setRef&&t.props.setRef(e))})),p()(c()(t),"textEditorRef",void 0),p()(c()(t),"lastSelection",{}),t}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){this.props.selected&&this.props.selected!==e.selected&&Object(HA.c)(this.props.selected,this.props.clearSelection)},a.render=function(){return h.a.createElement("div",{className:_()("flex flex-grow items-end overflow-hidden",QA.a.textEditor)},h.a.createElement(nD,{maxRows:5,onKeyDown:this.onKeyDown,placeholder:Object(Ue.j)("commentsPane.commentBox.placeholder"),className:_()("fs-exclude overflow-hidden"),innerRef:this.setRef,dataTest:"new-comment-text-editor",fontSize:v.isMobile?"sm2":"xs",onKeyUp:this.onKeyUp,onBlur:this.onBlur}),h.a.createElement(ee.a,{size:"sm",path:x.annotation,className:"dn pointer mb2 mr1"}))},t}(h.a.Component),oD={adjustMentioningDisplay:rD.adjustMentioningDisplay},iD=Object(g.connect)(null,oD)(sD),lD=iD,cD=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{inputValueForMention:""}),p()(c()(t),"onMentionInputChange",(function(e){e!==t.state.inputValueForMention&&t.setState({inputValueForMention:e})})),p()(c()(t),"getItemKey",(function(e){return e.id})),p()(c()(t),"getFilterUsers",(function(e){return bc(e,t.props.users,t.props.customerId)})),p()(c()(t),"renderInputItem",(function(e){return b.createElement("div",{className:"w-100",ref:e.ref},b.createElement(lD,W()({},e,{onCtrlEnter:t.props.onSubmit,onKeyDown:t.props.onKeyDown,onMentionInputChange:t.onMentionInputChange,setRef:t.props.setRef,getFilterUsers:t.getFilterUsers,clearSelection:e.clearSelection,validateInput:t.props.validateInput})))})),p()(c()(t),"renderEmptyPlaceholderComp",(function(){return null})),t}return u()(t,e),t.prototype.render=function(){return b.createElement(XA,{className:_()("items-end br b--gray-60 flex flex-grow pr1",QA.a.textEditor),selected:null,getItems:this.getFilterUsers,inputValue:this.state.inputValueForMention,inputItem:this.renderInputItem,dropClassName:_()(QA.a.dropClassName,"bg-white ba bb-0 b--gray-60"),emptyPlaceholderComp:this.renderEmptyPlaceholderComp,placement:"top",itemToString:function(){return""},getItemKey:this.getItemKey,popperKey:this.state.inputValueForMention,modifiers:{offset:{offset:"3,1"}}})},t}(b.Component),dD=function(e){return{users:w()((Object(Ft.selectListItemIds)(e,pe.n)||[]).map((function(t){return t!==Object(zt.selectUser)(e).id&&Object(_t.selectItem)(e,Rt.a,t)}))),customerId:Object(zt.selectCurrentCustomerId)(e)}},uD=Object(g.connect)(dD,{})(cD),mD=uD,pD=k.default.span.withConfig({displayName:"NewCommentEditor__ErrorMessage",componentId:"mmcie3-0"})(["color:",";position:relative;"],tt.f),fD=5e3,bD=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{overMaxCharacter:!1}),p()(c()(t),"onSubmit",i()(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.textEditorRef&&!t.state.overMaxCharacter){e.next=2;break}return e.abrupt("return");case 2:if(a=Object(HA.d)(t.textEditorRef)||"",!(n=a.trim())){e.next=10;break}return(r=a.match(HA.a))&&t.props.trackEvent(fe.f.MENTION,"mention "+r.length+" users in comment"),e.next=9,t.props.onSubmit(n);case 9:t.props.trackEvent(fe.f.COMMENT,"send comment");case 10:t.textEditorRef&&(Object(WA.c)(t.textEditorRef),t.textEditorRef.focus());case 11:case"end":return e.stop()}}),e)})))),p()(c()(t),"setRef",(function(e){e&&(t.textEditorRef=e)})),p()(c()(t),"isContentOverMaximumLength",(function(e){t.setState({overMaxCharacter:e.length>=fD})})),p()(c()(t),"textEditorRef",void 0),t}return u()(t,e),t.prototype.render=function(){var e;return h.a.createElement("div",{className:_()("w-100 flex flex-column",QA.a.commentBoxWrapper),"data-test":"comment-editor-box"},h.a.createElement("div",{className:_()("ba b--gray-60 br2 flex items-center mt3 mb1 overflow-hidden mh2 bg-gray-20",QA.a.commentBox,(e={},e[QA.a.onError]=this.state.overMaxCharacter,e))},h.a.createElement(mD,{setRef:this.setRef,onSubmit:this.onSubmit,validateInput:this.isContentOverMaximumLength}),h.a.createElement(bn.b,{size:"sm",icon:x.send,skin:"link",dataTest:"comment-editor-submit",className:"mh1",disabled:this.state.overMaxCharacter,onClick:this.onSubmit})),h.a.createElement("div",{className:_()("flex justify-between pv1 f-xxs ph2 bg-gray-40")},this.state.overMaxCharacter?h.a.createElement(pD,{className:"mr1"},Object(Ue.j)("commentsPane.commentBox.warnings.longText")):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,h.a.createElement("span",{className:"mr1 fw6"},Object(Ue.j)("commentsPane.commentBox.mentionCommand.syntax")),Object(Ue.j)("commentsPane.commentBox.mentionCommand.description")),!v.isMobile&&h.a.createElement("div",null,h.a.createElement("span",{className:"mr1 fw6"},Object(Ue.j)("commentsPane.commentBox.sendCommand.syntax",{subKey:Object(me.h)()?Object(Ue.j)("commentsPane.commentBox.sendCommand.cmd"):Object(Ue.j)("commentsPane.commentBox.sendCommand.ctrl")})),Object(Ue.j)("commentsPane.commentBox.sendCommand.description")))))},t}(h.a.Component),hD=Object(le.b)(bD),gD=a(837),vD=a(3945),ED=a.n(vD),yD=function(e,t){return function(){var a=i()(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(pe.w.COMMENT,{subjectKind:pe.w.ASSET,subjectId:t,content:n});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},jD=k.default.div.withConfig({displayName:"CommentsPane__CommentPaneWrapper",componentId:"f6dgl8-0"})(["width:350px;min-width:300px;.spinner{height:auto;}@media ","{width:100%;}"],fe.s.MD),OD=function(e){var t=e.id,a=e.ensureListExists,n=e.setListFilter;return Object(b.useEffect)((function(){var e={subjectKind:pe.w.ASSET,subjectId:t},r={itemType:pe.w.COMMENT,maxResults:gD.b};a(gD.a,r,!1),n(gD.a,e)}),[t,a,n]),e.isCommentsPaneOpen?h.a.createElement(jD,{"data-test":"comments-panel",className:"h-100 flex-column bl b--gray-40 justify-between flex"},!e.forceShowComments&&h.a.createElement("div",{className:"ma2 absolute right-0 z-3"},h.a.createElement(bn.b,{dataTest:"comment-pane-close-btn",icon:x.cross,skin:"basic",tooltipText:v.isMobile?"":Object(Ue.j)("commentsPane.close"),onClick:function(){e.toggleCommentsPane(),e.trackEvent(fe.f.SHOW_HIDE,e.isCommentsPaneOpen?"close comments pane":"open comments pane")},size:"sm"})),e.initialLoadInProgress?h.a.createElement("div",{className:"flex justify-center pa3 items-center flex-auto flex-column"},h.a.createElement(vn.a,{className:ED.a.spinner,variant:"secondary",width:"50%"}),h.a.createElement("h1",{className:"fw6 gray-50 mt2"},Object(Ue.j)("commentsPane.loadingState"))):h.a.createElement(h.a.Fragment,null,h.a.createElement(GA,{listId:gD.a}),h.a.createElement(hD,{onSubmit:yD(e.createItem,t)}))):null},wD=function(e,t){return{initialLoadInProgress:Object(Ft.selectListExists)(e,gD.a)&&!Object(Ft.selectListItems)(e,gD.a)&&Object(Ft.selectListInProgress)(e,gD.a),isCommentsPaneOpen:Ve.a.UserPreferences.isCommentsPaneOpen.get(e)&&!v.isIE||t.forceShowComments}},ID={ensureListExists:Fn.ensureListExists,setListFilter:Fn.setListFilter,createItem:j.createItem,toggleCommentsPane:cA.toggleCommentsPane},TD=Object(g.connect)(wD,ID)(OD),MD=Object(le.b)(TD),CD=function(e){var t,a=e.asset,n=e.size,r=void 0===n?"":n,s=e.color,o=void 0===s?"":s,i=e.className,l=_()(i,"di nowrap",((t={})["f-"+r]=!!r,t["lh-"+r]=!!r,t[String(o)]=!!o,t));return h.a.createElement("div",{className:l,"data-test":"asset-dimensions"},a.width&&a.height?a.width+" × "+a.height:null)},ND=CD,xD=a(864),AD=1600,DD=1600,LD=function(e,t,a,n){var r=a.width>0&&a.height>0,s="video"===e&&"video"===t,o="image"===e&&!n,i="image"===e&&n&&a.width<DD&&a.height<AD;return r&&(s||o||i)},SD=function(e,t,a){return!a&&e.width&&e.height?{width:e.width,height:e.height}:t},kD=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var a=t.prototype;return a.renderSeparator=function(){return h.a.createElement("div",{className:"w1 bg-gray-70 flex-none self-stretch mh3"})},a.render=function(){var e=this.props,t=e.asset,a=e.dimensions,n=e.previewedPreset,r=n.name,s=n.transformation,o=SD(t,a,s),i=!s,l=t&&LD(t.resource_type,t.resource_subtype,o,s);return h.a.createElement("div",{className:"flex flex-row justify-between pv3 ph3"},h.a.createElement("div",{className:"flex flex-row mw-0"},h.a.createElement("span",null,Object(Ue.j)("assetDrilldown.preview")),h.a.createElement($,{text:r,className:"white fw5 ml3",tooltipText:r,dataTest:"asset-url-properties-name"})),h.a.createElement("div",{className:"flex flex-row white"},i&&h.a.createElement("div",{className:"flex items-center","data-test":"asset-url-properties-icon"},h.a.createElement(oa,{size:"xs",asset:t,color:"white"}),this.renderSeparator()),i&&h.a.createElement("div",{className:"flex items-center"},h.a.createElement("div",{className:"flex items-center flex-grow justify-between","data-test":"asset-url-properties-size"},h.a.createElement(xD.a,{asset:t,size:"sm"})),l&&this.renderSeparator()),l&&h.a.createElement("div",{className:"flex items-center"},h.a.createElement("div",{className:"flex items-center flex-grow justify-between","data-test":"asset-url-properties-dimensions"},h.a.createElement(ND,{asset:W()({},a),size:"sm"})))))},t}(h.a.PureComponent),PD=function(e){return{previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e)}},_D=Object(g.connect)(PD)(kD),RD=Object.freeze({NEW_TAB:"NEW_TAB",DOWNLOAD:"DOWNLOAD",COPY_URL:"COPY_URL",TRANSFORM:"TRANSFORM",EMBED:"EMBED"}),FD=k.default.div.withConfig({displayName:"AssetDrilldownPresetUrlActions__ButtonsContainer",componentId:"ojmenr-0"})(["span button{background-color:",";","}span:last-child button{","}span:first-child{","}"],(function(e){return e.shouldDisplayButtonText?xt.dark.palette.surface:"transparent"}),(function(e){return e.shouldDisplayButtonText&&"margin: 0px 10px;"}),(function(e){return e.shouldDisplayButtonText&&"margin-right: 0px;"}),(function(e){return e.divider&&"button { margin-right: 26px; } position:relative; :after {content: ''; border-right: 1px solid "+tt.o+"; height: 25px; right: 7px; position: absolute; }"})),zD=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"copyUrl",(function(e){t.props.isBlockedDeliveryUrl&&Object(bg.b)(t.props.asset),(0,t.props.trackEvent)(fe.f.COPY_URL,"derived url copied from icon"),e.stopPropagation()})),p()(c()(t),"download",i()(s.a.mark((function e(){var a,n,r,o,i,l,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props,n=a.asset,r=a.previewedPreset,o=r.name,i=r.transformation,l=a.trackEvent,c=a.downloadItem,d=jr()(i),e.prev=2,!d){e.next=8;break}return e.next=6,c(n,{apiOptions:{targetPublicId:t.props.asset.filename}});case 6:e.next=10;break;case 8:return e.next=10,c(n,{apiOptions:{transformation:i,targetPublicId:t.props.asset.filename+"-"+Object(me.d)(o)}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Be.d.error(Object(Ue.j)("assetDrilldown.formSubmit.fail"));case 15:l(fe.f.DOWNLOAD,"asset downloaded successfully from preset");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))),p()(c()(t),"navigateToEdit",(function(){var e=t.props,a=e.asset,n=e.previewedPreset,r=n.name,s=n.transformation;if(s){var o=0===s.indexOf("t_");Object(be.m)(a,"transformation",o?r:s)}else Object(be.m)(a)})),p()(c()(t),"updateDerivedAsset",i()(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.previewedPreset.derivedUrl,e.prev=1,e.next=4,Object(rT.j)(a);case 4:if(!((n=e.sent)&&n.status<400)){e.next=7;break}return e.abrupt("return",!0);case 7:if(!(n.status<500)){e.next=10;break}return Be.d.error(Object(Ue.j)("assetDrilldown.templates.editFailed")),e.abrupt("return",!1);case 10:throw new Error("error generating a derived image");case 13:return e.prev=13,e.t0=e.catch(1),Be.d.error(Object(Ue.j)("assetDrilldown.templates.editFailedGeneric")),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))),p()(c()(t),"edit",i()(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props,n=a.previewedPreset.transformation,r=a.trackEvent,e.t0=!n,e.t0){e.next=6;break}return e.next=5,t.updateDerivedAsset();case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=9;break}r(fe.f.NAVIGATE,"edit transformation preset"),t.navigateToEdit();case 9:case"end":return e.stop()}}),e)})))),p()(c()(t),"openInNewTab",(function(){if(t.props.isBlockedDeliveryUrl)return Object(bg.b)(t.props.asset),void t.props.trackEvent(fe.f.NAVIGATE,"open derived url in new tab");var e=t.props,a=e.previewedPreset.derivedUrl;(0,e.trackEvent)(fe.f.NAVIGATE,"open derived url in new tab"),window.open(a,"_blank")})),p()(c()(t),"embed",(function(){var e=t.props,a=e.asset,n=e.previewedPreset,r=n.derivedUrl,s=n.transformation;(0,e.trackEvent)(fe.f.EMBED,"intent to embed delivery URL"),t.props.showModal(Fg,{asset:a,derivedUrl:r.replace(/\s/g,"%20"),transformation:s})})),p()(c()(t),"renderButtons",(function(e,a){return e.map((function(e){var n=t.BUTTONS[e],r=n.component,s=n.props();return h.a.createElement("span",{key:e},h.a.createElement(r,W()({size:"sm",skin:"menuDark",tooltipDisabled:a,tooltipIsSensitive:!1},s),a&&s.tooltipText))}))})),p()(c()(t),"BUTTONS",{NEW_TAB:{component:bn.b,props:function(){return{icon:t.props.isBlockedDeliveryUrl?x.openInNewBlocked:x.openInNew,onClick:t.openInNewTab,tooltipText:Object(Ue.j)("assetDrilldown.templates.openInNew"),dataTest:"asset-url-actions-open"}}},DOWNLOAD:{component:bn.b,props:function(){return{icon:x.fileDownload,onClick:t.download,tooltipText:Object(Ue.j)("assetDrilldown.templates.download"),dataTest:"asset-url-actions-download"}}},COPY_URL:{component:Mg,props:function(){var e;return{asset:t.props.asset,derivedUrl:null===(e=t.props.previewedPreset)||void 0===e?void 0:e.derivedUrl,tooltipPosition:"bottom",onClick:t.copyUrl,dataTest:"asset-url-actions-copy",isBlockedDeliveryUrl:t.props.isBlockedDeliveryUrl}}},TRANSFORM:{component:bn.b,props:function(){return{icon:x.transform,onClick:t.edit,tooltipText:Object(Ue.j)("assetDrilldown.templates."+(t.props.immutableLinks?"transform":"edit")),dataTest:"asset-url-actions-edit"}}},EMBED:{component:bn.b,props:function(){return{icon:x.embed,onClick:t.embed,tooltipText:Object(Ue.j)("assetDrilldown.templates.embed"),dataTest:"asset-url-actions-embed"}}}}),t}return u()(t,e),t.prototype.render=function(){if(!this.props.asset)return null;var e=this.props,t=e.asset,a=e.cmsMode,n=e.immutableLinks,r=e.allowedDeliveryUrls,s=e.canTransform,o=void 0===s||s,i=Object(Oa.a)(t).restriction!==ge.b.PUBLIC&&"private"!==t.type,l=RD.NEW_TAB,c=RD.DOWNLOAD,d=RD.COPY_URL,u=RD.TRANSFORM,m=RD.EMBED,p=[].concat(i||a?[]:[l],a?[]:[c],i||a?[]:[d],o?[u]:[]),f=[].concat(o?[u]:[],r?[m]:[],a?[]:[c]),b=a||n,g=n?f:p;return h.a.createElement(FD,{className:"flex flex-row ml-auto",shouldDisplayButtonText:b,divider:n&&(a||g.length>1)},this.renderButtons(g,b))},t}(h.a.PureComponent),BD=function(e){return{cmsMode:Object(zt.selectCmsMode)(e),previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e)}},UD={downloadItem:j.downloadItem,showModal:wa.showModal},VD=Object(g.connect)(BD,UD)(Object(le.b)(zD)),GD=VD,WD=function(e){var t=e.cmsPreferences,a=null===t.insertCaption||""===t.insertCaption;return e.isCmsMode&&!a?h.a.createElement(na.a,{text:e.tooltip},h.a.createElement(zp.a,{size:e.size||"sm",className:"flex-none lh-2 "+(e.className||""),onClick:e.onClick,disabled:e.disabled,"data-test":"selection-insert"},t.insertCaption||Object(Ue.j)("selection.cmsInsertButton.label"))):null},HD=function(e){return{isCmsMode:Object(zt.selectCmsMode)(e),cmsPreferences:Object(HT.selectCmsPreferences)(e)}},YD=Object(g.connect)(HD,{})(WD),QD=YD,KD=Object(k.default)(QD).withConfig({displayName:"AssetDrilldownPresetBarAssetUrl__StyledCmsInsertButton",componentId:"kap2d8-0"})(["margin-left:",";"],At.a.spacing.xs),ZD=function(e){var t=e.derivedUrl,a=e.transformation,n=e.cmsInsertAsset,r=e.className,s=e.canTransform,o=e.asset,i=e.isImmutableLinks,l=e.isAssetOperationAllowed;return t?h.a.createElement("div",{className:r,"data-test":"asset-url"},h.a.createElement("div",{className:_()("flex flex-row flex-grow-1 justify-between items-center pa1 bw1 br2 f-xs",{"bg-gray-90 b--solid b--gray-70 shadow-2":!i})},!i&&h.a.createElement(yg,{url:t,asset:o,transformation:a,isBlockedDeliveryUrl:!l(o,ce.a.DELIVER_ASSET_URL)}),h.a.createElement(GD,{asset:o,immutableLinks:i,canTransform:s,allowedDeliveryUrls:l(o,ce.a.DELIVER_ITEM),isBlockedDeliveryUrl:!l(o,ce.a.DELIVER_ASSET_URL)})),n&&h.a.createElement(KD,{onClick:n,size:"md"})):null},qD=function(e,t){return{isImmutableLinks:cI()(t.forceIsImmutableLinks)?t.forceIsImmutableLinks:Object(zt.selectIsImmutableLinks)(e),isAssetOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},XD=Object(g.connect)(qD)(ZD),JD=k.default.div.withConfig({displayName:"AssetDrilldownPresetBar__StyledContainer",componentId:"v7zgx8-0"})(["background-color:",";"],xt.dark.palette.surface),$D=function(e){var t=e.cmsInsertWithTransformation,a=e.dimensions,n=e.previewedPreset,r=n.derivedUrl,s=n.transformation,o=e.asset;return h.a.createElement(JD,{className:"flex flex-column gray-50 f-sm flex-shrink-0","data-test":"asset-drilldown-preset-bar"},h.a.createElement(_D,{asset:o,dimensions:a}),h.a.createElement(XD,{className:"flex flex-row items-center pv2 ph3 bg-gray-80",asset:o,derivedUrl:r,transformation:s,cmsInsertAsset:t}))},eL=function(e,t){return{previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e),asset:Object(_t.selectItem)(e,ge.m,t.id)}},tL={cmsInsertWithTransformation:Nn.cmsInsertWithTransformation},aL=Object(g.connect)(eL,tL)($D),nL=aL,rL=a(18),sL=Object(rL.createSelector)(jt.selectAssetDrilldownActiveTab,$M.selectOverlayProps,(function(e,t){return e===ft.a?t:null})),oL=Object(k.default)(zp.a).withConfig({displayName:"AssetDrilldownPrimaryTemplatestyles__StyledPill",componentId:"jss742-0"})(["background-color:rgba(0,0,0,0.5);position:absolute;top:50%;transform:translateY(-50%);z-index:2;min-height:auto;&:hover{background-color:rgba(0,0,0,0.5);}&:focus{background-color:rgba(0,0,0,0.5) !important;&:before{top:0;left:0;}}"]),iL=Object(k.default)(oL).withConfig({displayName:"AssetDrilldownPrimaryTemplatestyles__RightStyledPill",componentId:"jss742-1"})(["right:0;"]),lL=k.default.div.withConfig({displayName:"AssetDrilldownPrimaryTemplatestyles__TemplateContainer",componentId:"jss742-2"})(["@media ","{","{display:none;}&:hover{","{display:block;}}}",";"],fe.r.SM,oL,oL,(function(e){var t=e.shouldDisplayThumbnail;return!e.isMobileAnalysisPreview&&Object(k.css)(["background:",";"],t?tt.j:tt.l)})),cL=k.default.div.withConfig({displayName:"AssetDrilldownPrimaryTemplatestyles__StyledCmsInsertContainer",componentId:"jss742-3"})(["padding:",";button{width:100%;}"],At.a.spacing.md),dL=k.default.div.withConfig({displayName:"AssetDrilldownPrimaryTemplatestyles__PreviewContainer",componentId:"jss742-4"})(["flex-grow:1;position:relative;overflow:hidden;display:flex;flex-direction:column;"]),uL=function(e,t,a,n,r){if("video"===e){if("video"===t){if(r)return ur.a.HLS_VIDEO_PREVIEW;if(n)return ur.a.PLAY_VIDEO}return""}return a?ur.a.TEMPLATE_PRIMARY+"/"+Object(rT.a)(a):ur.a.DRILLDOWN},mL={click:"mouse",keydown:"keyboard"},pL=function(){return h.a.createElement(vn.a,{variant:"surface",className:"w-100 flex flex-column",width:"50px"},h.a.createElement("div",{className:"white mt2"},Object(Ue.j)("assetDrilldown.loadingPreview")))},fL=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"onKeyDown",(function(e){["INPUT","TEXTAREA"].includes(e.target.nodeName)||"true"===e.target.contentEditable||(t.props.hasPrevSibling&&Object(I.e)(e,t.navigateToPrevAsset),t.props.hasNextSibling&&Object(I.f)(e,t.navigateToNextAsset))})),p()(c()(t),"navigateToPrevAsset",(function(e){t.props.trackEvent(fe.f.NAVIGATE,"navigate to previous asset via "+mL[e.type]),t.props.navigateToPrevAssetDrilldownManageMode(t.props.activeListId,t.props.id)})),p()(c()(t),"navigateToNextAsset",(function(e){t.props.trackEvent(fe.f.NAVIGATE,"navigate to next asset via "+mL[e.type]),t.props.navigateToNextAssetDrilldownManageMode(t.props.activeListId,t.props.id)})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){-1===this.props.itemIndex&&this.props.activeListId&&this.props.loadListMoreUntilItem(this.props.activeListId,this.props.id),document.addEventListener("keydown",this.onKeyDown,!1)},a.componentDidUpdate=function(e){var t=this.props,a=t.previewedPreset.transformation,n=t.stopAnimation;a!==e.previewedPreset.transformation&&n()},a.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown,!1)},a.render=function(){var e,t,a,n=this.props,r=(null===(e=n.asset)||void 0===e?void 0:e.resourceType)||"",s=(null===(t=n.asset)||void 0===t?void 0:t.resourceSubtype)||"",o=(null===(a=n.asset)||void 0===a?void 0:a.animated)||!1,i=!!n.previewedPreset.transformation,l=o&&!i&&n.playMode!==pe.d.ENABLED,c=uL(r,s,n.previewedPreset.transformation,n.shouldPlayRestrictedVideos,n.hlsVideoPreview);return h.a.createElement(lL,{shouldDisplayThumbnail:n.shouldDisplayThumbnail,isMobileAnalysisPreview:this.props.isMobileAnalysisPreview,"data-test":"asset-drilldown-preview",className:_()("flex flex-column flex-grow overflow-hidden",nn.a.previewContainer),onContextMenu:function(){n.trackEvent(fe.f.CLICK,"right-click on preset preview - do nothing")}},h.a.createElement(dL,null,n.hasPrevSibling&&h.a.createElement(oL,{shape:"pill",onClick:this.navigateToPrevAsset,"data-test":"previous-asset-button"},h.a.createElement(Z.a,{tooltipDisabled:v.isMobile,tooltipText:Object(Ue.j)("assetDrilldown.actions.prevAsset"),tooltipPosition:"top",theme:"light"},h.a.createElement(et.a.KeyboardArrowLeft,null))),h.a.createElement(dr,{variant:c,id:n.id,overlayProps:i?null:n.overlayProps,showVideoPlayer:!0,playMode:n.playMode,playAnimation:n.playAnimation,onDimensionsChange:n.onTemplateDimensionsChange,loading:pL}),"image"===r&&n.shouldDisplayThumbnail?h.a.createElement("div",{className:_()("absolute justify-center dn",nn.a.overlaybuttonContainer)},l&&h.a.createElement(bn.b,{icon:x.play2,size:"lg",skin:"menuDark",className:_()(nn.a.overlayButton,nn.a.playButton),onClick:n.loadAnimation,progress:n.playMode===pe.d.LOADING})):null,n.hasNextSibling&&h.a.createElement(iL,{shape:"pill",onClick:this.navigateToNextAsset,"data-test":"next-asset-button"},h.a.createElement(Z.a,{tooltipDisabled:v.isMobile,tooltipText:Object(Ue.j)("assetDrilldown.actions.nextAsset"),tooltipPosition:"top",theme:"light"},h.a.createElement(et.a.KeyboardArrowRight,null)))),n.showCmsInsert&&n.isCmsMode&&h.a.createElement(cL,null,h.a.createElement(QD,{onClick:n.cmsInsertWithTransformation,size:"md"})))},t}(h.a.Component),bL=function(e,t){var a=Object(_t.selectItem)(e,ge.m,t.id);return{asset:a,overlayProps:a?sL(e,a):null,playMode:Ve.a.AssetDrilldown.playMode.get(e),shouldDisplayThumbnail:Object(En.selectShouldDisplayThumbnail)(e,t.id,ge.m),previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e),shouldPlayRestrictedVideos:Object(zt.isCapabilityEnabled)(e,fe.i.USE_THUMBNAILS_FOR_VIDEO),hlsVideoPreview:Object(zt.isCapabilityEnabled)(e,fe.i.HLS_VIDEO_PREVIEW),hasNextSibling:!!t.activeListId&&Object(Ft.selectListItemHasNextSibling)(e,t.activeListId,t.id),hasPrevSibling:!!t.activeListId&&Object(Ft.selectListItemHasPrevSibling)(e,t.activeListId,t.id),itemIndex:t.activeListId?Object(Ft.selectListItemIndex)(e,t.activeListId,t.id):null,isCmsMode:Object(zt.selectCmsMode)(e)}},hL={loadAnimation:Nn.loadAnimation,playAnimation:Nn.playAnimation,stopAnimation:Nn.stopAnimation,navigateToNextAssetDrilldownManageMode:Nn.navigateToNextAssetDrilldownManageMode,navigateToPrevAssetDrilldownManageMode:Nn.navigateToPrevAssetDrilldownManageMode,loadListMoreUntilItem:Fn.loadListMoreUntilItem,cmsInsertWithTransformation:Nn.cmsInsertWithTransformation},gL=Object(g.connect)(bL,hL)(Object(le.b)(fL)),vL=gL,EL=a(3885),yL=a.n(EL),jL=_()("pt1",yL.a.derivedCard),OL=_()("pt1",yL.a.selectedCard),wL=Object(Q.withTextSkeleton)(k.default.div.withConfig({displayName:"AssetDrilldownDerived__LoadingSkeleton",componentId:"sc-14tjlhz-0"})(["width:110px;height:80px;"])),IL=function(e){return W()({},e,{components:W()({},e.components,{skeleton:{base:tt.q,lighten:-.05}})})},TL=function(e){return b.createElement(k.ThemeProvider,{theme:IL},b.createElement(wL,e))},ML=_()(yL.a.derivedImg),CL=function(e){var t=null===e.transformation?"":Object(rT.a)(e.transformation),a=ur.a.TEMPLATE+"/"+t,n=function(){e.isSelected||(e.trackEvent(fe.f.SELECT,"preset "+e.presetIndex+" selected"),e.previewPreset(wd()(e,"name","derivedUrl","transformation","fetchFormat","presetIndex")))};return b.createElement("div",{"data-test":"derived-card",className:e.isSelected?OL:jL,role:"button",tabIndex:"0",onClick:n,onContextMenu:function(){e.trackEvent(fe.f.CLICK,"right-click on preset in list - do nothing")},onKeyPress:function(e){"Enter"===e.key&&n()}},b.createElement(Cn,{id:e.id,variant:a,loading:function(){return b.createElement(TL,{isLoading:!0})},className:_()(ML),backgroundColorClassName:null}),b.createElement("div",{className:"flex-grow white f-sm tc pt1"},b.createElement($,{display:"block",text:e.name,tooltipText:e.name,tooltipPosition:"top",dataTest:"preset-name"})))},NL=function(e,t){return{isSelected:t.presetIndex===Ve.a.AssetDrilldown.previewedPreset.get(e).presetIndex}},xL={previewPreset:Nn.previewPreset},AL=Object(g.connect)(NL,xL)(Object(le.b)(CL)),DL=AL,LL=a(1593),SL=function(e){return e&&"image"===e.resourceType&&Object(mt.i)(e.type)&&!Object(Te.s)(e)},kL=k.default.div.withConfig({displayName:"AssetDrilldownTemplates__StyledWrapper",componentId:"sc-1c7f2n0-0"})(["background-color:",";"],xt.dark.palette.surface),PL=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{derivedUrls:[]}),p()(c()(t),"calculateDerivedUrls",function(){var e=i()(s.a.mark((function e(a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==(n=t.normalizedTransformationPresets()||[]).length){e.next=4;break}return t.setState({derivedUrls:[a.secureUrl]}),e.abrupt("return");case 4:if(!Object(Oa.a)(a).restricted){e.next=11;break}return e.next=7,Ue.a.restResource.transformationUrls(a.id,{transformations:n.slice(1).map((function(e){return e.transformation})),options:{secure:!0,sign_url:!0}});case 7:o=e.sent,r=[a.secureUrl].concat(o.urls.map((function(e){return Object(rT.d)(a,e,n)}))),e.next=12;break;case 11:r=[a.secureUrl].concat(n.slice(1).map((function(e){return Object(rT.c)(a,e)})));case 12:t.setState({derivedUrls:r}),r.length>t.props.previewedPreset.presetIndex&&t.props.previewPreset(W()({},t.props.previewedPreset,{derivedUrl:r[t.props.previewedPreset.presetIndex]||t.props.previewedPreset.derivedUrl}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p()(c()(t),"onTransformationPresetsPaneCollapseButtonClicked",(function(){var e=t.props,a=e.isTransformationPresetsPaneOpen,n=e.trackEvent;(0,e.toggleTransformationPresetsPane)(!a),n(fe.f.SHOW_HIDE,a?"collapse transformation presets":"expand transformation presets")})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.asset&&this.calculateDerivedUrls(this.props.asset);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.componentDidUpdate=function(){var e=i()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.asset){e.next=2;break}return e.abrupt("return");case 2:(!t.presets&&this.props.presets||t.asset&&t.asset.publicId!==this.props.asset.publicId)&&this.calculateDerivedUrls(this.props.asset);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.normalizedTransformationPresets=function(){var e=this.props.presets;if(!e)return[];var t=e.custom.length?e.custom.map((function(e){return{name:e.name,transformation:"t_"+e.name,fetchFormat:Object(rT.e)(e.transformation)}})):e.default,a=[].concat(t);return a.sort((function(e,t){return e.name.localeCompare(t.name)})),[{name:"Original",transformation:null}].concat(a)},a.render=function(){var e,t=this,a=this.props,n=a.canToggle,r=void 0===n||n,s=this.state,o=_()(yL.a.wrapper,((e={})[yL.a.intercomEnabled]=a.isIntercomWidgetDisplayed,e)),i=_()("flex items-center bg-gray-80 pr3 pl3 pointer",yL.a.upperBar),l=_()("pt1 pl1",yL.a.templates);if(!s.derivedUrls.length||!SL(a.asset))return null;var c=a.isTransformationPresetsPaneOpen?x.arrowDropDown:x.arrowDropUp;return h.a.createElement(kL,{className:o,"data-test":"asset-drilldown-templates"},r&&h.a.createElement("div",{onClick:this.onTransformationPresetsPaneCollapseButtonClicked,"data-test":"upper-bar",className:i},h.a.createElement(ee.a,{size:"xl3",path:c,color:"white",className:"flex justify-center flex-column mr1 pointer"}),h.a.createElement("div",{className:"flex-grow white f-sm"},Object(Ue.j)("assetDrilldown.templates.title"))),a.isTransformationPresetsPaneOpen&&h.a.createElement("div",{"data-test":"templates",className:l},this.normalizedTransformationPresets().map((function(e,a){var n=e.name,r=e.transformation,o=e.fetchFormat;return h.a.createElement(DL,{id:t.props.id,key:n,name:n,transformation:r,fetchFormat:o,derivedUrl:s.derivedUrls[a]||"",presetIndex:a})}))))},t}(h.a.Component),_L=function(e,t){return{asset:Object(_t.selectItem)(e,ge.m,t.id),isTransformationPresetsPaneOpen:Ve.a.UserPreferences.isTransformationPresetsPaneOpen.get(e),presets:Object(LL.selectPresetsByType)(e,t.id),previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e),isIntercomWidgetDisplayed:Object(Oi.selectIsIntercomWidgetDisplayed)(e)}},RL={previewPreset:Nn.previewPreset,toggleTransformationPresetsPane:cA.toggleTransformationPresetsPane},FL=Object(g.connect)(_L,RL)(Object(le.b)(PL)),zL=FL,BL=function(e){var t=e.id,a=e.activeListId,n=e.previewOnly,r=void 0!==n&&n,s=e.isMobileAnalysisPreview,o=void 0!==s&&s,i=e.showCmsInsert,l=void 0!==i&&i,c=Object(b.useState)({}),d=c[0],u=c[1];return h.a.createElement("div",{className:_()("flex flex-column","h-100 flex-grow-1 flex-grow-md order-1-md","overflow-x-hidden")},!r&&h.a.createElement(nL,{id:t,dimensions:d}),h.a.createElement(vL,{id:t,onTemplateDimensionsChange:u,activeListId:a,isMobileAnalysisPreview:o,showCmsInsert:l}),!r&&h.a.createElement(zL,{id:t}))},UL=BL,VL=Object(k.default)(Jo).withConfig({displayName:"AssetDrilldownTabsManagerstyles__StyledHint",componentId:"sc-8y9nb0-0"})(["&.-hint___3q.-centerleft___1i{left:0;}.-triangle____a{display:none;}&.-hint___3q.-bottomleft___5z{left:0;bottom:12px;}&.-hint___3q.-top___3s{top:10px;left:0;}.tip-container.-centerleft___1i{left:-20px;}.tip-container{text-align:left;}"]),GL=k.default.div.withConfig({displayName:"AssetDrilldownTabsManagerstyles__StyledHintBody",componentId:"sc-8y9nb0-1"})(["white-space:normal;width:300px;& > div:first-child{font-size:18px;color:",";padding-bottom:10px;}& > div:nth-of-type(2){font-size:14px;line-height:20px;color:",";}"],At.a.color.gray90,At.a.color.gray80),WL=function(e){var t=e.id,a=e.activeListId,n=e.viewableTabs,r=e.previewedPreset,s=e.isAnalysisTabEnabled,o=e.isCommentsEnabled,i=e.forceShowComments,l=e.isTabletLayout,c=e.showCmsInsert,d=e.tabPosition;return[{id:ft.f,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.preview.title"),component:h.a.createElement(UL,{id:t,activeListId:a,previewOnly:l,showCmsInsert:c}),display:n.includes(ft.f),icon:l&&"eyeOn"},{id:ft.g,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.summary.title"),component:h.a.createElement(bM,{id:t}),display:n.includes(ft.g),icon:l&&"info"},{id:ft.e,title:h.a.createElement("div",{style:{position:"unset"}},h.a.createElement(VL,{id:"metadata-tab-asset-drilldown",position:"bottom"===d?Ot.TOP:Ot.CENTER_LEFT},h.a.createElement(GL,null,h.a.createElement("div",null,Object(Ue.j)("assetDrilldown.hint.title")),h.a.createElement("div",null,Object(Ue.j)("assetDrilldown.hint.body")))),Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.metadata.title")),component:h.a.createElement(VM,{id:t}),display:n.includes(ft.e),icon:l&&"contextualMetadata"},{id:ft.a,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.title"),component:r.transformation?h.a.createElement(YM,null):h.a.createElement(iA,null),display:n.includes(ft.a)&&s,icon:l&&"imageAnalysis"},{id:ft.b,title:Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.comments.title"),component:h.a.createElement(MD,{id:t,forceShowComments:i}),display:n.includes(ft.b)&&o,icon:l&&"comment"}]},HL=function(e){var t=e.id,a=e.activeListId,n=e.forceShowComments,r=e.isCommentsEnabled,s=e.viewableTabs,o=e.isTabletLayout,i=e.showCmsInsert,l=e.isAnalysisTabEnabled,c=e.tabPosition,d=e.tabSize,u=e.tabsLayout,m=e.activeTab,p=e.trackEvent,f=e.previewedPreset,g=e.loadAnalysisData,v=e.loadEmbeddedMetaData,E=e.resetAnalysisTab;Object(b.useEffect)((function(){var e=s.includes(ft.a)&&l;return s.includes(ft.e)&&v(t),e&&g(t),function(){e&&E()}}),[s,t,g,l,v,E]);var y=Object(b.useMemo)((function(){return WL({id:t,viewableTabs:s,previewedPreset:f,isAnalysisTabEnabled:l,activeListId:a,isCommentsEnabled:r,forceShowComments:n,isTabletLayout:o,showCmsInsert:i,tabPosition:c})}),[t,s,f,l,a,r,n,o,i,c]);return h.a.createElement(Et,{activeId:m,onTabClick:function(e){p(fe.f.NAVIGATE,e+" tab"),Object(be.k)({id:t},e)},dataTest:"manage-tabs",tabs:y,tabPosition:c,tabSize:d,tabsLayout:u})},YL=function(e){return{isAnalysisTabEnabled:Object(jt.selectIsAnalysisTabEnabled)(e),activeTab:Object(jt.selectAssetDrilldownActiveTab)(e),previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e)}},QL={loadAnalysisData:eC.loadAnalysisData,loadEmbeddedMetaData:lA.loadEmbeddedMetaData,resetAnalysisTab:eC.resetAnalysisTab},KL=Object(g.connect)(YL,QL)(HL),ZL=Object(le.b)(KL),qL=function(e){return function(t){e(fe.f.SHOW_HIDE,t?"show manage page info panel":"hide manage page info panel")}},XL=Object(k.default)(dM.a).withConfig({displayName:"AssetDrilldownInfo__StyledCollapsiblePanel",componentId:"ht2v2l-0"})(["@media ","{margin:0 !important;.collapsible-panel-toggle-button{display:none;}}& > button{z-index:100;}"],fe.s.MD),JL=function(e){var t,a=e.id,n=e.tabs,r=e.isCommentsPaneOpen,s=e.trackEvent;return h.a.createElement(XL,{showCollapseOnHover:!0,persistenceKey:"asset-manage-info-pane-collapsible",toggleCallback:qL(s)},h.a.createElement("div",{className:_()(nn.a.tabs,"order-0-md","flex-grow flex-none-md","h-100-md w-100","bg-white",(t={},t[nn.a.withCommentsPaneOpen]=r,t))},h.a.createElement(ZL,{id:a,viewableTabs:n})))},$L=function(e){return{isCommentsPaneOpen:Ve.a.UserPreferences.isCommentsPaneOpen.get(e)&&!v.isIE}},eS=Object(g.connect)($L,null)(JL),tS=Object(le.b)(eS),aS=[ft.g,ft.e,ft.a],nS=function(e){var t=e.id,a=e.activeListId,n=e.isCommentsEnabled,r=Object(g.useSelector)(jt.selectAssetDrilldownActiveTab);return Object(b.useEffect)((function(){aS.includes(r)||Object(be.k)({id:t},ft.g)}),[]),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"flex flex-column flex-row-md h-100 flex-auto overflow-y-auto"},h.a.createElement(UL,{id:t,activeListId:a}),h.a.createElement(tS,{id:t,tabs:aS})),n&&h.a.createElement(MD,{id:t}))},rS=nS,sS=[ft.f,ft.g,ft.e,ft.a,ft.b],oS=function(e){var t=e.id,a=e.activeListId,n=e.isCommentsEnabled,r=Object($d.b)();return h.a.createElement(ZL,{id:t,viewableTabs:sS,tabPosition:"bottom",tabSize:"xs",activeListId:a,isCommentsEnabled:n,forceShowComments:!0,isTabletLayout:!0,showCmsInsert:r,tabsLayout:r?"fixed":"stretch"})},iS=oS,lS="100px",cS=k.default.div.withConfig({displayName:"PdfViewerstyles__IframeWrapper",componentId:"sc-11y1pto-0"})(["width:calc(100vw - ",");height:calc(var(--vh,1vh) * 100 - ",");"],lS,lS),dS=k.default.div.withConfig({displayName:"PdfViewerstyles__ModalWrapper",componentId:"sc-11y1pto-1"})(["position:relative;"]),uS=Object(k.default)(pv.ModalCloseIcon).withConfig({displayName:"PdfViewerstyles__StyledModalCloseIcon",componentId:"sc-11y1pto-2"})(["position:absolute;right:-30px;top:-5px;path{fill:"," !important;}"],At.a.color.gray50),mS="PDF_VIEWER",pS=function(e){var t=e.hideModal,a=e.url,n=e.filename;return h.a.createElement(Wo.d,{onClose:t},h.a.createElement(dS,{"data-test":"pdf-viewer-modal"},h.a.createElement(uS,null),h.a.createElement(cS,null,h.a.createElement("iframe",{src:a+"/"+n,title:"Preview "+n+" pdf file",width:"100%",height:"100%"}))))},fS={hideModal:wa.hideModal},bS=Object(g.connect)(null,fS)(pS);Ba.a.register(mS,bS);var hS=a(878),gS=a(873),vS=a(164),ES=a(426),yS=function(e){var t=Object(b.useState)(!1),a=t[0],n=t[1];return h.a.createElement(bn.b,W()({},e,{progress:a,size:"sm",skin:"action",icon:x.move,dataTest:"move-btn",onClick:function(){var t;a||(n(!0),null===(t=e.onClick)||void 0===t||t.call(e))}}),Object(Ue.j)("moveAsset.move"))},jS=yS,OS=function(e){var t=e.className,a=e.onMove,n=e.initialId,r=e.createList,o=e.removeList,l=Object(b.useState)(n),c=l[0],d=l[1],u=ES.b+"_"+c;Object(b.useEffect)((function(){return r(u,{itemType:he.c,filter:{id:c}}),function(){o(u)}}),[c,u,r,o]);var m=function(){var e=i()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.id);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(b.useCallback)((function(){a(c)}),[c,a]),f=c===n;return h.a.createElement("div",{className:_()(t,"folders-sidebar dropdown")},h.a.createElement(ZE,{listId:u,opButtonComponent:jS,opButtonComponentOnClick:p,opButtonComponentDisabled:f,onItemClick:m,onFolderCreated:m}))},wS={createList:Fn.createList,removeList:Fn.removeList},IS=Object(g.connect)(null,wS)(OS),TS=IS,MS=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"onMove",function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.props.trackEvent(fe.f.MOVE,t.props.item.itemType+" moved to folder successfully"),t.toggle(!1),e.next=4,t.props.updateItem(t.props.item,ge.k.FOLDER_ID,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p()(c()(t),"toggle",(function(e){t.props.togglePopover(ge.j.MOVE_ASSET,e)})),t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.isPopoverOpen,a=e.isAddFolderModalOpen,n=e.item;return h.a.createElement("div",{className:ue.a.assetFoldersPathPopover},h.a.createElement(Lh.a,{isOpen:t,toggle:this.toggle},h.a.createElement(gS.a,null,this.props.children),h.a.createElement(iE.a,{closeOnClickOutside:!a,placement:"bottom-end"},h.a.createElement(TS,{className:ue.a.drilldownMoveAsset,onMove:this.onMove,initialId:n.folderId}))))},t}(h.a.Component),CS=function(e){return{isPopoverOpen:Object(kh.selectIsPopoverOpen)(e,ge.j.MOVE_ASSET),isAddFolderModalOpen:Object(vS.selectAnyModalOpen)(e)}},NS={togglePopover:Dh.default,updateItem:j.updateItem},xS=Object(g.connect)(CS,NS)(MS),AS=vp(Object(le.b)(xS)),DS=Object(k.default)(Xe.a).withConfig({displayName:"CommentsPaneButton__StyledButton",componentId:"fatyju-0"})(["margin-right:-",";"],At.a.spacing.xs),LS=function(e){var t=e.totalNewComments,a=void 0===t?0:t,n=e.isCommentsEnabled,r=e.togglePane,s=e.isCommentsPaneOpen,o=e.trackEvent;if(!n)return null;return h.a.createElement("div",{className:"relative pl2 bl b--gray-50"},h.a.createElement(DS,{type:Je.a.MENU,icon:"comment",dataTest:"comment-button",onClick:function(){r(),o(fe.f.SHOW_HIDE,s?"close comments pane":"open comments pane")},selected:s,size:"md"}),a>0&&h.a.createElement(Ah,{label:""+a,skin:"primary",size:"sm",fixed:!0,className:"absolute",position:{top:"5px",right:"8px"}}))},SS=function(e){return{isCommentsEnabled:Object(jt.selectCommentsEnabled)(e)&&!v.isIE,isCommentsPaneOpen:Ve.a.UserPreferences.isCommentsPaneOpen.get(e)}},kS={togglePane:cA.toggleCommentsPane},PS=Object(g.connect)(SS,kS)(LS),_S=Object(le.b)(PS),RS=Object(k.default)(Xe.a).withConfig({displayName:"MediaEditorButton__StyledMediaEditorButton",componentId:"pzdk6k-0"})(["display:flex;"]),FS=function(e){var t=e.isVideo,a=e.disabled,n=e.onClick,r=t?"trimMovie":"cropRotate",s=t?Object(Ue.j)("assetdrilldownTopBar.trimVideo"):Object(Ue.j)("assetdrilldownTopBar.editImage");return h.a.createElement(RS,{dataTest:"media-editor-button",size:"md",breakpoint:"md",icon:r,disabled:a,onClick:n,variant:"secondary"},s)},zS=FS,BS=function(e){return YS.reduce((function(t,a){var n=a.filter((function(t){return US(e,t)}));return n.length&&t.push(n),t}),[])},US=function(e,t){return!!e||!QS.includes(t)},VS=Object(k.css)(["height:","px;box-shadow:0px 0px 8px 0 rgba(0,0,0,0.5);width:100%;background:white;position:relative;"],bT.a),GS=k.default.div.withConfig({displayName:"AssetDrilldownTopBar__TopBarWrapper",componentId:"sc-7s26y3-0"})(["",";display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-end;background-color:white;flex:0;box-sizing:border-box;z-index:3;"],VS),WS=k.default.div.withConfig({displayName:"AssetDrilldownTopBar__AssetHeaderWrapper",componentId:"sc-7s26y3-1"})(["display:flex;flex-direction:column;flex-grow:1;align-content:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-left:1px solid ",";padding-left:1rem;"],tt.m),HS=Object(k.default)(Xe.a).withConfig({displayName:"AssetDrilldownTopBar__TransformButton",componentId:"sc-7s26y3-2"})(["display:flex;"]),YS=[[ce.a.COPY_ITEM,ce.a.DELIVER_ITEM],[ce.a.RENAME_ITEM,ce.a.MOVE_ITEM],[ce.a.APPROVE_ITEM,ce.a.REJECT_ITEM],[ce.a.DOWNLOAD_ITEM,ce.a.VERSION_HISTORY],[ce.a.DELETE_ITEM]],QS=[ce.a.COPY_ITEM,ce.a.DELIVER_ITEM],KS=function(e){var t=e.item,a=e.trackEvent,n=e.toggleMediaEditorWidget,r=v.isMobile,s=Object($d.d)(),o="video"===(null==t?void 0:t.resourceType),i=Object(b.useCallback)((function(){a(fe.f.EDIT,o?"intent to trim video":"intent to edit image"),n(),Object(rT.h)()}),[a,n,o]);if(!t)return null;var l=e.isItemOperationAllowed(t,ce.a.RENAME_ITEM),c=BS(s),d=Object(hS.a)(c,e.customActions);return h.a.createElement(GS,{"data-test":"manage-top-bar"},h.a.createElement(IT,null,h.a.createElement(fh,{onClick:function(){e.trackEvent(fe.f.NAVIGATE,"back to grid"),Object(be.j)()},tooltipText:Object(Ue.j)("assetDrilldown.close"),icon:"cross"}),h.a.createElement(WS,null,h.a.createElement("div",{className:_()("flex items-center","truncate","fw5","f-sm f-md-md")},h.a.createElement(oa,{className:"mr1",size:"sm",asset:t,format:!1}),h.a.createElement(qe,{dataTest:"item-title",item:t,readOnly:!l})),h.a.createElement(Le,{className:"gray-60 f-xs fw4 truncate",item:t,icon:A(t),size:"xxs",progress:Object(mt.h)(t)}))),h.a.createElement(TT,null,e.isTabletLayout&&!e.isMobileLayout&&h.a.createElement(QD,{onClick:e.cmsInsertWithTransformation,size:"md"}),!e.isTabletLayout&&Object(rT.i)(t)&&h.a.createElement(zS,{isVideo:o,disabled:e.isItemUpdating,onClick:i}),e.isTabletLayout&&h.a.createElement(Xe.a,{type:Je.a.MENU,size:"md",breakpoint:"sm",dataTest:"mobile-presets-button",icon:"derived",onClick:function(){Object(rT.h)(),e.togglePresetsOverlay(),e.trackEvent(fe.f.NAVIGATE,"mobile - transformation presets page - "+t.resourceType)}},Object(Ue.j)("assetdrilldownTopBar.presets")),t.thumbnailUrl&&"pdf"===t.format&&e.isPdfPreviewEnabled&&h.a.createElement(Xe.a,{dataTest:"pdf-preview-button",size:"md",breakpoint:"md",variant:"secondary",icon:"eyeOn",onClick:function(){var a=t.thumbnailUrl+"/"+ur.a.AS_IS;e.trackEvent(fe.f.CLICK,"intent to preview pdf"),v.isMobile?window.open(a,"_blank"):e.showModal(mS,{url:a,filename:t.filename})}},Object(Ue.j)("assetdrilldownTopBar.pdfPreview")),e.immutableLinks&&h.a.createElement(Xe.a,{dataTest:"share-button",size:"md",breakpoint:"md",variant:"primary",icon:"share",onClick:function(){var t,a,n,r;e.trackEvent(fe.f.SHARE,"intent to share "+((null===(t=e.item)||void 0===t?void 0:t.itemType)||"")),e.showModal(id,{shareItemId:null===(a=e.item)||void 0===a?void 0:a.id,shareItemType:null===(n=e.item)||void 0===n?void 0:n.itemType,mode:dl.INNER_LINK,trackingCategory:Object(Ue.j)(Ii.a.CATEGORY,{shareItemType:null===(r=e.item)||void 0===r?void 0:r.itemType})})}},Object(Ue.j)("assetdrilldownTopBar.share")),!e.isTabletLayout&&!e.immutableLinks&&h.a.createElement(HS,{dataTest:"transform-button",size:"md",breakpoint:"md",variant:"primary",icon:"transform",onClick:function(){e.trackEvent(fe.f.NAVIGATE,"transform asset page"),Object(be.m)(t)}},Object(Ue.j)("assetDrilldown.transform")),"deleted"!==t.substatus&&h.a.createElement(AS,{item:t},h.a.createElement(wE,{item:t,operations:d,toogleButtonSize:"md",disableTooltip:!0,className:"ma1",isMobileOrTabletDevice:r})),!e.isTabletLayout&&h.a.createElement(_S,null)))},ZS=function(e,t){return{item:Object(_t.selectItem)(e,ge.m,t.id),isItemUpdating:Object(_t.selectItemIsUpdating)(e,ge.m,t.id),immutableLinks:Object(zt.selectIsImmutableLinks)(e),isPdfPreviewEnabled:Object(jt.selectIsPdfPreviewEnabled)(e),isItemOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),customActions:Object(lv.selectSingleSelectCustomActions)(e)}},qS={updateItem:j.updateItem,setError:Ve.a.ItemTitle.error.set,showModal:wa.showModal,toggleMediaEditorWidget:Nn.toggleMediaEditorWidget,togglePresetsOverlay:Nn.togglePresetsOverlay,cmsInsertWithTransformation:Nn.cmsInsertWithTransformation},XS=Object(g.connect)(ZS,qS)(KS),JS=Object(le.b)(XS),$S=a(1225),ek=function(e){var t,a=e.asset,n=e.size,r=void 0===n?"":n,s=e.color,o=void 0===s?"":s,i=e.className,l=_()(i,"di nowrap",((t={})["f-"+r]=!!r,t["lh-"+r]=!!r,t[String(o)]=!!o,t));return h.a.createElement("div",{className:l,"data-test":"asset-duration"},la(a.duration))},tk=ek,ak=k.default.table.withConfig({displayName:"AssetDrilldownPresetPropertiesMobile__DataTable",componentId:"sc-1fpzyib-0"})(["tr{td{vertical-align:middle;padding:"," 0 "," ",";}td:first-child{width:80px;padding:"," "," "," 0;}}"],At.a.spacing.xxs,At.a.spacing.xxs,At.a.spacing.xxs,At.a.spacing.xxs,At.a.spacing.xxs,At.a.spacing.xxs),nk=function(e){var t=e.asset,a=e.dimensions,n=e.transformation,r=!n,s=SD(t,a,n),o=t&&LD(t.resourceType,t.resourceSubtype,s,n),i="video"===t.resourceType;return h.a.createElement(ak,null,h.a.createElement("tbody",null,r&&h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement(Lt.a,{size:"xs",type:"lowContrast"},Object(Ue.j)("assetDrilldown.fileType"))),h.a.createElement("td",null,h.a.createElement(oa,{asset:t,size:"xs",color:"white"}))),o&&h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement(Lt.a,{size:"xs",type:"lowContrast"},Object(Ue.j)("assetDrilldown.resolution"))),h.a.createElement("td",null,h.a.createElement(ND,{asset:s,size:"xs",color:"white"}))),r&&h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement(Lt.a,{size:"xs",type:"lowContrast"},Object(Ue.j)("assetDrilldown.weight"))),h.a.createElement("td",null,h.a.createElement(xD.a,{asset:t,size:"xs",color:"white"}))),i&&h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement(Lt.a,{size:"xs",type:"lowContrast"},Object(Ue.j)("assetDrilldown.duration"))),h.a.createElement("td",null,h.a.createElement(tk,{asset:t,size:"xs",color:"white"})))))},rk=Object(k.default)(XD).withConfig({displayName:"AssetDrilldownPresetsstyles__StyledAssetDrilldownPresetBarAssetUrl",componentId:"nuz2ni-0"})(["div,span button{background:#191d23;}"]),sk=k.default.div.withConfig({displayName:"AssetDrilldownPresetsstyles__TransformationsContainer",componentId:"nuz2ni-1"})(["width:100vw;height:calc(100vh - ","px);height:calc(var(--vh,1vh) * 100 - ","px);position:absolute;top:0;left:0;display:flex;flex-direction:column;z-index:10;background:",";"],(function(e){return e.mlHeaderHeight}),(function(e){return e.mlHeaderHeight}),tt.j),ok=k.default.div.withConfig({displayName:"AssetDrilldownPresetsstyles__Section",componentId:"nuz2ni-2"})([""]),ik=Object(k.default)(Es.CollapsibleCard).withConfig({displayName:"AssetDrilldownPresetsstyles__StyledCollapsibleCard",componentId:"nuz2ni-3"})(["& > div:first-child{margin:0;}",":first-child{margin:0 0 "," 0;}",":last-child{margin:"," 0 0 0;}"],ok,At.a.spacing.md,ok,At.a.spacing.md),lk=k.default.div.withConfig({displayName:"AssetDrilldownPresetsstyles__Slot",componentId:"nuz2ni-4"})(["display:flex;align-items:center;"]),ck=Object($S.a)(!0),dk=Object($S.a)(!1),uk=function(e){var t=e.id,a=e.previewedPreset,n=e.togglePresetsOverlay,r=e.cmsInsertWithTransformation,s=e.mlHeaderHeight,o=e.asset,i=e.isMobileLayout,l=Object(bd.a)(),c=Object(b.useState)({}),d=c[0],u=c[1],m=Object(b.useState)(!1),p=m[0],f=m[1],g=a.name,v=a.derivedUrl,E=a.transformation;return h.a.createElement(sk,{mlHeaderHeight:s},h.a.createElement(k.ThemeProvider,{theme:ck},h.a.createElement(ik,{isExpanded:p,setExpanded:function(e){l(fe.f.SHOW_HIDE,"mobile - preset "+(e?"show":"hide")+" info"),f(e)},header:h.a.createElement(lk,null,h.a.createElement(Fp.ButtonMenu,{"data-test":"close-transformations",onClick:n},h.a.createElement(et.a,{name:"arrowBack"})),h.a.createElement(Lt.a,{size:"sm"},g)),actions:h.a.createElement(lk,null,!i&&h.a.createElement(k.ThemeProvider,{theme:dk},h.a.createElement(QD,{onClick:function(e){e.stopPropagation(),r()},size:"md"})))},h.a.createElement(ok,null,h.a.createElement(rk,{asset:o,derivedUrl:v,transformation:E,canTransform:!1,forceIsImmutableLinks:!1})),h.a.createElement(ok,null,h.a.createElement(nk,{asset:o,transformation:E,dimensions:d})))),h.a.createElement(vL,{id:t,onTemplateDimensionsChange:u,showCmsInsert:i}),h.a.createElement(zL,{id:t,canToggle:!1}))},mk=function(e,t){return{asset:Object(_t.selectItem)(e,ge.m,t.id),previewedPreset:Ve.a.AssetDrilldown.previewedPreset.get(e)}},pk={togglePresetsOverlay:Nn.togglePresetsOverlay,cmsInsertWithTransformation:Nn.cmsInsertWithTransformation},fk=Object(g.connect)(mk,pk)(uk),bk=function(e){var t=e.id,a=e.markedRegionTitle,n=e.toggleMobileAnalysisPreview,r=e.setMarkedRegion;return h.a.createElement(yT,null,h.a.createElement(jT,null,h.a.createElement("span",null,Object(Ue.j)("assetDrilldown.drilldownInfo.tabs.analysis.preview"),": ",a),h.a.createElement(wT,{shape:"pill",onClick:function(){n(),r()},size:"sm"},h.a.createElement(et.a,{name:"cross",size:"sm",color:"white"}))),h.a.createElement(OT,null,h.a.createElement(UL,{id:t,previewOnly:!0,isMobileAnalysisPreview:!0})))},hk=function(e){return{markedRegionTitle:Object($M.selectMarkedRegionTitle)(e)}},gk={toggleMobileAnalysisPreview:Nn.toggleMobileAnalysisPreview,setMarkedRegion:eC.setMarkedRegion},vk=Object(g.connect)(hk,gk)(bk),Ek=function(e){var t=e.id,a=e.secureUrl,n=e.previewPreset,r=e.isCommentsEnabled,s=e.activeListId,o=e.cleanupAssetManage,i=e.isPresetsOverlayOpen,l=e.mlHeaderHeight,c=e.isMobileAnalysisPreviewOpen;Object(b.useEffect)((function(){return n({name:"Original",derivedUrl:a,transformation:null,presetIndex:0}),function(){o()}}),[t,a,n,o,i]);var d=Object($d.d)(),u=Object($d.b)(),m=d||u?iS:rS;return h.a.createElement(le.a.Provider,{value:fe.g.DRILLDOWN},h.a.createElement("div",{"data-test":"new-drill-down",id:"new-drill-down",className:"db"},c&&h.a.createElement(vk,{id:t}),h.a.createElement(JS,{id:t,isTabletLayout:d,isMobileLayout:u}),h.a.createElement(gT,{className:"flex flex-row-md bg-white",mlHeaderHeight:l},h.a.createElement(m,{id:t,activeListId:s,isCommentsEnabled:r}))),i&&h.a.createElement(fk,{id:t,mlHeaderHeight:l,isMobileLayout:u}))},yk=function(e,t){return{secureUrl:Object(jt.selectAssetSecureUrl)(e,t.id),isCommentsEnabled:Object(jt.selectCommentsEnabled)(e),isPresetsOverlayOpen:Object(jt.selectIsPresetsOverlayOpen)(e),mlHeaderHeight:Object(En.selectMLHeaderHeight)(e),isMobileAnalysisPreviewOpen:Object(jt.selectIsMobileAnalysisPreviewOpen)(e)}},jk={previewPreset:Nn.previewPreset,cleanupAssetManage:Nn.cleanupAssetManage},Ok=Object(g.connect)(yk,jk)(Ek),wk=Ok,Ik=Object(k.default)(vn.a).withConfig({displayName:"AssetDrilldownFacade__StyledSpinner",componentId:"idgnql-0"})(["width:100%;"]),Tk=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{isInProgress:!0}),t}u()(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.props.setMainBarVisibility(!0),this.props.resetDrilldown()},a.loadAsset=function(){var e=i()(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isInProgress:!this.props.item}),a=null===(t=this.props.resourceId)||void 0===t?void 0:t.match(new RegExp(ge.h)),n=Object(mt.h)(this.props.item),e.next=5,this.props.loadItem(ge.m,this.props.resourceId,a?{forceLoad:n}:{apiIdPropName:"resourceId",forceLoad:n});case 5:null!=(r=e.sent)&&r.id&&(this.props.addToRecentItems(r),this.props.activeListId&&this.props.setListActiveItemIdAction(this.props.activeListId,r.id)),this.setState({isInProgress:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.componentDidMount=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setMainBarVisibility(!1),e.next=3,this.loadAsset();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.componentDidUpdate=function(){var e=i()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.resourceId===this.props.resourceId){e.next=3;break}return e.next=3,this.loadAsset();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){if(this.state.isInProgress)return h.a.createElement("div",{className:"empty-content pt6"},h.a.createElement("div",{className:"empty-folder"},h.a.createElement(Ik,null)));if(this.props.item){var e=this.props.item,t=e.publicId,a=e.thumbnailUrl;return h.a.createElement(gp.Provider,{value:this.props.item},this.props.isManageMode&&h.a.createElement(wk,{id:this.props.item.id,activeListId:this.props.activeListId}),this.props.isTransformMode&&h.a.createElement(lM,{item:this.props.item}),!this.props.isManageMode&&!this.props.isTransformMode&&h.a.createElement(tT.default,null),Object(rT.i)(this.props.item)&&h.a.createElement(le.a.Provider,{value:fe.g.MEDIA_EDITOR_WIDGET},h.a.createElement(UT,{isVisible:this.props.isMediaEditorOpen,publicId:t,itemId:this.props.item.id,cloudName:this.props.currentCustomer.cloud_name,thumbnailUrl:a})))}return h.a.createElement(tT.default,null)},t}(h.a.Component),Mk=function(e){return{resourceId:Object(jt.selectAssetDrilldownResourceId)(e),item:Object(jt.selectDrilldownAsset)(e),isManageMode:Object(jt.selectIsAssetDrilldownManageMode)(e),isTransformMode:Object(jt.selectIsAssetDrilldownTransformMode)(e),currentCustomer:Object(zt.selectCurrentCustomer)(e),isMediaEditorOpen:Object(jt.selectIsMediaEditorOpen)(e)}},Ck={resetDrilldown:Ve.a.AssetDrilldown.reset,loadItem:j.loadItem,addToRecentItems:aT.addToRecentItems,setListActiveItemIdAction:Fn.setListActiveItemIdAction,setMainBarVisibility:VT.setMainBarVisibility},Nk=Object(g.connect)(Mk,Ck)(Tk),xk=Nk,Ak=a(4151),Dk=a(3946),Lk=a.n(Dk),Sk=a(377),kk=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"],Pk=new RegExp(kk.join("|")),_k=function(e){return Pk.test(e)},Rk=function(e){return!_k(e)},Fk=a(1488),zk=a(867),Bk={drop:function(e,t){var a=t.getItem();return a&&(a.urls&&a.urls.length?Object(Sk.f)(a.urls):a.dirContent.then((function(e){(e.length||a.files&&a.files.length)&&Object(Sk.f)(Uk(e))}))),{dndFinished:!0}}},Uk=function(e){return Lk()(e,(function(e){return Rk((e.hdcFullPath||e.name).replace(/^.*\//,""))}))},Vk=function(e,t){return{connectDropTarget:e.dropTarget(),isDragOver:t.isOver()}},Gk=function(e){return Object(Fk.a)([zk.NativeTypes.FILE,zk.NativeTypes.URL],Bk,Vk)(e)},Wk=a(157),Hk=(a(3947),function(e){return h.a.createElement("div",{className:"upload-block"},h.a.createElement("div",{className:"center-box"},h.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"center-svg"},h.a.createElement("path",{className:"icon-1",fillRule:"evenodd",fill:"#001FBB",d:"M46.12 41.82V5.84C46.12 3.01 43.812.7 40.993.7H5.122C2.302.7-.003 3.01-.003 5.84v35.98c0 2.825 2.306 5.138 5.125 5.138h35.872c2.82 0 5.125-2.313 5.125-5.14zM14.09 27.683l6.405 7.735 8.97-11.59 11.53 15.418H5.12l8.968-11.564z"}),h.a.createElement("path",{className:"icon-2",fillRule:"evenodd",fill:"#0078FF",d:"M45.978 9.375l1.926 10.328-6.76-1.944-1.926-10.33-4.507-1.295 1.926 10.328-6.76-1.945L27.95 4.19l-4.508-1.296 1.926 10.328-6.76-1.944L16.68.95 14.428.302c-2.48-.713-5.066.742-5.776 3.225L.882 30.62c-.71 2.483.738 5.098 3.217 5.81L40.156 46.8c2.48.714 5.09-.734 5.8-3.22l9.036-31.612-9.015-2.593z"}),h.a.createElement("path",{className:"icon-3",fillRule:"evenodd",fill:"#20B832",d:"M3.34 5.2C.994 5.916-.32 8.42.392 10.77L10.724 45c.71 2.352 3.192 3.7 5.538 2.985l25.61-7.795c2.346-.713 3.683-3.223 2.972-5.575L37.078 8.947 20.4.01 3.34 5.2zm19.458 10.43l-3.56-11.764 15.29 8.194-11.73 3.57z"}),h.a.createElement("g",{className:"cloudic"},h.a.createElement("defs",null,h.a.createElement("linearGradient",{id:"a",x1:"0%",x2:"0%",y1:"100%",y2:"0%"},h.a.createElement("stop",{offset:"0%",stopColor:"#FF620C"}),h.a.createElement("stop",{offset:"100%",stopColor:"#FD9D2B"}))),h.a.createElement("path",{fillRule:"evenodd",fill:"#FFF",d:"M79.84 24.894C77.033 10.704 64.514 0 49.5 0 37.58 0 27.246 6.765 22.07 16.644 9.672 17.984 0 28.484 0 41.25 0 54.924 11.076 66 24.75 66h53.625C89.76 66 99 56.76 99 45.375c0-10.89-8.477-19.718-19.16-20.48zm-22.09 12.23v16.5h-16.5v-16.5H28.875L49.5 16.5l20.625 20.625H57.75z"}),h.a.createElement("path",{fill:"url(#a)",d:"M79.84 24.894C77.033 10.704 64.514 0 49.5 0 37.58 0 27.246 6.765 22.07 16.644 9.672 17.984 0 28.484 0 41.25 0 54.924 11.076 66 24.75 66h53.625C89.76 66 99 56.76 99 45.375c0-10.89-8.477-19.718-19.16-20.48zm-22.09 12.23v16.5h-16.5v-16.5H28.875L49.5 16.5l20.625 20.625H57.75z"}))),h.a.createElement("div",{className:"text-box"},h.a.createElement("strong",{className:"subtitle"},Object(Ue.j)("mediaLibrary.grid.dropActive")),h.a.createElement("div",{className:"flex justify-center flex-grow items-center gray-70 location mw-100 lh-xl"},h.a.createElement(ee.a,{path:x.folder,size:"xs",color:"gray-70",className:"flex-none"}),h.a.createElement(K.a,{lines:1,dataTest:"location-path-name",render:function(t){return h.a.createElement("span",{className:"location-path f-xs"},t(e.selectedFolder||Object(Ue.j)("folders.root")))}})))))}),Yk=Hk;Object(Ue.h)(ub.selectPreviewPaneOpen,(function(e){window.innerWidth>fe.o?yt.a.setItem(pe.B.PREVIEW_PANE_DEFAULT_IS_OPEN,e):yt.a.setItem(pe.B.PREVIEW_PANE_DEFAULT_IS_OPEN,!1)}));var Qk=a(125),Kk=a(130),Zk=a.n(Kk),qk=a(733),Xk=a.n(qk),Jk=a(1582),$k=function(e){var t=e.role,a=e.itemType,n=e.filter;if(!e.isEmptyList)return null;var r=a&&Object(Hl.e)(a,n);return h.a.createElement("div",{className:_()("ph2 h-100",pI.a["grid-container"],{dn:!r})},h.a.createElement("div",{"data-test":"empty-content",className:"empty-content h-100 flex flex-column flex-grow"},r&&h.a.createElement("div",{className:"min-h-100"},h.a.createElement(r,{filter:n,role:t})),!r&&me.g&&h.a.createElement("pre",null,"No 'EmptyFilterComponent' provided for itemType: '"+(a||"null")+"' with filter:\n"+(JSON.stringify(n,null,4)||""))))},eP=function(e,t){return{itemType:Object(Ft.selectListItemType)(e,t.listId),filter:Object(Ft.selectListFilter)(e,t.listId),isEmptyList:Object(Ft.selectIsListEmpty)(e,t.listId)}},tP=Object(g.connect)(eP,{})($k),aP=50,nP=1e3,rP=500,sP=function(e,t){return t.reduce((function(t,a){var n=a.listId,r=a.visible,o=Object(b.useState)(!0),l=o[0],c=o[1],d=e[n+"TotalCount"],u=d,m=!1,p=e[n+"NextCursor"],f=e[n+"ItemType"],h=e[n+"IsEmpty"],g=e[n+"ItemCount"],v=e.getGridHeaderData,E=Object(b.useMemo)((function(){return{}}),[]);null!==d||h||(m=!0,d=p?Math.max(aP,2*g):g),!m&&!p&&d>g&&(d=g);var y=Object(b.useMemo)((function(){return{}}),[d]),j=Object(b.useMemo)((function(){return{}}),[d]),O=Object(b.useCallback)(i()(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E[n].inProgress){t.next=11;break}if(!(a=E[n].requests.shift())){t.next=11;break}return E[n].inProgress=!0,t.prev=4,t.next=7,e.ensureListItemLoaded(n,a);case 7:return t.prev=7,E[n].inProgress=!1,O(),t.finish(7);case 11:case"end":return t.stop()}}),t,null,[[4,,7,11]])}))),[n,E]),w=Object(b.useCallback)((function(e,t){E[n]=E[n]||{},E[n].requests=E[n].requests||[],E[n].requests.push(t),O()}),[n,E,O]),I=Object(b.useCallback)((function(t){var a,r=null===(a=j[n])||void 0===a?void 0:a[t];return r||(r=e.selectIsListItemLoaded(n,t),j[n]=j[n]||[],j[n][t]=r),r}),[n,g,j]);return t[n]=Object(b.useMemo)((function(){var t=!1,a=d;return d-g>nP&&(t=!0,a=g+rP),{listId:n,isVisible:r,itemType:f,isExpanded:l,totalCount:a,actualTotal:u,isTotalComputed:m||t,itemCount:g,noItemsInList:h,getItemKey:function(t){var a=n+"-"+t,r=y[a];if(!r){var s=e.selectListItem(n,t);r=f+"_"+(s?s.id:t),y[a]=r}return r},getIsLoaded:I,loadMore:w,onItemClicked:function(t){e.clickItem(e.listsIds,t)},toggleSection:function(){c(!l)},getGridHeaderData:v}}),[l,e.listsIds,e.setListsActiveItem,e.clickItem,f,d,p,y,n,v,h,r,I,w]),t}),{})},oP=a(1592),iP=function(e){return"asset-card-actions--"+e},lP=function(e){var t,a=e.asset,n=e.withAnimation,r=void 0!==n&&n;return h.a.createElement(oa,{className:_()(On.a.assetPreviewIcon,(t={},t[On.a.loadingAnimation]=r,t)),asset:a,format:!1,size:"xl4"})},cP=function(e){var t,a,n=Object(b.useCallback)((function(){return h.a.createElement(lP,{withAnimation:!0,asset:e.asset})}),[e.asset]),r=Object(b.useCallback)((function(){return h.a.createElement(lP,{asset:e.asset})}),[e.asset]),s=Object(b.useCallback)((function(){return h.a.createElement(ee.a,{path:x.thumbDown,color:"gray-60",size:"xl4"})}),[]),o=Object(b.useCallback)((function(){return h.a.createElement(ee.a,{path:x.del,color:"gray-60",size:"xl4"})}),[]),i=Object(b.useCallback)((function(){return h.a.createElement(ee.a,{path:x.photo,color:"action-dark",size:"xl4"})}),[]),l=Object(b.useCallback)((function(){return h.a.createElement(lP,{asset:e.asset})}),[e.asset]);return h.a.createElement(Cn,{className:_()(On.a["asset-card-thumbnail"],"box-link",e.className,(t={},t[On.a.showShade]=e.isPopoverOpen,t)),variant:e.variant,id:null===(a=e.asset)||void 0===a?void 0:a.id,loading:n,failed:r,rejected:s,deleted:o,placeholder:i,noPreview:l,addTypeOverlay:!0})},dP=function(e,t){return{variant:Object(oP.selectAssetThumbnailVariant)(e),isPopoverOpen:!!t.asset&&Object(kh.selectPopoverOpen)(e)===iP(t.asset.resource_id)}},uP=Object(g.connect)(dP,{})(cP),mP=uP,pP=a(3948),fP=a.n(pP),bP=function(e){var t,a,n,r=e.asset,s=e.skin,o=void 0===s?"normal":s,i=e.size,l=void 0===i?"sm":i,c=e.canModerate,d=e.className,u=e.disableButton,m=e.onDecline,p=void 0===m?function(){}:m,f=e.onApprove,b=void 0===f?function(){}:f;if(!r.moderation_status)return null;var g=function(e){return e.stopPropagation()},v=_()(fP.a.moderationButton,[fP.a[o]],d,((t={})[fP.a.disabled]=!c||u,t)),E=_()(fP.a.icon,"flex items-center",fP.a.rejected,((a={})[fP.a.active]="rejected"===r.moderation_status,a.rejected="rejected"===r.moderation_status,a)),y=_()(fP.a.icon,"flex items-center",fP.a.approved,((n={})[fP.a.active]="approved"===r.moderation_status,n.approved="approved"===r.moderation_status,n));return h.a.createElement(Z.a,{tooltipText:r.moderation_status,tooltipDisabled:c},h.a.createElement("div",{"data-test":"thumb-box",className:v},h.a.createElement("div",{"data-test":"thumb-down",className:E,onClick:function(e){!u&&c&&(p(),e.stopPropagation())},onDoubleClick:g},h.a.createElement(ee.a,{path:x.thumbDown,size:l})),h.a.createElement("div",{className:fP.a.separator}),h.a.createElement("div",{"data-test":"thumb-up",className:y,onClick:function(e){!u&&c&&(b(),e.stopPropagation())},onDoubleClick:g},h.a.createElement(ee.a,{path:x.thumbUp,size:l}))))},hP=bP,gP=function(e){var t=e.asset,a=e.clearSelection,n=e.skin,r=void 0===n?"transparent":n,o=e.size,l=void 0===o?"sm":o,c=e.updateItem,d=e.readOnly,u=e.canModerate,m=e.trackEvent,p=Object(b.useState)(!1),f=p[0],g=p[1],v=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=7;break}return m(fe.f.MODERATION,t.resource_type+" "+fg.a.REJECTED),g(!0),e.next=5,c(t,ge.k.MODERATION_STATUS,fg.a.REJECTED,ze.q.SET,{disableSuccessToast:!0});case 5:a([t]),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=7;break}return m(fe.f.MODERATION,t.resource_type+" "+fg.a.APPROVED),g(!0),e.next=5,c(t,ge.k.MODERATION_STATUS,fg.a.APPROVED,ze.q.SET,{disableSuccessToast:!0});case 5:a([t]),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h.a.createElement(hP,{className:_()({"read-only":d}),canModerate:u,disableButton:f,asset:t,skin:r,size:l,onDecline:v,onApprove:E})},vP={clearSelection:Rv.clearSelection,updateItem:j.updateItem},EP=Object(g.connect)(null,vP)(gP),yP=Object(le.b)(EP),jP=a(494),OP=(a(3949),a(3852)),wP=a.n(OP),IP=function(e){return"asset-card-actions--"+e},TP=[[ce.a.MANAGE_ITEM,ce.a.TRANSFORM_ITEM,ce.a.ANALYZE_ITEM],[ce.a.SHARE_ITEM,ce.a.COPY_ITEM,ce.a.ACCESS_CONTROL_ITEM,ce.a.DELIVER_ITEM,ce.a.DOWNLOAD_ITEM,ce.a.ADD_TO_COLLECTION,ce.a.SHOW_CONTAINING_ITEM],[ce.a.APPROVE_ITEM,ce.a.REJECT_ITEM],[ce.a.REMOVE_FROM_COLLECTION,ce.a.DELETE_ITEM]],MP=function(e,t){return function(a){a.stopPropagation(),a.preventDefault();var n=t.asset,r=t.trackEvent;if(Object(me.i)(a)){r(fe.f.NAVIGATE,e+" asset page in new tab");var s="";e===ft.k?s=Object(be.c)(n):e===ft.d&&(s=Object(be.b)(n)),window.open(s,"_blank").focus()}else r(fe.f.NAVIGATE,e+" asset page"),e===ft.k?Object(be.m)(n):e===ft.d&&Object(be.k)(n)}},CP=function(e,t){return function(a){e(fe.f.COPY_URL,t+" copied"),a.stopPropagation()}},NP=function(e){return function(t){t.stopPropagation(),e.trackEvent(fe.f.SHARE,"intent to share "+e.asset.itemType),e.showModal(id,{shareItemId:e.asset.id,shareItemType:e.asset.itemType,mode:dl.INNER_LINK,trackingCategory:Object(Ue.j)(Ii.a.CATEGORY,{shareItemType:e.asset.itemType})})}},xP=function(e){var t,a=Object(hS.a)(TP,e.customActions),n=!e.isAssetOperationAllowed(e.asset,ce.a.DELIVER_ASSET_URL);return h.a.createElement("div",{className:_()("flex items-center justify-end ml2",wP.a.assetManagementBtns,(t={},t[wP.a.viewOnly]=!e.viewAsset,t[wP.a.showActions]=e.isPopoverOpen,t))},(e.isAssetOperationAllowed(e.asset,ce.a.COPY_ITEM)||n&&!e.isAssetOperationAllowed(e.asset,ce.a.SHARE_ITEM))&&h.a.createElement(Mg,{asset:e.asset,className:_()("p0",wP.a.hideOnMobile,wP.a.copyUrlBtn),buttonClass:wP.a.assetActionBtn,size:"md",onClick:function(t){n&&Object(bg.b)(e.asset),CP(e.trackEvent,e.asset.resource_type)(t)},isBlockedDeliveryUrl:n}),e.isAssetOperationAllowed(e.asset,ce.a.SHARE_ITEM)&&h.a.createElement("div",{className:_()("p0",wP.a.shareBtn,wP.a.hideOnMobile)},h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("previewPane.asset.share"),tooltipPosition:"top",isSensitive:!1},h.a.createElement(bn.b,{className:wP.a.assetActionBtn,onClick:NP(e),skin:"menuDark",dataTest:"action-share-btn","aria-label":Object(Ue.j)("previewPane.asset.share")},h.a.createElement(ee.a,{size:"md",path:x.share,color:"gray-50"})))),e.viewAsset&&h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("previewPane.asset.manage"),tooltipPosition:"top",isSensitive:!1},h.a.createElement(bn.b,{className:_()("flex",wP.a.assetActionBtn,wP.a.hideOnMobile),onClick:MP(ft.d,e),skin:"menuDark",dataTest:"action-manage-btn","aria-label":Object(Ue.j)("previewPane.asset.manage")},h.a.createElement(ee.a,{size:"md",path:x.build,color:"gray-50"}))),e.isAssetOperationAllowed(e.asset,ce.a.TRANSFORM_ITEM)&&h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("previewPane.asset.edit"),tooltipPosition:"top",isSensitive:!1},h.a.createElement(bn.b,{className:_()("flex",wP.a.assetActionBtn,wP.a.hideOnMobile),onClick:MP(ft.k,e),skin:"menuDark",dataTest:"action-edit-btn","aria-label":Object(Ue.j)("previewPane.asset.edit")},h.a.createElement(ee.a,{size:"md",path:x.transform,color:"gray-50"}))),h.a.createElement(wE,{item:e.asset,operations:a,skin:"menuDark",className:_()(wP.a.operations,wP.a.assetActionBtn),disableTooltip:!0,context:ge.j.CONTEXT_MENU_PREFIX,dataTest:"popover-toggle-action-menu"}))},AP=function(e,t){return{isPopoverOpen:Object(kh.selectPopoverOpen)(e)===IP(t.asset.resource_id),isAssetOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),customActions:Object(lv.selectSingleSelectCustomActions)(e)}},DP={showModal:wa.showModal},LP=Object(g.connect)(AP,DP)(xP),SP=Object(le.b)(LP),kP=Object(Q.withCircleSkeleton)(oa),PP=Object(Q.withCircleSkeleton)(ND),_P=function(e,t,a){return e?Object(Ue.j)("assetPermission."+pe.a.BLOCKED):a?Object(Ue.j)("assetPermission."+((null==t?void 0:t.parsedAcl.accessType)||"")):Object(Ue.j)("assetPermission."+((null==t?void 0:t.restriction)||""))},RP=function(e){var t,a=e.accessControlEnabled,n=e.isAssetOperationAllowed,r=e.accessEditable,s=void 0!==r&&r,o=e.asset,i=e.className,l=void 0===i?"":i,c=e.permissionIconColor,d=void 0===c?"gray-70":c,u=e.showModal,m=e.size,p=void 0===m?"xxs":m,f=e.trackEvent,b=o?Object(Oa.a)(o):null,g=!n(o,ce.a.DELIVER_ASSET_URL);return h.a.createElement("div",{className:_()("flex flex-nowrap items-center justify-between","gray-60",wP.a.assetCardFormat,(t={},t[wP.a.withSeparatorBorder]=!!o,t),l)},h.a.createElement(kP,{isLoading:!o,asset:o,size:p,className:_()("flex-auto flex justify-start",wP.a.formatFileType)}),o&&h.a.createElement(xD.a,{asset:o,size:p,className:_()("fs-exclude flex-auto flex justify-center",wP.a.formatItem)}),o&&"video"===o.resource_type?h.a.createElement(tk,{size:p,asset:o,className:_()("fs-exclude flex-auto flex justify-end",wP.a.formatItem)}):h.a.createElement(PP,{isLoading:!o,size:p,asset:o,className:_()("fs-exclude flex-auto flex justify-end",wP.a.formatItem)}),o&&b&&h.a.createElement(Z.a,{tooltipText:_P(g,b,a),tooltipPosition:"top",className:_()(s?wP.a.accessEditable:"",wP.a.accessType)},n(o,ce.a.ACCESS_CONTROL_ITEM)&&!g?h.a.createElement("button",{onClick:function(){f(fe.f.ACCESS_CONTROL,"intent to set access control"),u(Xa,{asset:o,multi:!1})}},h.a.createElement(en,{accessControlEnabled:a,asset:o,size:p,color:d,hideText:!0})):h.a.createElement(en,{accessControlEnabled:a,asset:o,size:p,color:"gray-60",hideText:!0,isDeliveryBlocked:g})))},FP=function(e){return{accessControlEnabled:Object(rn.selectAccessControlEnabled)(e),isAssetOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},zP={showModal:wa.showModal},BP=Object(g.connect)(FP,zP)(RP),UP=Object(le.b)(BP),VP=a(57),GP=k.default.div.withConfig({displayName:"AssetCardInfo__PathContainer",componentId:"sc-1dpo14l-0"})(["height:10px;"]),WP=Object(k.default)(Object(Q.withTextSkeleton)(GP)).withConfig({displayName:"AssetCardInfo__PathContainerWithSkeleton",componentId:"sc-1dpo14l-1"})(["width:max-content;"]),HP=function(e){var t=!!e.asset,a=Object(g.useDispatch)(),n=Object(g.useSelector)(VP.selectLocationPathname),r=Object(b.useState)(!1),s=r[0],o=r[1],i=t&&Object(jP.a)(e.asset),l=t&&Object(mt.i)(e.asset.type),c=t&&l&&Object(jP.b)(e.asset),d=t&&Object(Te.j)(e.asset),u=t&&Object(Te.h)(e.asset),m=t&&Object(Te.i)(e.asset),p=!Object(Te.q)(n,pe.C.FOLDERS),f=Object(b.useCallback)((function(){if(!s&&Object(mt.h)(e.asset))try{a(Object(j.loadItem)(ge.m,e.asset.id,{forceLoad:!0})),o(!0)}catch(e){o(!1)}}),[a,e.asset,s]);return h.a.createElement("div",{"data-test":"asset-info-text-wrapper",className:_()("flex flex-column pa2",wP.a.assetInfo)},t||e.viewMode!==oI.e.LIST?h.a.createElement("span",{className:_()("underline-hover",wP.a.fitContent),onClick:function(a){if(t){var n=self.getSelection();if((null==n?void 0:n.toString().length)>0)return!1;if(a.stopPropagation(),Object(me.i)(a)){e.trackEvent(fe.f.NAVIGATE,"manage asset page in new tab via label");var r=Object(be.b)(e.asset);je(r)}else e.trackEvent(fe.f.NAVIGATE,"manage asset page via label"),Object(be.u)(e.asset)}}},h.a.createElement($,{isLoading:!t,className:_()("fs-exclude b title",wP.a["asset-info-text"],wP.a.fitContent),text:u,tooltipText:m,tooltipPosition:"top",display:"block",dataTest:"asset-info-text"})):null,h.a.createElement(WP,{isLoading:!t},t&&h.a.createElement("div",{onMouseOver:f,onFocus:f},h.a.createElement(Le,{item:e.asset,size:"xxs",color:"gray-60",subtitle:i,tooltipText:l?c:i,alwaysShowTooltip:p&&l&&c!==he.e,icon:d,className:"fs-exclude min-h-xxs asset-folder-path",cssTruncate:!0}))))},YP=Object(le.b)(HP),QP=function(e){return"asset-card-actions--"+e.asset.resource_id},KP=function(e){function t(t){var a;return a=e.call(this,t)||this,p()(c()(a),"toggleAssetSelection",(function(e){var t=a.props.selectedMode?"de-selected":"selected";a.props.trackEvent(fe.f.SELECT,a.props.asset.resourceType+" "+t),a.props.toggleAssetSelection([a.props.listId],a.props.asset,e)})),a.state={animate:!0},a}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){this.props.selectedMode!==e.selectedMode&&this.setState({animate:!1})},a.render=function(){var e,t,a,n=this,r=_()("flex items-center justify-center h-100",((e={})[wP.a.selected]=this.props.selectedMode,e),{"no-animation":!this.state.animate},wP.a["asset-select-btn-wrapper"],((t={})[wP.a.alwaysVisible]=this.props.alwaysVisible,t)),s=this.props.selectedMode?"primary":"secondary",o=_()(((a={})[wP.a.selected]=this.props.selectedMode,a[wP.a.showActions]=this.props.isPopoverOpen,a),this.props.className,wP.a["asset-select-btn"]);return h.a.createElement("div",{className:r,"data-test":this.props.selectedMode?"asset-select-btn-wrapper-selected":"asset-select-btn-wrapper"},h.a.createElement(bn.b,{className:o,icon:x.check,dataTest:"asset-select-btn",size:"xs",skin:s,onClick:function(e){n.props.trackEvent(fe.f.SELECTION,n.props.asset.resource_type+" selected"),n.toggleAssetSelection(e.shiftKey),e.stopPropagation()}}))},t}(h.a.Component),ZP=function(e,t){return{selectedMode:Object(Wk.selectAssetSelectionMode)(e,t.asset),isPopoverOpen:Object(kh.selectPopoverOpen)(e)===QP(t)}},qP={toggleAssetSelection:Rv.toggleAssetSelection},XP=Object(g.connect)(ZP,qP)(KP),JP=Object(le.b)(XP),$P=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"assetCardRef",h.a.createRef()),p()(c()(t),"onMouseDown",(function(e){e.shiftKey&&e.preventDefault()})),p()(c()(t),"onClick",(function(e){t.props.asset&&(t.props.trackEvent(fe.f.CLICK,t.props.asset.resource_type+" selected"),t.props.onClick(t.props.asset),e.shiftKey&&(t.props.trackEvent(fe.f.SELECT,t.props.asset.resource_type+" selected"),t.props.toggleAssetSelection([t.props.listId],t.props.asset,!0)))})),p()(c()(t),"onDoubleClick",(function(){return function(){var e=t.props,a=e.trackEvent,n=e.asset;n&&(a(fe.f.NAVIGATE,n.resource_type+" selected by double click"),Object(be.u)(n))}})),p()(c()(t),"onContextMenu",(function(e){var a=t.props,n=a.asset,r=a.togglePopover,s=a.trackEvent;n&&(e.preventDefault(),s(fe.f.NAVIGATE,"asset menu by right-click"),r(Ee(ge.j.CONTEXT_MENU_PREFIX,n.id),!0))})),t}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){var t=this.props.isActive,a=this.context;!e.isActive&&t&&a(this.assetCardRef.current)},a.render=function(){var e=this,t=this.props,a=t.asset,n=t.isActive,r=t.listId,s=t.viewMode,o=a&&Object(Oa.a)(a).restricted;return h.a.createElement(Mr.a,{roleName:a?a.role:null},(function(t){var i,l=e.props.isMobileBehavior?e.onDoubleClick():e.onClick,c=e.props.isMobileBehavior?null:e.onDoubleClick();return h.a.createElement("article",{ref:e.assetCardRef,"data-item-index":e.props.itemIndex,className:_()("card-box",(i={active:a&&n},i[wP.a["item-loaded"]]=!!a,i.pl2=!a&&e.props.viewMode===oI.e.LIST,i)),onMouseDown:e.onMouseDown,onClick:l,onDoubleClick:c,onContextMenu:e.onContextMenu,"data-test":"asset-card"},a&&Object(jP.c)(a)&&h.a.createElement(JP,{asset:a,alwaysVisible:e.props.isMobileBehavior,listId:e.props.listId}),a&&Object(N.e)(a)&&h.a.createElement(Ah,{label:Object(Ue.j)("asset.new"),skin:"action",size:"sm",className:_()("z-2",wP.a.badge),position:{top:"-8px",left:"-7px"}}),h.a.createElement("div",{className:"relative"},h.a.createElement(mP,{asset:a})),h.a.createElement(YP,{asset:a,viewMode:s}),h.a.createElement(UP,{asset:a,permissionIconColor:"gray-60"}),h.a.createElement("div",{className:"thumb-box ml2"},a&&h.a.createElement(yP,{canModerate:t.moderateAssets,asset:a})),a&&h.a.createElement(SP,{restricted:o,asset:a,listId:r,viewAsset:t.viewAssets,canModerate:t.moderateAssets}))}))},t}(b.Component),e_=function(e,t){return{currentCustomer:Object(zt.selectCurrentCustomer)(e),user:Object(zt.selectUser)(e),asset:Object(_t.selectItem)(e,ge.m,t.id),isMobileBehavior:Object(HT.selectIsMobileOrAdobeConnector)(e)}},t_={togglePopover:Dh.default,toggleAssetSelection:Rv.toggleAssetSelection},a_=Object(g.connect)(e_,t_)($P);$P.contextType=EI;var n_,r_,s_,o_,i_=Object(le.b)(a_),l_=(Object.freeze({OPERATIONS:"OPERATIONS"}),Object.freeze({GRID:"grid",PANE:"side-pane"})),c_=a(3950),d_=a.n(c_),u_=function(e){var t=e.trackEvent,a=e.onClick,n=e.onDoubleClick,r=e.item,s=Object(b.useCallback)((function(e){t(fe.f.CLICK,e.itemType+" selected"),a(e)}),[t,a]),o=Object(b.useCallback)((function(e){t(fe.f.NAVIGATE,e.itemType+" selected by double click"),n(e)}),[t,n]);return h.a.createElement("article",{"data-test":(null==r?void 0:r.itemType)+"-card",className:_()("card-box folder-item-container",d_.a["container-card-box"],{active:e.isActive})},h.a.createElement(kE,{displaySubtitle:e.displaySubtitle,operations:e.operations,showResourceCount:e.displaySubtitle,onClick:e.isMobileBehavior?o:s,onDoubleClick:e.isMobileBehavior?null:o,context:l_.GRID,customResizeEvent:oI.c,item:r}))},m_=function(e){return{hasShareEnabled:Object(zt.selectUser)(e).can_administrate_ml&&Object(td.selectShareMultipleUsersEnabled)(e)&&Object(zt.selectMlPermissionsEnabled)(e),isMobileBehavior:Object(HT.selectIsMobileOrAdobeConnector)(e)}},p_={showModal:wa.showModal},f_=Object(g.connect)(m_,p_)(u_),b_=Object(le.b)(f_),h_=a(3854),g_=a.n(h_),v_=k.default.div.withConfig({displayName:"MetadataFieldCardstyled__StyledMetadataFieldSection",componentId:"tg8jkn-0"})(["display:flex;flex-flow:0;flex-direction:column;"]),E_=Object(Q.withCircleSkeleton)(If),y_=Object(k.default)($).withConfig({displayName:"MetadataFieldCardstyled__StyledCssTruncation",componentId:"tg8jkn-1"})(["",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100px;",""],Dt.typography.xxs.lowContrast,(function(e){return e.withField&&"margin-top: "+At.a.spacing.xxs})),j_=Object(k.default)(Object(Q.withTextSkeleton)(y_)).withConfig({displayName:"MetadataFieldCardstyled__StyledCssTruncationWithSkeleton",componentId:"tg8jkn-2"})(["",";",";"],Dt.typography.xs.highContrast,(function(e){return e.isLoading?"height: 12px;\n            margin-top: 15px;\n            ":""})),O_=(Object(k.default)(g_.a).withConfig({displayName:"MetadataFieldCardstyled__StyledDraggableWithHandle",componentId:"tg8jkn-3"})(["background-color:",";"],At.a.color.white),Object(k.default)("article").withConfig({displayName:"MetadataFieldCardstyled__StyledArticle",componentId:"tg8jkn-4"})(["width:100%;padding-left:",";",";"],At.a.spacing.xs,(function(e){return e.isActiveField&&"@keyframes activeField {\n            from {\n                background-color: "+At.a.palette.surface+";\n            }\n            to {\n                background-color: "+At.a.palette.surfaceAlt+";\n            }\n        }\n        \n        "+j_+" {\n            color: "+At.a.palette.primary+";\n        }\n\n        border: 1px solid "+At.a.palette.primary+" !important;\n        background-color: "+At.a.palette.surface+";\n        animation: activeField 2s;\n        animation-direction: alternate;\n        animation-iteration-count: 2;\n        "}))),w_=k.default.li.withConfig({displayName:"MetadataFieldCardstyled__StyledField",componentId:"tg8jkn-5"})(["display:flex;flex:1;height:100%;align-items:center;position:relative;"]),I_=k.default.div.withConfig({displayName:"MetadataFieldCardstyled__StyledFieldControllers",componentId:"tg8jkn-6"})(["margin-right:",";display:flex;align-items:center;","{height:",";}"],At.a.spacing.xs,kp.VerticalSeparator,At.a.spacing.xl),T_=function(e){var t=e.field,a=e.onClick,n=e.fieldsCount,r=void 0===n?0:n,o=e.updateItem,l=e.fieldIndex,c=e.replaceListItemIds,d=e.activeFieldId,u=e.listFieldIds,m=e.togglePreviewPane,p=Object(b.useState)(v.isMobile),f=p[0],g=p[1],E=Object(b.useState)(void 0),y=(E[0],E[1]),j=""+(null!=t&&t.mandatory?Object(Ms.d)("metadataFieldsView.field.mandatory")+" · ":"")+(t?Object(Ms.d)("metadata_field.types."+t.type+".label"):""),O=t&&Object(Hl.g)(t.type),w=!t||t.disabled?At.a.palette.secondaryAlt:Object(Hl.f)(t.type),I=r&&l===r-1,T=0===l,M=1===r,C=function(){var e=i()(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,Hf.a.POSITION,a);case 2:n=e.sent,r=n.metadataFields,i=r.map((function(e){return e.external_id})),c(pe.l,i);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=(Object(b.useCallback)(function(){var e=i()(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a!==t&&(y(a),n=Object(h_.move)(u,t,a),c(pe.l,n));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[u,c]),Object($d.d)()),x=function(){return h.a.createElement(O_,{isActiveField:d==(null==t?void 0:t.id),key:null==t?void 0:t.id,id:null==t?void 0:t.id,index:l,"data-test":"metadata-field-card",onClick:function(){return!N&&a(t)},onMouseEnter:function(){return!v.isMobile&&g(!0)},onMouseLeave:function(){return!v.isMobile&&g(!1)},className:_()("card-box",TE.a["container-card-box"])},h.a.createElement(w_,{"data-test":"metadata-field-item",onClick:function(){return N&&function(e){a(e),m()}(t)}},h.a.createElement(E_,{isLoading:!t,icon:O,backgroundColor:w}),h.a.createElement(v_,null,h.a.createElement(j_,{isLoading:!t,className:"fs-exclude",text:null==t?void 0:t.label,tooltipText:null==t?void 0:t.label,dataTest:"metadata-field-item-title"}),t&&h.a.createElement(y_,{withField:!0,text:j,tooltipText:j,dataTest:"metadata-field-item-subtitle"}))),f&&!M&&h.a.createElement(I_,null,h.a.createElement(na.a,{trigger:"hover",title:Object(Ms.d)("metadataFieldsView.controllers.arrowDown"),placement:"top"},h.a.createElement(Fp.ButtonMenu,{"data-test":"arrowDown-button",disabled:I,onClick:i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(cm.b)(fe.g.STRUCTURED_METADATA_MANAGEMENT,fe.f.EDIT,"metadata_field field move down"),e.next=3,C(t,l+1);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement(et.a,{name:"arrowDown"}))),h.a.createElement(na.a,{trigger:"hover",title:Object(Ms.d)("metadataFieldsView.controllers.arrowUp"),placement:"top"},h.a.createElement(Fp.ButtonMenu,{"data-test":"arrowUp-button",disabled:T,onClick:i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(cm.b)(fe.g.STRUCTURED_METADATA_MANAGEMENT,fe.f.EDIT,"metadata_field field move up"),e.next=3,C(t,l-1);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement(et.a,{name:"arrowUp"}))),h.a.createElement(kp.VerticalSeparator,{horizontalMargin:"xs"}),h.a.createElement(na.a,{trigger:"hover",title:Object(Ms.d)("metadataFieldsView.controllers.moveToBottom"),placement:"top"},h.a.createElement(Fp.ButtonMenu,{"data-test":"moveToBottom-button",disabled:I,onClick:i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(cm.b)(fe.g.STRUCTURED_METADATA_MANAGEMENT,fe.f.EDIT,"metadata_field field move to bottom"),e.next=3,C(t,r);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement(et.a,{name:"moveToBottom"}))),h.a.createElement(na.a,{trigger:"hover",title:Object(Ms.d)("metadataFieldsView.controllers.moveToTop"),placement:"top"},h.a.createElement(Fp.ButtonMenu,{"data-test":"moveToTop-button",disabled:T,onClick:i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(cm.b)(fe.g.STRUCTURED_METADATA_MANAGEMENT,fe.f.EDIT,"metadata_field field move to top"),e.next=3,C(t,0);case 3:case"end":return e.stop()}}),e)})))},h.a.createElement(et.a,{name:"moveToTop"})))))};return h.a.createElement(h.a.Fragment,null,x())},M_=function(e,t){return{field:t.id&&Object(_t.selectItem)(e,Hf.b,t.id),fieldsCount:Object(Ft.selectListTotalCount)(e,pe.l),activeFieldId:Object(Ft.selectListActiveItemId)(e,pe.l),listFieldIds:Object(Ft.selectListItemIds)(e,pe.l)}},C_={updateItem:j.updateItem,replaceListItemIds:Fn.replaceListItemIds,togglePreviewPane:db.togglePreviewPane},N_=Object(g.connect)(M_,C_)(T_),x_=[[ce.a.BROWSE_ITEM],[ce.a.SHARE_ITEM,ce.a.DOWNLOAD_ITEM,ce.a.RENAME_ITEM,ce.a.PREVIEW_ITEM,ce.a.ADD_TO_PORTAL],[ce.a.DELETE_ITEM]],A_=[[ce.a.BROWSE_ITEM],[ce.a.SHARE_ITEM,ce.a.DOWNLOAD_ITEM],[ce.a.RENAME_ITEM,ce.a.MOVE_ITEM],[ce.a.DELETE_ITEM]],D_=function(e){return h.a.createElement(i_,{id:e.id,itemIndex:e.itemIndex,listId:e.listId,isActive:e.isActive,onClick:e.onItemClicked,onDoubleClick:e.onItemDoubleClicked,viewMode:e.viewMode})},L_=function(e){var t=e.itemType===he.c?A_:x_;return h.a.createElement(b_,{isActive:e.isActive,isFirst:0===e.itemIndex,displaySubtitle:e.itemType===fl.e,operations:t,onClick:e.onItemClicked,onDoubleClick:e.onItemDoubleClicked,item:e.item})},S_=function(e){return h.a.createElement(N_,{id:e.id,fieldIndex:e.itemIndex,isActive:e.isActive,onClick:e.onItemClicked})},k_=((n_={})[ge.m]=D_,n_[he.c]=L_,n_[fl.e]=L_,n_[Hf.b]=S_,n_),P_=function(e){var t=k_[e.itemType];if(!t)throw new Error("ListeItem - unsupported item type: "+e.itemType);return t(e)},__=function(e,t){var a=Object(Ft.selectListItemType)(e,t.listId),n=Object(Ft.selectListItem)(e,t.listId,t.itemIndex);return{itemType:a,isItemLoaded:!!n,id:n?n.id:null,isActive:Object(Ft.selectListActiveItemIndex)(e,t.listId)===t.itemIndex,itemIndex:t.itemIndex,item:n}},R_=Object(g.connect)(__,null)(P_),F_=function(e){var t,a=e.toggleExpanded,n=e.isExpanded,r=e.title,s=e.itemsCount,o=e.analyticsLabel,i=Object(bd.a)(),l=Object(b.useCallback)((function(){i(fe.f.SHOW_HIDE,(n?"collapse":"expand")+" "+o.toLowerCase()),a(!n)}),[n,o,a,i]);return h.a.createElement("div",{"data-test":"grid-header",className:_()("flex br3 ma2 pv1 h-auto",(t={"bg-gray-50":!n},t[pI.a.expanded]=n,t[pI.a.collapsed]=!n,t.expanded=n,t.collapsed=!n,t))},h.a.createElement("div",{onClick:l,className:_()("flex pointer",{"w-100":!n})},h.a.createElement(ee.a,{path:x.arrowDropDown,className:_()("h5 "+pI.a["toggle-arrow"],{"rotate-270":!n}),size:"xxl",color:"gray-70"}),h.a.createElement("div",{"data-test":"grid-title",className:"fw6 gray-70 "+pI.a["grid-title"]},r,s?" ("+Object(St.l)(s)+")":"")))},z_=F_,B_=20,U_=40,V_=((r_={})[ge.m]=263,r_[he.c]=64,r_[fl.e]=64,r_[Hf.b]=64,r_),G_=((s_={})[ge.m]=45,s_[he.c]=45,s_[fl.e]=45,s_[Hf.b]=45,s_),W_=((o_={})[oI.e.LIST]=G_,o_[oI.e.GRID]=V_,o_),H_=function(e,t){var a=W_[e][t];if(!a)throw new Error("No height assigned to itemType '"+t+"'");return a},Y_=function(e,t){var a=t.viewMode===oI.e.LIST?{left:".5rem",width:"calc(100% - 1rem)",paddingTop:"1px"}:{left:e.left+B_,top:e.top+(t.noHeader?8:0)};return W()({},e,a)},Q_=function(e){Object(cm.b)(fe.g.GRID,fe.f.NAVIGATE,e.itemType+" selected by double click"),Object(be.u)(e)},K_=function(e,t){var a=e.helper,n=a.listId,r=a.totalCount,s=a.onItemClicked;return t<r&&h.a.createElement(R_,{listId:n,itemIndex:t,onItemClicked:s,onItemDoubleClicked:Q_,viewMode:e.viewMode})},Z_=function(e){var t,a,n=e.helper,r=n.totalCount,s=n.isTotalComputed,o=n.actualTotal,i=n.itemCount,l=n.itemType,c=n.isExpanded,d=n.toggleSection,u=n.getGridHeaderData,m=n.listId;if(u){var p=u(m,l);t=Object(Ue.j)(l+"sGrid.topBar."+p.title),a=p.analyticsLabel||t}else a=t=Object(Ue.j)(l+"sGrid.topBar."+l+"s");return r?h.a.createElement(z_,{toggleExpanded:d,isExpanded:c,title:t,itemsCount:s?o||i:r,analyticsLabel:a}):null},q_=function(e,t,a,n,r){var s=t.totalCount,o=t.itemType,i=t.isExpanded,l=t.noItemsInList;return{top:n||l?null:{itemHeight:U_,isRowItem:!0,isItemLoaded:!0,itemProps:{helper:t},renderItemComponent:Z_},totalItems:i?s:0,itemHeight:H_(a,o),itemKey:t.getItemKey,isItemLoaded:t.getIsLoaded,loadMore:t.loadMore,itemProps:{helper:t,viewMode:a,role:r,noHeader:n},getItemStyle:Y_,renderItemComponent:K_}},X_=function(e,t,a,n){return Object.keys(e).map((function(r){var s=e[r],o=s.listId,i=t;return Object(b.useMemo)((function(){return s.itemType&&s.isVisible&&q_(o,s,i,a,n)}),[o,s,i])})).filter(Boolean)},J_=function(e,t){return t.map((function(t){return{listId:t,visible:!!~e.listsIds.indexOf(t)}}))},$_=function(e){var t=Object(b.useMemo)((function(){return e.listsIds}),[]);return J_(e,t)},eR=a(3951),tR=a.n(eR),aR=["selectListItem","selectIsListItemLoaded"],nR=268,rR=25,sR=Object(b.forwardRef)((function(e,t){return h.a.createElement("div",W()({ref:t},e,{className:tR.a.innerList}))})),oR=function(e,t,a){return t===oI.e.LIST?h.a.createElement(wp.InfiniteWindowedListLayout,{sections:a,innerElementType:sR}):h.a.createElement(wp.InfiniteWindowedGridLayout,{className:_()({mt3:e.noHeader}),itemWidth:nR,sections:a,threshold:rR})},iR=function(e){var t=e.listsIds.length>1?e.mainSortableListId:e.listsIds[0];return t&&h.a.createElement(tP,{listId:t,role:e.roleName})},lR=function(e,t){return!Object.keys(t).find((function(a){return e[a+"InProgress"]||t[a].totalCount}))},cR=function(e){var t=$_(e),a=e.viewMode,n=sP(e,t),r=X_(n,a,e.noHeader,e.roleName),s=lR(e,n);return h.a.createElement("div",{className:_()("w-100 h-100 pb2",{pt2:e.noHeader},tR.a.windowContainer)},s?iR(e):oR(e,a,r),e.additionalView?e.additionalView():null)},dR=function(e){return e.listsIds.length?h.a.createElement(cR,e):null},uR=function(e,t){return W()({},t.listsIds.reduce((function(t,a){return t[a+"ItemType"]=Object(Ft.selectListItemType)(e,a),t[a+"TotalCount"]=Object(Ft.selectListTotalCount)(e,a),t[a+"NextCursor"]=Object(Ft.selectListNextCursor)(e,a),t[a+"ItemCount"]=Object(Ft.selectListItemCount)(e,a),t[a+"IsEmpty"]=Object(Ft.selectIsListEmpty)(e,a),t[a+"InProgress"]=Object(Ft.selectListInProgress)(e,a),t}),{}),{selectListItem:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Ft.selectListItemSimplified.apply(void 0,[e].concat(a))},selectIsListItemLoaded:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Ft.selectIsListItemLoaded.apply(void 0,[e].concat(a))}})},mR={setListsActiveItem:yI.setListsActiveItem,ensureListItemLoaded:Fn.ensureListItemLoaded,clickItem:Jk.clickItem},pR=Object(g.connect)(uR,mR,null,{areStatePropsEqual:function(e,t){return Xk()(Zk()(t,aR),Zk()(e,aR))}})(dR),fR=Object(k.default)(vn.a).withConfig({displayName:"Grids__StyledSpinner",componentId:"ln72oh-0"})(["width:100%;height:100%;top:0;left:0;"]),bR=function(e){var t=e.isLoading,a=e.isLoadingMore,n=e.isViewEmpty,r=e.listsIds,s=e.viewMode,o=e.renderTopBar,i=e.getGridHeaderData,l=e.mainSortableListId,c=e.roleName,d=e.noHeader,u=e.additionalView;return h.a.createElement(b.Fragment,null,o(),h.a.createElement("div",{className:"main-content w-100 flex","data-test":"master-grid"},h.a.createElement("div",{"data-test":s.toLowerCase()+"-view-mode",className:_()("master-grid withTopBar h-100 w-100",pI.a[s.toLowerCase()+"-view-mode"])},h.a.createElement(le.a.Provider,{value:fe.g.GRID},h.a.createElement(pR,{listsIds:r,viewMode:s,getGridHeaderData:i,mainSortableListId:l,roleName:c,noHeader:d,additionalView:u}),n&&t&&!a&&h.a.createElement("div",{className:"empty-content pt6"},h.a.createElement("div",{className:"empty-folder"},h.a.createElement(fR,{dataTest:"grid-loader-spinner"})))))))},hR=Object(b.memo)(bR),gR=function(e,t){switch(e){case Qk.c.LIST:return oI.e.LIST;case Qk.c.GRID:return oI.e.GRID;default:return t.GridView.viewMode}},vR=function(){var e=window.getSelection();"Range"===(null==e?void 0:e.type)&&e.removeAllRanges()},ER=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"activeAssetCardRef",null),p()(c()(t),"gridViewModeMediaQuery",null),p()(c()(t),"setListsPrevActiveItemWithList",(function(){return t.props.setListsPrevActiveItem(t.props.listsIds)})),p()(c()(t),"setListsNextActiveItemWithList",(function(){return t.props.setListsNextActiveItem(t.props.listsIds)})),p()(c()(t),"setGridViewMode",(function(e,a){return void 0===a&&(a=!0),t.props.setGridViewMode(e,a)})),p()(c()(t),"onViewModeMediaQueryChange",(function(e){e&&(e.matches?t.props.resetGridViewMode():t.props.viewMode===oI.e.GRID&&t.setGridViewMode(oI.e.LIST,!1))})),p()(c()(t),"onKeyDown",(function(e){["INPUT","TEXTAREA"].includes(e.target.nodeName)||"true"===e.target.contentEditable||t.props.isAssetDrilldown||(t.props.isNavigateOnEnterEnabled&&Object(I.c)(e,(function(){return Object(be.u)(t.props.activeItemFromList)})),Object(I.e)(e,t.setListsPrevActiveItemWithList),Object(I.f)(e,t.setListsNextActiveItemWithList),t.props.selectAll&&["a","A"].includes(ks()(e))&&Object(me.i)(e)&&(t.props.selectAll(e),Object(cm.b)(fe.g.GRID,fe.f.SELECT,"select all"),e.preventDefault()))})),p()(c()(t),"handleGridResize",(function(e){var a=t.props.previewPaneOpen!==e.previewPaneOpen||t.props.isLeftPaneOpen!==e.isLeftPaneOpen;(t.props.viewMode!==e.viewMode||t.props.viewMode===oI.e.LIST&&a)&&Object(iI.d)()})),p()(c()(t),"refreshList",(function(){return t.props.listsIds.forEach((function(e){return t.props.reloadList(e)}))})),p()(c()(t),"renderTopBar",(function(){return h.a.createElement("div",{className:"w-100"},h.a.createElement(tg.Provider,{value:t.props.mainSortableListId||""},h.a.createElement(le.a.Provider,{value:fe.g.TOOLBAR},h.a.createElement(eT,{leftPaneOptions:t.props.leftPaneOptions,setGridViewMode:t.setGridViewMode,viewMode:t.props.viewMode,showViewModeToggle:t.props.gridViewMode===Qk.c.TOGGLE,showPreviewPaneToggle:t.getActualPreviewMode()===Qk.d.TOGGLE,showRefresh:t.props.shouldDisplayRefresh,refreshList:t.refreshList}))))})),p()(c()(t),"renderUploadBlock",(function(){return h.a.createElement(Yk,{selectedFolder:t.props.uploadFolderPath})})),p()(c()(t),"renderGrids",(function(){return h.a.createElement(hR,{isLoading:t.props.isLoading,isLoadingMore:t.props.isLoadingMore,isViewEmpty:t.props.isViewEmpty,listsIds:t.props.listsIds,getGridHeaderData:t.props.getGridHeaderData,namespace:t.props.namespace,renderTopBar:t.renderTopBar,roleName:t.props.roleName,viewMode:t.props.viewMode,uploadFolderPath:t.props.uploadFolderPath,mainSortableListId:t.props.mainSortableListId,noHeader:t.props.noHeader,additionalView:t.props.dndSupportedMode?t.renderUploadBlock:null})})),p()(c()(t),"renderLeftPane",(function(){var e=t.props.leftPaneOptions&&t.props.leftPaneOptions.Component;return!!e&&t.props.isLeftPaneOpen&&h.a.createElement(e,null)})),p()(c()(t),"renderTopPane",(function(){var e=t.props.topPaneOptions&&t.props.topPaneOptions.Component;return!!e&&t.props.isTopPaneOpen&&h.a.createElement(e,null)})),p()(c()(t),"renderPreviewPane",(function(){var e=t.props.activeItemFromList||t.props.containerItem;switch(t.getActualPreviewMode()){case Qk.d.NONE:return null;case Qk.d.ALWAYS:return h.a.createElement(yi,{item:e,onClose:null});case Qk.d.TOGGLE:return t.props.previewPaneOpen&&h.a.createElement(yi,{item:e,onClose:t.props.closePreviewPane});default:return null}})),p()(c()(t),"renderDragZoneWrapper",(function(e){return h.a.createElement(Mr.a,{roleName:t.props.roleName},(function(a){return t.props.dndSupportedMode&&a.uploadAssets&&t.props.connectDropTarget?t.props.connectDropTarget(e):e}))})),p()(c()(t),"renderToolbar",(function(){var e=t.props.Toolbar;return h.a.createElement(le.a.Provider,{value:fe.g.TOOLBAR},h.a.createElement(e,{listId:t.props.mainSortableListId}))})),p()(c()(t),"getMainClass",(function(){return _()("h-100","overflow-hidden relative",{"details-popup-active":t.props.previewPaneOpen,"folders-sidebar-active":t.props.isLeftPaneOpen,"drag-active":!!t.props.isDragOver,"selection-active":!!t.props.isSelectionEnabled,"cms-grid-insert":t.props.isCmsMode,"adv-search-active":t.props.isTopPaneOpen&&!t.props.isSelectionEnabled,dn:!!t.props.isAssetDrilldown},t.props.className)})),p()(c()(t),"getActualPreviewMode",(function(){var e=t.props.previewMode;return e===Qk.d.ALWAYS&&uI()?e=Qk.d.TOGGLE:t.props.isDisablePreviewPane&&(e=Qk.d.NONE),e})),p()(c()(t),"scrollToActiveAsset",(function(e){t.activeAssetCardRef=e,setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"nearest"})}),300)})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown,!1),this.gridViewModeMediaQuery=window.matchMedia(fe.r.MD),this.gridViewModeMediaQuery.addListener(this.onViewModeMediaQueryChange),this.onViewModeMediaQueryChange(this.gridViewModeMediaQuery),vR()},a.componentDidUpdate=function(e){var t=this.props.listFilter;this.handleGridResize(e),rm()(e.listFilter,t)||vR()},a.componentWillUnmount=function(){this.props.resetSelection(),document.removeEventListener("keydown",this.onKeyDown,!1),this.gridViewModeMediaQuery&&this.gridViewModeMediaQuery.removeListener(this.onViewModeMediaQueryChange)},a.render=function(){return h.a.createElement(EI.Provider,{value:this.scrollToActiveAsset},h.a.createElement(b.Fragment,null,h.a.createElement("main",{id:"main",className:this.getMainClass(),"data-test":"grid-view"},this.renderToolbar(),h.a.createElement(le.a.Provider,{value:fe.g.NAVIGATION_MENU},h.a.createElement(Ak.a,null)),this.renderTopPane(),this.renderDragZoneWrapper(h.a.createElement("div",{id:pe.s,className:"main-content-wrapper flex-grow flex flex-shrink-0"},this.renderLeftPane(),h.a.createElement("div",{className:"flex flex-column w-100 overflow-hidden"},!this.props.errorListId&&this.renderGrids(),this.props.errorListId&&h.a.createElement(gI,{listId:this.props.errorListId})),!this.props.errorListId&&this.renderPreviewPane()))),this.props.isAssetDrilldown&&h.a.createElement(xk,{activeListId:this.props.activeListId})))},t}(b.Component);p()(ER,"defaultProps",{previewMode:Qk.d.TOGGLE,gridViewMode:Qk.c.TOGGLE,dndSupportedMode:!1});var yR,jR=ql()((function(e){return Cd()(e)})),OR=function(e,t){var a=jR(t.listsIds),n=Object(ub.selectActiveSortableList)(e,a)||"";return{isCmsMode:Object(zt.selectCmsMode)(e),previewPaneOpen:Object(ub.isPreviewPaneOpen)(e),isLeftPaneOpen:Object(ub.selectLeftPaneOpen)(e),isTopPaneOpen:Object(ub.selectTopPaneOpen)(e),isSelectionEnabled:Object(Wk.selectSelectionMode)(e),viewMode:gR(t.gridViewMode,e),activeItemFromList:Object(jI.selectListsActiveItem)(e,a),isNavigateOnEnterEnabled:Object(ub.selectNavigateOnEnterEnabled)(e,a),mainSortableListId:n,activeListId:n||a[0],isLoading:Object(jI.areListsInProgress)(e,a),isLoadingMore:Object(jI.areListsLoadingMore)(e,a),errorListId:Object(ub.selectFirstListWithError)(e,a),isAssetDrilldown:Object(jt.selectIsAssetDrilldownOn)(e),isViewEmpty:!a.find((function(t){return Object(Ft.selectListHasItems)(e,t)})),isDisablePreviewPane:cI()(t.disablePreviewPane)?t.disablePreviewPane:Object(HT.selectIsMobileOrAdobeConnector)(e),listFilter:Object(Ft.selectListFilter)(e,n)}},wR={closePreviewPane:db.closePreviewPane,resetSelection:Rv.resetSelection,setListsPrevActiveItem:yI.setListsPrevActiveItem,setListsNextActiveItem:yI.setListsNextActiveItem,setGridViewMode:db.setGridViewMode,resetGridViewMode:db.resetGridViewMode,reloadList:Fn.reloadList},IR=ql()(Cd.a),TR=function(e,t,a){var n=a.listsIds,r=V()(a,["listsIds"]),s=IR(n);return W()({},r,e,t,{listsIds:s})},MR=Object(g.connect)(OR,wR,TR)(Gk(ER)),CR=a(622),NR=a(3886),xR=a.n(NR),AR=Object.freeze({ROOT:[[ce.a.CREATE_ITEM,ce.a.SHARE_ITEM]],CHILD:[[ce.a.CREATE_ITEM],[ce.a.SHARE_ITEM,ce.a.DOWNLOAD_ITEM],[ce.a.RENAME_ITEM,ce.a.MOVE_ITEM],[ce.a.DELETE_ITEM]]}),DR=Object.freeze({ROOT:[[ce.a.CREATE_ITEM]],CHILD:[[ce.a.SHARE_ITEM,ce.a.DOWNLOAD_ITEM,ce.a.RENAME_ITEM],[ce.a.DELETE_ITEM],[ce.a.ADD_TO_PORTAL]]}),LR=Object.freeze(((yR={})[pe.w.FOLDER]=AR,yR[pe.w.COLLECTION]=DR,yR[pe.w.ASSET]={ROOT:[],CHILD:[]},yR)),SR=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var a=t.prototype;return a.componentWillUnmount=function(){this.props.isOpen&&this.props.togglePopover(!1)},a.render=function(){var e=this;return b.createElement("div",{"data-test":"breadcrumbs-popover",className:_()("ml2",xR.a.breadcrumbsPopover)},this.props.hasAllowedOperations&&b.createElement(Lh.a,{isOpen:this.props.isOpen,toggle:function(t){e.props.togglePopover(CR.a,t)},dataTest:"popover-manager"},b.createElement(Sh.a,{size:"md",skin:"menu",icon:x.arrowDropDown,tooltipText:this.props.isOpen?void 0:Object(Ue.j)("breadcrumbs.popover.tooltip"),tooltipDistance:5,dataTest:"popover-toggle",style:{padding:0,display:"flex"},onClick:function(){return e.props.trackEvent(fe.f.NAVIGATE,(e.props.itemType||"")+" menu")}}),b.createElement(gE,{item:this.props.item,operations:this.props.operations})))},t}(b.Component),kR=function(e){return{popoverOpen:Object(kh.selectPopoverOpen)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},PR={togglePopover:Dh.default},_R=function(e,t,a){var n=!a.item.name,r=a.item.itemType?LR[a.item.itemType]:{},s=n?r.ROOT:r.CHILD;return{item:a.item,operations:s,hasAllowedOperations:pm()(s).some((function(t){return e.isOperationAllowed(a.item,t)})),isOpen:e.popoverOpen===CR.a,togglePopover:t.togglePopover,itemType:a.item.itemType,trackEvent:a.trackEvent}},RR=Object(g.connect)(kR,PR,_R)(SR),FR=Object(le.b)(RR),zR=fe.g.BREADCRUMBS,BR=function(e){var t=function(t){return e.togglePopover(CR.a,t)},a=function(t){Object(cm.b)(zR,fe.f.NAVIGATE,(t?"":"home")+" "+(e.itemType||"")+" selected"),e.togglePopover(CR.d,!1);var a={id:t,itemType:e.itemType};Object(be.u)(a)},n=function(n){var r,s=n.rootLevel,o=e.itemType===pe.w.FOLDER,i=e.itemType===pe.w.COLLECTION,l=o?Object(Ue.j)("folders.root"):i?Object(Ue.j)("collectionsView.root"):"",c=i?"":x.cloud;return h.a.createElement("div",{className:_()("flex",xR.a.breadcrumbsPath,xR.a.root,(r={},r[xR.a.popoverActive]=s&&e.isPopoverOpenRoot,r))},h.a.createElement(bn.b,{className:xR.a.breadcrumbsItem,icon:c,skin:"menu",onClick:function(){return s?t(!e.isPopoverOpenRoot):a()},tooltipText:!s&&o?l:"",tooltipIsSensitive:!s,dataTest:"breadcrumb-item-home-button"},!o||s?l:""),s&&e.item&&h.a.createElement(FR,{item:e.item}))},r=e.breadcrumbs,s=!(0!==r.length||e.item&&e.item.name),o=function(n){var r,s=n.itemName,o=n.isLast,i=void 0!==o&&o,l=n.id;return h.a.createElement(h.a.Fragment,null,h.a.createElement(ee.a,{path:x.keyboardArrowRight,color:"gray"}),h.a.createElement("div",{className:_()("fs-exclude f-sm flex",xR.a.breadcrumbsPath,(r={},r[xR.a.popoverActive]=i&&e.isPopoverOpenRoot,r))},h.a.createElement(bn.b,{className:xR.a.breadcrumbsItem,dataTest:"breadcrumb-item",onClick:function(){return i?t(!e.isPopoverOpenRoot):a(l)},skin:"menu"},h.a.createElement(K.a,{tooltipText:s,lines:1,render:function(e){return h.a.createElement("span",{className:xR.a.breadcrumbsItemTitle},e(s))}})),i&&e.item&&h.a.createElement(FR,{item:e.item})))};return h.a.createElement(le.a.Provider,{value:zR},h.a.createElement("div",{className:_()("flex h-100 items-center ph2",xR.a.breadcrumbs),"data-test":"breadcrumbs-holder"},h.a.createElement(n,{rootLevel:s,"data-test":"breadcrumb-root-path"}),r.length>CR.c&&h.a.createElement(b.Fragment,null,h.a.createElement(ee.a,{path:x.keyboardArrowRight,color:"gray"}),h.a.createElement("div",{"data-test":"breadcrumbs-path-popover"},h.a.createElement(Lh.a,{isOpen:e.isPopoverOpenPath,toggle:function(t){e.togglePopover(CR.d,t)},dataTest:"popover-manager"},h.a.createElement(Sh.a,{size:"md",skin:"menu",dataTest:"popover-toggle",className:_()("gray-90",xR.a.truncation)},"..."),e.isPopoverOpenPath&&h.a.createElement(cE,null,r.slice(0,r.length-CR.c).map((function(e){return h.a.createElement(nE,{icon:ve.FOLDER,key:e.id,dataTest:"breadcrumb-item",onClick:function(){return a(e.id)},className:_()("fs-exclude",xR.a.pathDropMenuItem)},h.a.createElement(K.a,{tooltipText:e.name,lines:1,render:function(t){return t(e.name)}}))})))))),r.slice(-CR.c).map((function(e,t){return h.a.createElement(o,{key:e.id,itemName:e.name,isLast:t===Math.min(CR.c-1,r.length-1),id:e.id})}))))},UR=function(e){return{user:Object(zt.selectUser)(e),isPopoverOpenRoot:Object(kh.selectPopoverOpen)(e)===CR.a,isPopoverOpenPath:Object(kh.selectPopoverOpen)(e)===CR.d}},VR={togglePopover:Dh.default},GR=Object(g.connect)(UR,VR)(BR),WR=GR,HR=a(191),YR=a(428),QR=a.n(YR),KR=function(e,t){var a=(e?e+"/":"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp("^("+a+"[^/]*)/");return QR()(t.match(n),1)},ZR=(a(3952),k.default.button.withConfig({displayName:"UploadButton__StyledButton",componentId:"sc-1i676aa-0"})(["background-color:",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],po.globalTheme.palette.primary)),qR=k.default.button.withConfig({displayName:"UploadButton__StyledPillButton",componentId:"sc-1i676aa-1"})(["background-color:",";"],po.globalTheme.palette.primary),XR=function(e){var t=Object(b.useState)(!1),a=t[0],n=t[1],r=function(){window&&window.matchMedia(fe.r.MD).matches||n(!a)};return h.a.createElement("div",{id:"cld-upload-button",className:_()("upload-button",{"upload-button-expanded":a})},h.a.createElement(qR,{"data-test":"upload-opener-btn",type:"button",className:"btn-opener",onClick:r}," "),h.a.createElement("div",{className:"btns-holder"},h.a.createElement(ZR,{"data-test":"local-upload-btn",type:"button","data-balloon":Object(Ue.j)("uploadLocalButton.tooltip"),"data-balloon-pos":"down","data-balloon-always":!0,className:"btn-screen",onClick:function(){e.trackEvent(fe.f.UPLOAD,"intent to upload from local files"),Object(Sk.d)("local",{fileDialog:!0}),r()}},h.a.createElement("span",{className:"icon"})),h.a.createElement(ZR,{"data-test":"upload-btn",type:"button",className:"btn-upload",onClick:function(){e.trackEvent(fe.f.UPLOAD,"intent to upload"),Object(Sk.d)(),r()}},h.a.createElement("span",{className:"icon"}," "),Object(Ue.j)("uploadLocalButton.label"))))},JR=Object(le.b)(XR),$R=a(1235),eF=$R.a.CONFIRM_UPLOAD_WITH_CONFLICTS,tF=function(e){var t=e.uploadConflictData||{},a=t.multiple,n=t.name,r=t.isConflictFolders,s=r?Object(Ue.j)("uploadConflictDialog.mergeAndReplace"):Object(Ue.j)("uploadConflictDialog.confirm");return h.a.createElement(ho.b,{key:"upload-conflict-dialog",onConfirm:function(){return Object(Sk.e)(!0)},onCancel:function(){return Object(Sk.e)(!1)},title:r?Object(Ue.j)("uploadConflictDialog.titleFolders"):a?Object(Ue.j)("uploadConflictDialog.titleMultiple"):Object(Ue.j)("uploadConflictDialog.title"),text:r?Object(Ue.j)("uploadConflictDialog.textFolders"):a?Object(Ue.j)(Object(Ue.j)("uploadConflictDialog.textMultiple")):Object(Ue.j)("uploadConflictDialog.text",{name:n}).replace(/&#x2F;/g,"/"),primaryButtonText:s,primaryButtonVariant:"warning"})};Ba.a.register(eF,tF);var aF,nF,rF,sF,oF,iF,lF,cF=eF,dF=a(1588),uF=a(1598),mF=a(588),pF=function(){var e=i()(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mF.a)({customerId:a});case 2:n=e.sent,r=n.map((function(e){return e.name})),t(r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fF=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"processedFolderPathsSet",new Set),p()(c()(t),"addFolderToProcessedFoldersSet",(function(e){void 0===e&&(e=""),""!==e&&t.processedFolderPathsSet.add(e)})),p()(c()(t),"clearProcessedFolderPaths",(function(){t.processedFolderPathsSet=new Set})),p()(c()(t),"sendUploadEventToCms",(function(e,t){e?Object(HR.f)({event:"error",info:e}):Object(HR.f)(t)})),p()(c()(t),"getUploadWidgetPresetsContainer",(function(){var e=t.props.requirePresetSelection,a=t.props.capabilities,n=t.props.currentCustomer;return a.includes(fe.i.UPLOAD_PRESET_CUSTOMIZATION)&&!e?{getUploadWidgetPresets:function(e){return pF(e,n.id)}}:{}})),p()(c()(t),"showConflictsConfirmModal",(function(e){Object(Mr.b)(t.props.roleName).overwriteUploads?t.props.showModal(cF,{uploadConflictData:e}):(Object(Sk.e)(!1),Object(Sk.a)(!0),Be.d.error(Object(Ue.j)("uploadConflictDialog.overwriteForbidden")))})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.initializeUploadWidget()},a.componentDidUpdate=function(){this.initializeUploadWidget()},a.initializeUploadWidget=function(){var e,t,a,n=this,r=this.props.currentCustomer,o=this.props.capabilities,l=this.props.smdFields,c=Object(Ms.e)(),d=c!==Ms.a.split("-")[0],u=d&&nT.a.getResourceBundle(c,"uploadWidget"),m={localization:d?{currentLanguage:c,translation:(e={},e[c]=u,e)}:null};if(r&&r.cloud_name&&Gr()(l)){var p=Object(Mr.b)(this.props.roleName).editAssetsMetadata||!1,f=this.props.requirePresetSelection;Object(Sk.b)(W()({cloud_name:r.cloud_name,customer_id:r.id,uploadLimits:r.upload_limits,serverUseFileName:r.media_library_original_filename,folder:Object(me.m)(this.props.folderPath),capabilities:o,smdEnabled:p&&this.props.smdUwIntegrationEnabled,smdFields:l,shouldReviewUpload:f,shouldForcePresetFolder:this.props.forcePresetFolder},m,this.getUploadWidgetPresetsContainer()),{widgetShowCompleted:be.z,setUploadQueueStatus:this.props.setUploadQueueStatus,mlFileUploadEnded:(a=i()(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.resource_type&&t.type&&t.public_id){e.next=2;break}return e.abrupt("return");case 2:a=Object(Te.z)(t),r=KR(n.props.folderPath,t.public_id),n.addFolderToProcessedFoldersSet(r),n.props.syncAssetToList(a),n.props.addNewFolderToList(r);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUploadQueueEnded:(t=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.syncFoldersAggregation(n.processedFolderPathsSet),n.clearProcessedFolderPaths();case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),showConflictsConfirmModal:this.showConflictsConfirmModal,onUploadEvent:this.props.isCmsMode&&this.sendUploadEventToCms},{showModal:this.props.showModal,hideModal:this.props.hideModal})}},a.render=function(){return this.props.isOperationAllowed({itemType:pe.w.ASSET,role:this.props.roleName},ce.a.UPLOAD_ITEM)?h.a.createElement(JR,{key:"upload-button"}):null},t}(b.Component),bF={setUploadQueueStatus:VT.setUploadQueueStatus,showModal:wa.showModal,hideModal:wa.hideModal,syncAssetToList:dF.syncAssetToList,addNewFolderToList:dF.addNewFolderToList,syncFoldersAggregation:dF.syncFoldersAggregation},hF=function(e,t){return{currentCustomer:Object(zt.selectCurrentCustomer)(e),capabilities:Object(zt.selectCapabilities)(e),smdUwIntegrationEnabled:Object(uF.selectSmdUwIntegrationEnabled)(e),requirePresetSelection:Object(uF.selectRequirePresetSelection)(e),forcePresetFolder:Object(uF.selectForcePresetFolder)(e),roleName:Object(uF.selectUploadFolderRole)(e,t.folderPath),smdFields:Object(Ft.selectListItems)(e,pe.l),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),isCmsMode:Object(zt.selectCmsMode)(e)}},gF=Object(g.connect)(hF,bF)(fF),vF=gF,EF=a(4149),yF=(a(3887),a(3953)),jF=a.n(yF),OF=a(3888),wF=a.n(OF),IF=function(e){return h.a.createElement("div",{"data-test":"grid-view-toolbar",className:_()(wF.a["sec-header"],"sec-header flex items-center pv2 ph3")},!e.hideNavigationMenuButton&&h.a.createElement(le.a.Provider,{value:fe.g.NAVIGATION_MENU},h.a.createElement(EF.a,null)),e.backButton&&h.a.createElement("div",{className:_()(wF.a["back-section"],"flex items-center")},e.backButton(),h.a.createElement("span",{className:jF.a["vertical-divider"]})),e.children,!e.hideUploadButton&&h.a.createElement(vF,{folderPath:e.uploadFolderPath||""}))},TF=IF,MF=a(3954),CF=a.n(MF),NF=function(e){Object(xI.i)("kind",e)},xF={offset:{offset:"-10, 0"}},AF=function(e){var t=e.selected,a=e.isOpen,n=e.getToggleButtonProps,r=e.ref,s=e.disabled;return h.a.createElement("button",W()({disabled:s,ref:r,"data-test":"asset-kind-dd-button",className:_()("dd-btn flex justify-center w-100 f-sm items-center",CF.a.button)},n()),h.a.createElement("div",{"data-test":"selected-asset-kind",className:t}," ",h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("AssetsKindDropdown."+t)},t===pe.g.ALL?Object(Ue.j)("AssetsKindDropdown.allShort"):null,pe.f[t]?h.a.createElement(ee.a,{path:pe.f[t][0],color:pe.f[t][1]}):null)),h.a.createElement(ee.a,{path:a?x.arrowDropUp:x.arrowDropDown}))},DF=function(e){var t,a=e.item,n=e.isSelected,r=e.isHighlighted;return h.a.createElement("div",{"data-test":"asset-kind-list-item",className:_()("flex items-center justify-start w-100 h-100",CF.a["item-inner"],a,(t={},t[CF.a["item-inner-selectable"]]=!n,t[CF.a["item-selected"]]=n,t[CF.a["item-highlight"]]=r,t))},pe.f[a]?h.a.createElement(ee.a,{path:pe.f[a][0],size:"sm2",color:pe.f[a][1],className:_()(CF.a["item-icon"])}):null,h.a.createElement("span",{className:_()(CF.a["item-text"])},Object(Ue.j)("AssetsKindDropdown."+a)))},LF=function(e){var t=(e.apiLevel?[pe.g.ALL]:[]).concat([pe.g.IMAGES,pe.g.VIDEOS,pe.g.OTHERS]),a=e.selectedAssetKind;return h.a.createElement("div",{className:e.className},h.a.createElement(Ki,{disabled:!e.selectIsAssetKindSupported,dataTest:"asset-kind",className:_()(CF.a.dropdown,"items-center"),getItems:function(){return t},inputItem:AF,dropItemComponent:DF,disabledItems:[a],selected:a,onSelect:function(t){e.trackEvent(fe.f.RESOURCE_TYPE_SEARCH,t),e.collapseAllDropdowns(),NF(t)},itemClassName:_()(CF.a.item),dropDownAction:e.dropDownAction?function(t){var a=t.closeMenu;return e.dropDownAction&&e.dropDownAction({closeMenu:a,action:e.openAdvancedSearchPane})}:null,modifiers:xF}))},SF=function(e){return{selectedAssetKind:Object(ub.selectAssetsKindValue)(e),selectIsAssetKindSupported:Object(ub.selectIsAssetKindSupported)(e)}},kF={collapseAllDropdowns:wI.collapseAllDropdowns,openAdvancedSearchPane:db.openTopPane},PF=Object(g.connect)(SF,kF)(LF),_F=Object(le.b)(PF),RF=a(1597),FF=function(e,t,a,n,r){return void 0===r&&(r={}),W()({value:e,label:t,class:a,className:n},r)},zF=function(e){return e.assetsTypes?e.assetsTypes.map((function(e){return FF(e,Object(Ue.j)("search.assetsTypes."+Tb()(e)),pb.n.TYPE,pb.n.TYPE)})):[]},BF=function(e,t){return e.prefix?FF(e.prefix,e.prefix,pb.n.FOLDER,t?pb.j.FOLDER:pb.j.PREFIX):[]},UF=function(e){return e.userQuery?e.userQuery.map((function(e){return FF(e,e,pb.n.FREETEXT,pb.n.FREETEXT)})):[]},VF=function(e,t){return zF(e).concat(BF(e,t))},GF=((aF={})[pb.L.TAGS]=function(e){return e.assetsTags.slice()},aF[pb.L.METADATA]=function(e){return e.assetsMetadata.slice()},aF[pb.L.CONTEXT]=function(e){return e.assetsContexts.length&&e.assetsContexts[0].key?[FF(e.assetsContexts[0],e.assetsContexts[0].key,pb.n.CONTEXT,pb.j.CONTEXT)]:[]},aF[pb.L.FOLDER]=VF,aF[pb.L.TYPE]=VF,aF),WF=function(e){var t=e.filtersData,a=e.isFolder;return GF[e.activeSearchTab]?GF[e.activeSearchTab](t,a):UF(t)},HF=function(e){return e.locationText?FF(e.locationText,e.locationText,pb.n.LOCATION,pb.j.LOCATION):[]},YF=function(e){return e.assetsTags?e.assetsTags.map((function(e){return FF(e.value,e.label||"",pb.n.TAG,pb.n.TAG)})):[]},QF=function(e){return e.assetsMetadata?e.assetsMetadata.map((function(e){return FF(null,null,pb.n.METADATA,pb.n.METADATA,e)})):[]},KF=function(e){return e.assetsEmbeddedMetadata?e.assetsEmbeddedMetadata.map((function(e){return FF(null,null,pb.n.EMBEDDED_METADATA,pb.n.EMBEDDED_METADATA,e)})):[]},ZF=function(e,t){var a=[];if(e.searchByFilesize&&(e.searchByFilesize.min!==pb.J.MIN||e.searchByFilesize.max!==pb.J.MAX)){var n=e.searchByFilesize;a=FF({min:n.min+" "+t.toUpperCase(),max:n.max+" "+t.toUpperCase()},n,pb.n.SIZE,pb.j.SIZE)}return a},qF=function(e){var t=[];if(e.searchByDuration&&(e.searchByDuration.min!==pb.I.MIN||e.searchByDuration.max!==pb.I.MAX)){var a=e.searchByDuration;t=FF({min:Object(Te.g)(a.min),max:Object(Te.g)(a.max)},a,pb.n.DURATION,pb.j.DURATION)}return t},XF=function(e){return e.assetsContexts?e.assetsContexts.map((function(e){return FF(e.key,e,pb.n.CONTEXT,pb.j.CONTEXT)})):[]},JF=function(e){return e.predominantColors?e.predominantColors.map((function(e){return FF(e,pb.q[e]?Object(Ue.j)("search.byColors."+Tb()(e)):e,pb.n.IMAGE_COLOR,pb.n.IMAGE_COLOR)})):[]},$F=function(e){return e.imageStyle?e.imageStyle.map((function(e){return FF(e,pb.p[e]?Object(Ue.j)("search.byStyle."+Tb()(e)):e,pb.n.IMAGE_STYLE,pb.n.IMAGE_STYLE)})):[]},ez=function(e){return e.assetsFileFormats?e.assetsFileFormats.map((function(e){return FF(e,pb.a[e]?Object(Ue.j)("search.assetsFileFormats."+Tb()(e)):e,pb.n.FORMAT,pb.n.FORMAT)})):[]},tz=function(e){return e?e.map((function(e){var t=pb.o[e];return FF(e,t?Object(Ue.j)("search.imagesResolutionTypes."+t.label+".name"):Object(Ue.j)("search.byResolution.label")+": "+e,pb.n.IMAGE_RES,pb.n.IMAGE_RES)})):[]},az=function(e){return e?e.map((function(e){var t=pb.T[e];return FF(e,t?Object(Ue.j)("search.videosResolutionTypes."+t.label+".name"):Object(Ue.j)("search.byResolution.label")+": "+e,pb.n.VIDEO_RES,pb.n.VIDEO_RES)})):[]},nz=function(e){return e?e.map((function(e){var t=pb.i[e];return FF(e,t?Object(Ue.j)("search.orientationTypes."+t.label):Object(Ue.j)("search.byOrientation.label")+": "+e,pb.n.ORIENTATION,pb.n.ORIENTATION)})):[]},rz=function(e){return e?e.map((function(e){var t=pb.D[e];return FF(e,t?Object(Ue.j)("search.byFaces."+t.label):Object(Ue.j)("search.byFaces.group")+": "+e,pb.n.NUMBER_OF_FACES,pb.n.NUMBER_OF_FACES)})):[]},sz=((nF={})[pb.R.ANY]=function(){return[]},nF[pb.R.CUSTOM]=function(e){var t=[];if(e.assetsTimeStartDate&&e.assetsTimeEndDate){var a=Object(Pa.f)(new Date(1e3*parseInt(e.assetsTimeStartDate))),n=Object(Pa.f)(new Date(1e3*parseInt(e.assetsTimeEndDate)));t.push(FF(e.assetsTimeOption,Object(Ue.j)("search.timeFields."+Tb()(e.assetsTimeField)),pb.n.TIME_RANGE,wb()(pb.n.TIME_RANGE),{startDate:a,endDate:n}))}return t},nF),oz=function(e){var t=[];return e.assetsTimeOption&&(sz[e.assetsTimeOption]?t=sz[e.assetsTimeOption](e):t.push(FF(e.assetsTimeOption,Object(Ue.j)("search.timeFields."+Tb()(e.assetsTimeField)),pb.n.TIME_OPTION,wb()(pb.n.TIME_OPTION),{displayValue:Object(Ue.j)("search.timeOptions."+Tb()(e.assetsTimeOption))}))),t},iz=function(e){var t=[];return e.assetsActivityUsers&&e.assetsActivityUsers.length&&e.assetsActivityUsers.forEach((function(e){t.push(FF(e.id,e.name,pb.n.ACTIVITY,wb()(pb.n.ACTIVITY),e))})),t},lz=function(e){return[].concat(HF(e)).concat(YF(e.filtersData)).concat(QF(e.filtersData)).concat(KF(e.filtersData)).concat(ZF(e.filtersData,e.searchByFilesizeUnit)).concat(qF(e.filtersData)).concat(XF(e.filtersData)).concat(zF(e.filtersData)).concat(BF(e.filtersData,e.isFolder)).concat(UF(e.filtersData)).concat(JF(e.filtersData)).concat($F(e.filtersData)).concat(rz(e.filtersData.numberOfFaces)).concat(ez(e.filtersData)).concat(nz(e.filtersData.assetsOrientations)).concat(tz(e.filtersData.assetsImageResolutions)).concat(az(e.filtersData.assetsVideoResolutions)).concat(oz(e.filtersData)).concat(iz(e.filtersData))},cz=function(e){return e.filtersData?e.apiLevel<1?WF(e):lz(e):[]},dz=Object.values(pb.h),uz=pb.g.map((function(e){return e.value})),mz=pb.A.map((function(e){return e.value})),pz=function(e,t,a){e.activeSearchTab!==pb.L.FOLDER&&e.setActiveSearchTab(pb.L.FOLDER),e.setPrefix(a.value.trim(),a.class===pb.n.FOLDER),e.setMoreAssetsTypes(),e.setBasicAssetsTypes()},fz=((rF={})[pb.n.TAG]=function(e,t){e.activeSearchTab!==pb.L.TAGS&&e.setActiveSearchTab(pb.L.TAGS),e.setAssetsTags(t)},rF[pb.n.METADATA]=function(e,t){e.activeSearchTab!==pb.L.METADATA&&e.setActiveSearchTab(pb.L.METADATA),e.setAssetsMetadata(t)},rF[pb.n.TYPE]=function(e,t,a){e.activeSearchTab!==pb.L.FOLDER&&e.setActiveSearchTab(pb.L.FOLDER),(dz.includes(a.value)?e.setBasicAssetsTypes:e.setMoreAssetsTypes)(Cd()(a.value)),e.setPrefix("")},rF[pb.n.FOLDER]=pz,rF[pb.n.FREETEXT]=pz,rF),bz=function(e,t,a){if(t.length)le.c.search({removeChip:!0,activeTab:e.activeSearchTab}),fz[a.class]&&fz[a.class](e,t,a);else if(e.filtersData.userQuery.length)e.setUserQuery([]);else switch(e.activeSearchTab){case pb.L.CONTEXT:e.setAssetsContexts([]);break;case pb.L.TAGS:e.setAssetsTags([]);break;case pb.L.METADATA:e.setAssetsMetadata([]);break;case pb.L.FOLDER:case pb.L.TYPE:e.setMoreAssetsTypes(),e.setBasicAssetsTypes(),e.setPrefix("")}return t},hz=function(e){e.setPrefix("")},gz=function(e,t){e.setUserQuery(e.filtersData.userQuery.filter((function(e){return e!==t.value})))},vz=function(e,t,a){return e(t.filter((function(e){return Y()(e)?e!==a.value:e.value!==a.value})))},Ez=((sF={})[pb.n.TAG]=function(e,t){return vz(e.setAssetsTags,e.filtersData.assetsTags,t)},sF[pb.n.METADATA]=function(e,t){if(Gr()(t.value))e.deleteAssetMetadataRow(t.rowId);else{var a=Yy()(e.filters,(function(e){return e.rowId===t.rowId}));if(Gr()(a.value)&&1!==a.value.length){var n=a.value.filter((function(e){return e.label!==t.value||a.label!==t.label}));e.updateAssetMetadataRow(t.rowId,{keywords:n})}else e.deleteAssetMetadataRow(t.rowId)}},sF[pb.n.EMBEDDED_METADATA]=function(e,t){e.deleteAssetEmbeddedMetadataRow(t.rowId)},sF[pb.n.CONTEXT]=function(e,t){e.setAssetsContexts(e.filtersData.assetsContexts.filter((function(e){return!(e.key===t.label.key&&e.value===t.label.value)})))},sF[pb.n.TYPE]=function(e,t){dz.includes(t.value)?e.setBasicAssetsTypes(e.filtersData.assetsTypes.filter((function(e){return dz.includes(e)&&e!==t.value}))):e.setMoreAssetsTypes(e.filtersData.assetsTypes.filter((function(e){return!dz.includes(e)&&e!==t.value})))},sF[pb.n.FORMAT]=function(e,t){uz.includes(t.value)?e.setAssetsBasicFileFormats(e.filtersData.assetsFileFormats.filter((function(e){return uz.includes(e)&&e!==t.value}))):mz.includes(t.value)&&e.setAssetsMoreFileFormats(e.filtersData.assetsFileFormats.filter((function(e){return mz.includes(e)&&e!==t.value})))},sF[pb.n.VIDEO_RES]=function(e,t){return vz(e.setAssetsVideoResolutions,e.filtersData.assetsVideoResolutions,t)},sF[pb.n.IMAGE_RES]=function(e,t){return vz(e.setAssetsImageResolutions,e.filtersData.assetsImageResolutions,t)},sF[pb.n.ORIENTATION]=function(e,t){return vz(e.setAssetsOrientations,e.filtersData.assetsOrientations,t)},sF[pb.n.TIME_OPTION]=function(e){e.setAssetsTimeOption(pb.R.ANY)},sF[pb.n.TIME_RANGE]=function(e){e.setAssetsTimeOption(pb.R.ANY)},sF[pb.n.ACTIVITY]=function(e,t){e.setAssetActivityUsers(e.filtersData.assetsActivityUsers.filter((function(e){return e.id!==t.value})))},sF[pb.n.NUMBER_OF_FACES]=function(e,t){return vz(e.setNumberOfFaces,e.filtersData.numberOfFaces,t)},sF[pb.n.DURATION]=function(e){e.setSearchByDuration({min:pb.I.MIN,max:pb.I.MAX})},sF[pb.n.SIZE]=function(e){e.setSearchByFilesize({min:pb.J.MIN,max:pb.J.MAX})},sF[pb.n.IMAGE_COLOR]=function(e,t){return vz(e.setPredominantColors,e.filtersData.predominantColors,t)},sF[pb.n.FOLDER]=hz,sF[pb.n.FREETEXT]=gz,sF[pb.n.IMAGE_STYLE]=function(e,t){return vz(e.setImageStyle,e.filtersData.imageStyle,t)},sF[pb.n.LOCATION]=function(e){e.setLocationMapToggle(!1)},sF),yz=function(e,t,a){if(t.length){var n=t[0];switch(n.class){case pb.n.TAG:e.setAssetsTags(e.filtersData.assetsTags.concat(t.map((function(e){return{label:e.value,value:e.value}}))));break;case pb.n.METADATA:e.setAssetsMetadata(e.filtersData.assetsMetadata.concat(t));break;case pb.n.FREETEXT:var r=n.value.trim();~e.filtersData.userQuery.indexOf(r)||e.setUserQuery(e.filtersData.userQuery.concat(r))}}else if(a.length>1)le.c.search({clearAllChips:!0}),e.resetFilters();else if(1===a.length){var s=a[0];le.c.search({removeChip:s.class}),Ez[s.class]&&Ez[s.class](e,s)}},jz=function(e,t,a,n){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===n&&(n="");var r=["class","value","label"],s=cz(e).concat(t).filter((function(e){return!a.find((function(t){return Xk()(wd()(e,r),wd()(t,r))}))}));e.apiLevel<1?bz(e,s,t[0]||s[0]):yz(e,t,a),s.length||e.advancedSearchPaneOpen||(n?Object(xI.g)(n):Object(be.t)(pe.p,e.assetsKind))},Oz=a(3853),wz=a.n(Oz),Iz=function(e){var t=e.closeMenu,a=e.action,n=e.className,r=e.trackEvent;return h.a.createElement("div",{className:_()("flex items-center justify-start h-100 pointer",wz.a.action,n),onClick:function(){r(fe.f.SHOW_HIDE,"show advanced search from more filters"),t(),a()}},h.a.createElement(ee.a,{path:x.tune,size:"sm2",color:"action",className:_()(wz.a["item-icon"])}),h.a.createElement("span",{className:_()(wz.a["item-text"])},Object(Ue.j)("searchBox.moreFilters")))},Tz=Object(le.b)(Iz),Mz=function(e){var t=e.closeMenu,a=e.clearInput,n=e.value,r=e.selected,s=e.action,o=n||r&&r.length;return h.a.createElement("div",{"data-test":"search-box-action",className:_()(wz.a["sb-action-container"],"flex")},o?h.a.createElement("div",{className:_()("flex items-center justify-start h-100 pointer flex-grow-2",wz.a.action,wz.a["matching-action"]),onClick:function(){t(),s.doSearch(),a&&a()}},h.a.createElement(ee.a,{path:x.search,size:"sm2",color:"action",className:_()(wz.a["item-icon"])}),h.a.createElement("span",{className:_()(wz.a["item-text"])},Object(Ue.j)("searchBox.seeMatching"))):null,h.a.createElement(Tz,{closeMenu:t,action:s.toggleAdvancedSearchPane,className:o?"":"w-100"}))},Cz=Mz,Nz=a(556),xz=a.n(Nz),Az=((oF={})[pb.P.IMAGE]=pe.f[pe.g.IMAGES],oF[pb.P.VIDEO]=pe.f[pe.g.VIDEOS],oF[pb.P.TXT]=pe.f[pe.g.OTHERS],oF[pb.P.RAW]=pe.f[pe.g.OTHERS],oF[pb.P.AUDIO]=[x.audio,"primary"],oF[pb.P.TAG]=[x.tagSign,"gray","black"],oF[pb.P.FOLDER]=[x.folder,"gray","black"],oF[pb.P.COLLECTION]=[x.collection,"gray","black"],oF),Dz=function(e,t){var a=Az[e]?Az[e]:Az[pb.P.RAW];return[a[0],t&&a[2]?a[2]:a[1]]},Lz=function(e){var t,a=e.name,n=e.type,r=e.isHighlighted,s=e.inputValue,o=e.path,i=Dz(n,r),l=Object(Te.o)(a,s);return h.a.createElement("div",{"data-test":"search-box-list-item",className:_()("flex items-center justify-start w-100 h-100",wz.a["item-inner"],(t={},t[wz.a["item-highlight"]]=r,t))},h.a.createElement(ee.a,{path:i[0],color:i[1],className:"flex-shrink-0"}),h.a.createElement("span",{"data-test":"search-box-item-text-container",className:_()(wz.a["item-text"])},l,o&&h.a.createElement("div",{"data-test":"search-box-list-item-path",className:_()(wz.a["item-path"])},Object(Te.o)("/"+o.replace(new RegExp(xz()(a)+"$"),""),s))))},Sz=Object(b.memo)(Lz),kz=k.default.em.withConfig({displayName:"SearchBoxValuestyles__Prefix",componentId:"sc-1l4shtz-0"})(["&&{color:",";}"],At.a.palette.contrastLow),Pz=k.default.span.withConfig({displayName:"SearchBoxValuestyles__FromToDash",componentId:"sc-1l4shtz-1"})(["color:",";text-align:center;"],At.a.palette.contrastLow),_z=((iF={})[pb.n.TAG]=x.tagSign,iF[pb.n.FOLDER]=x.folder,iF[pb.n.LOCATION]=x.locationOn,iF),Rz=function(e,t,a){return{prefix:e,value:h.a.createElement("div",{className:"flex ph1"},h.a.createElement("span",null,t),h.a.createElement(Pz,{className:_()(wz.a["search-value-arrow"],"box-sm")},"-"),h.a.createElement("span",null,a))}},Fz=((lF={})[pb.n.TYPE]=function(e){return{prefix:Object(Ue.j)("search.assetsTypes.type"),value:e.label}},lF[pb.n.CONTEXT]=function(e){var t=e.label.key||e.value.key,a=e.label.value||e.value.value;return{value:t+(a?": "+a:"")}},lF[pb.n.METADATA]=function(e){var t=e.label,a=e.value,n=e.operator,r=e.options;return jr()(a)?{value:t}:{value:t+" "+n+" "+(!jr()(r)&&Fe()(Yy()(r,(function(e){return e.value===a})),"label")||a)}},lF[pb.n.EMBEDDED_METADATA]=function(e){var t=e.label,a=e.value,n=e.operator;return jr()(a)?{value:t}:{value:t+" "+n+" "+a}},lF[pb.n.TIME_OPTION]=function(e){return{prefix:e.label,value:e.displayValue}},lF[pb.n.TIME_RANGE]=function(e){return Rz(e.label,e.startDate,e.endDate)},lF[pb.n.DURATION]=function(e){return Rz(""+Object(Ue.j)("search.byDuration.label"),e.value.min,e.value.max)},lF[pb.n.SIZE]=function(e){return Rz(Object(Ue.j)("search.byFilesize.chipLabel")+" ",e.value.min,e.value.max)},lF),zz=function(e){var t={isString:!1,prefix:null,value:""};return Fz[e.class]?t=Fz[e.class](e):t.value=e.label,t.isString=Y()(t.value),t},Bz=function(e){return _z[e.class]},Uz=function(e){var t=e.prefix,a=e.icon;return t?h.a.createElement(kz,{className:_()(wz.a["search-value-prefix"],"pl1")},t,": "):a?h.a.createElement(ee.a,{color:"gray-70",path:a,size:"sm",className:"ml2"}):void 0},Vz=function(e){var t=zz(e),a=t.value,n=t.prefix,r=t.isString,s=Bz(e);return h.a.createElement(Ur,{key:"search_value_"+(e.label+e.class),className:"search-box-value",onClick:function(){return e.removeValue(e)},leftSlot:Uz({icon:s,prefix:n}),label:a,maxWidth:r?Fr:"initial"})},Gz=function(e){return h.a.createElement(pc,{key:e.value,user:e})},Wz=function(e){return e.map((function(e){return e.class===pb.n.ACTIVITY?Gz(W()({},e,{name:e.label,avatarSize:ki.a.SM,removeValue:function(){return e.removeValue(e)}})):Vz(e)}))},Hz=function(e){var t=[e];return Array.isArray(e.value)&&!jr()(e.value)&&(t=e.value.map((function(t,a){return W()({},e,{label:Gr()(e.label)?e.label[a]:e.label,value:t&&t.label||t})}))),Wz(t)},Yz=Object(b.memo)(Hz),Qz=function(e){return e&&e.length>=pb.f},Kz=function(e,t){return void 0===t&&(t=""),e.map((function(e){return""+t+e.label}))},Zz=function(e){function t(t){var a;return a=e.call(this,t)||this,p()(c()(a),"state",{value:"",trimmedValue:"",showSuggestions:!1,overflowing:!1,overflowOpen:!1,overflowCount:0,overflowInputWidth:0}),p()(c()(a),"onClearClicked",(function(){jz(a.props,[],a.props.filters,a.props.prevPath),a.clearInput(),a.setOverflowOpenState(!1)})),p()(c()(a),"onSearchClicked",(function(){a.state.trimmedValue?(a.addFreeTextValue(a.state.trimmedValue),a.clearInput(),a.closeMenu&&a.closeMenu()):Object(be.A)()})),p()(c()(a),"onOverflowButtonClick",(function(){a.setOverflowOpenState(!a.state.overflowOpen)})),p()(c()(a),"onInputEnter",(function(e){a.addFreeTextValue(e.target.value),a.clearInput(),a.closeMenu&&a.closeMenu()})),p()(c()(a),"onInputChange",(function(e){var t=Jl()(e.target.value);a.setState({trimmedValue:t,value:e.target.value}),Qz(t)?(a.debouncedAutoComplete(t),a.setState({showSuggestions:!1})):t.length<pb.f&&a.props.setSearchBoxAutoComplete([])})),p()(c()(a),"onInputFocus",(function(){var e=!Qz(a.state.trimmedValue)&&!a.props.filters.length;a.state.showSuggestions!==e&&a.setState({showSuggestions:e})})),p()(c()(a),"onWindowResize",(function(){a.updateOverflowing()})),p()(c()(a),"onSuggestionSelected",(function(e){a.state.showSuggestions?a.props.trackEvent(fe.f.NAVIGATE,e.type+" selected via recently viewed"):a.props.trackEvent(fe.f.NAVIGATE,e.type+" selected via autocomplete"),a.clearInput(),e.type===pb.P.TAG?a.addSearchValue({label:e.name,value:e.name,class:pb.n.TAG}):Object(be.u)(W()({},e))})),p()(c()(a),"onValueTruncate",(function(){a.updateOverflowing()})),p()(c()(a),"setOverflowOpenState",(function(e){a.setState({overflowOpen:e})})),p()(c()(a),"debouncedAutoComplete",hs()((function(e){return a.props.getSearchBoxAutocompleteItems(e,{searchByFilesizeUnit:a.props.searchByFilesizeUnit})}),300)),p()(c()(a),"debouncedOnWindowResize",null),p()(c()(a),"clearInput",(function(){a.setState({value:""}),a.props.setSearchBoxAutoComplete([])})),p()(c()(a),"closeMenu",null),p()(c()(a),"inputWrapper",Object(b.createRef)()),p()(c()(a),"addSearchValue",(function(e){jz(a.props,[e],void 0,a.props.prevPath)})),p()(c()(a),"addFreeTextValue",(function(e){Jl()(e)&&a.addSearchValue({value:e,label:e,class:pb.n.FREETEXT,className:pb.n.FREETEXT})})),p()(c()(a),"removeSearchValue",(function(e){jz(a.props,[],[e],a.props.prevPath)})),p()(c()(a),"renderSuggestions",(function(e){var t=e.props,n=e.selected,r=e.highlightedIndex,s=e.getItemProps,o=Object(Te.f)(a.props.recentSuggestions||pe.i,a.props.assetsKind),i=[].concat(o).reverse();return o&&o.length?h.a.createElement(b.Fragment,null,h.a.createElement("span",{className:_()(wz.a["dropdown-section"],"gray-70")},Object(Ue.j)("searchBox.sections.recent")),i.map((function(e,a){return Yi({props:t,item:Object(Pa.e)(e),selected:n,highlightedIndex:r,getItemProps:s,index:a})}))):null})),a.debouncedOnWindowResize=hs()(a.onWindowResize,200),a}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){window.addEventListener("resize",this.debouncedOnWindowResize)},a.componentDidUpdate=function(e){this.props.search!==e.search&&this.updateOverflowing()},a.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnWindowResize)},a.handleClickOutside=function(){this.state.overflowOpen&&this.setOverflowOpenState(!1)},a.updateOverflowing=function(){var e=this.inputWrapper.current;e&&this.setState((function(t,a){var n=a.filters,r=t.overflowing,s=t.overflowCount,o=t.overflowOpen,i=t.overflowInputWidth,l=e.scrollHeight>pb.r||r&&n.length>=s&&e.scrollWidth===i,c=Math.abs(e.scrollWidth-i)>2;return l!==r&&(n.length!==s||c)?{overflowing:l,overflowCount:l?s||n.length:0,overflowOpen:o&&l,overflowInputWidth:e.scrollWidth}:null}))},a.render=function(){var e,t,a,n,r,s=this,o=this.props,i=o.filters,l=this.state.overflowing,c=this.state.overflowOpen,d=o.inSearchMode,u={className:_()("h-100 bw0 outline-0",wz.a.input),onChange:this.onInputChange,onFocus:this.onInputFocus,disabled:o.apiLevel<1&&i.length>=pb.w},m=this.state.showSuggestions?this.renderSuggestions:Qz(this.state.trimmedValue)?o.autocompleteItems:[],p=d?"0,2":"-62,8",f=this.state.showSuggestions?null===(e=this.props.recentSuggestions)||void 0===e?void 0:e.length:null==m?void 0:m.length,g=i.length?{icon:x.cross,skin:"menu",onClick:this.onClearClicked}:{icon:x.search,onClick:this.onSearchClicked};return h.a.createElement("div",{"data-test":"search-box",className:_()(wz.a["search-box"],(t={},t[wz.a["search-mode"]]=d,t[wz.a["overflowing-open"]]=c,t))},h.a.createElement(_F,{className:_()("absolute",wz.a["ak-dd"]),apiLevel:o.apiLevel,dropDownAction:Tz}),h.a.createElement("div",{className:_()("form relative",wz.a.form,{"h-auto":c})},h.a.createElement(oc,{className:_()("w-100 h-100 relative",(a={db:l},a[wz.a["search-box-multi"]]=!l,a[wz.a["search-box-multi-open"]]=c,a)),modifiers:{offset:{offset:p}},inputValue:this.state.value,getItems:function(){return m},onSelect:this.onSuggestionSelected,getInputProps:function(){return u},placeholder:Object(Ue.j)("searchBox.placeholder"),inputWrapperRef:this.inputWrapper,selected:i,dropClassName:_()(wz.a["drop-list"]),itemClassName:_()(wz.a["drop-item"]),inputClassName:_()(wz.a.input),inputItemWrapperClassName:_()((n={},n[wz.a["overflowing-input-item-wrapper"]]=l,n)),itemToString:function(){return""},dropItemComponent:function(e){var t=e.item,a=V()(e,["item"]);return h.a.createElement(Sz,W()({},a,t))},dropItemData:{inputValue:this.state.value},removeItem:this.removeSearchValue,selectedItemComponent:function(e){var t=e.item;return h.a.createElement(Yz,W()({key:t.class+"_"+t.label,removeValue:s.removeSearchValue},t,{onTruncate:s.onValueTruncate}))},dropDownAction:f?function(e){var t=e.closeMenu,a=e.value,n=e.selected;return Cz({closeMenu:t,value:a,selected:n,clearInput:s.clearInput,action:{toggleAdvancedSearchPane:o.toggleAdvancedSearchPane,doSearch:s.onSearchClicked}})}:null,getItemKey:function(e){return e.type+"-"+(e.id||e.path||e.name)},selectedWrapperClassName:_()((r={},r[wz.a["selected-wrapper-overflowing"]]=l,r[wz.a["selected-wrapper-overflowing-open"]]=c,r)),getDropDownActions:function(e){var t=e.closeMenu;s.closeMenu=t},popperClassName:wz.a.popper,onInputEnter:this.onInputEnter},(function(e){var t,a,n=e.isOpen;return h.a.createElement(b.Fragment,null,h.a.createElement(bn.b,W()({size:"md",dataTest:"search"+(i.length?"-clear":"")+"-button",className:_()(wz.a["search-button"])},g)),h.a.createElement(bn.b,{dataTest:"advanced-search-overflow-btn",skin:"menu",icon:s.state.overflowOpen?x.keyboardArrowUp:x.moreHorizontal,className:_()((t={},t[wz.a["overflow-button-hidden"]]=!l,t),wz.a["overflow-button"]),size:"md",onClick:s.onOverflowButtonClick}),n&&f?null:h.a.createElement("div",{className:_()(wz.a["advanced-button"]),onClick:function(){o.trackEvent(fe.f.SHOW_HIDE,(o.advancedSearchPaneOpen?"hide":"show")+" advanced search from icon"),o.toggleAdvancedSearchPane()}},h.a.createElement(bn.b,{icon:x.tune,skin:"menu",size:"sm2",className:_()(wz.a["advanced-tune"]),dataTest:"advanced-search-btn",tooltipText:Object(Ue.j)("advancedSearch.tooltip")}),h.a.createElement("button",{type:"button",className:_()(wz.a["adv-arrow"],(a={},a[wz.a["adv-arrow-open"]]=o.advancedSearchPaneOpen,a))})))}))))},t}(b.Component),qz={toggleAdvancedSearchPane:db.toggleTopPane,setAssetsTags:mb.setAssetsTags,setPrefix:mb.setPrefix,setActiveSearchTab:mb.setActiveSearchTab,setAssetsContexts:mb.setAssetsContexts,setBasicAssetsTypes:mb.setBasicAssetsTypes,setMoreAssetsTypes:mb.setMoreAssetsTypes,setImageStyle:mb.setImageStyle,setAssetsVideoResolutions:mb.setAssetsVideoResolutions,setAssetsImageResolutions:mb.setAssetsImageResolutions,setAssetsOrientations:mb.setAssetsOrientations,setAssetsTimeField:mb.setAssetsTimeField,setAssetsTimeOption:mb.setAssetsTimeOption,setAssetsActivityTypeField:mb.setAssetsActivityTypeField,setAssetActivityUsers:mb.setAssetActivityUsers,setNumberOfFaces:mb.setNumberOfFaces,setSearchByDuration:mb.setSearchByDuration,setSearchByFilesize:mb.setSearchByFilesize,setPredominantColors:mb.setPredominantColors,setAssetsBasicFileFormats:mb.setAssetsBasicFileFormats,setAssetsMoreFileFormats:mb.setAssetsMoreFileFormats,resetFilters:mb.resetFilters,setUserQuery:mb.setUserQuery,setExpandedSearchInput:mb.setExpandedSearchInput,setLocationMapToggle:mb.setLocationMapToggle,getSearchBoxAutocompleteItems:mb.getSearchBoxAutocompleteItems,setSearchBoxAutoComplete:mb.setSearchBoxAutoComplete,deleteAssetMetadataRow:mb.deleteAssetMetadataRow,deleteAssetEmbeddedMetadataRow:mb.deleteAssetEmbeddedMetadataRow,updateAssetMetadataRow:mb.updateAssetMetadataRow},Xz=function(e){var t;return{assetsKind:Object(ub.selectAssetsKindValue)(e),apiLevel:Object(zt.selectApiLevel)(e),activeSearchTab:Object(tb.selectActiveSearchTab)(e),isFolder:Object(tb.selectIsFolder)(e),filtersData:Object(tb.selectFilters)(e),advancedSearchPaneOpen:Object(ub.selectTopPaneOpen)(e),locationText:Object(tb.selectLocationText)(e),searchByFilesizeUnit:Object(tb.selectSearchByFilesizeUnit)(e),autocompleteItems:Object(tb.selectSearchBoxAutocompleteItems)(e),recentSuggestions:Object(RF.selectRecentItems)(e),prevPath:Object(En.selectPrevViewPath)(e),search:null===(t=Object(VP.selectLocation)(e))||void 0===t?void 0:t.search}},Jz=function(e,t,a){return W()({},e,t,a,{filters:cz(e),setUserQuery:function(e){return e.length&&a.trackEvent(fe.f.TEXT_SEARCH,e.join(",")),t.setUserQuery(e)},setAssetTags:function(e){return e.length&&a.trackEvent(fe.f.TEXT_SEARCH,JSON.stringify(Kz(e))),t.setAssetTags(e)}})},$z=Object(g.connect)(Xz,qz,Jz)(Object(Xb.a)(Zz)),eB=Object(le.b)($z),tB=function(e){return h.a.createElement(le.a.Provider,{value:fe.g.SEARCH_BAR},h.a.createElement(Mr.a,{roleName:e.roleName},(function(t){var a;return h.a.createElement("div",{className:_()("flex justify-end ml-auto relative flex-grow-2",wF.a.searchSection,(a={},a[wF.a.readOnly]=!t.uploadAssets,a))},e.selectionEnabled?null:h.a.createElement(eB,{inSearchMode:e.inSearchMode}))})))},aB=function(e){return{selectionEnabled:Object(Wk.selectSelectionMode)(e)}},nB=Object(g.connect)(aB,null)(tB),rB=nB,sB=a(1591),oB=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={inProgress:!1,longOperationId:Math.random()},a}return u()(t,e),t.getDerivedStateFromProps=function(e,t){return{inProgress:!!e.longOperationsIds[t.longOperationId]}},t.prototype.render=function(){var e=this.props.Comp;return b.createElement(e,W()({},this.props,{operationId:this.state.longOperationId,isInProgress:this.state.inProgress}))},t}(b.Component),iB=function(e){return{longOperationsIds:Object(sB.selectOperationsInProgressIds)(e)}},lB=Object(g.connect)(iB)(oB),cB=function(e){return function(t){return b.createElement(lB,W()({Comp:e},t))}},dB=a(1149),uB=function(){var e=i()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.a.resourceBrowsing.tags({prefix:t,maxResults:Ug.b});case 2:return a=e.sent,e.abrupt("return",a.tags.map((function(e){return{label:e,value:e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mB=(a(3955),Ug.c.ADD_TAGS_MODAL),pB=function(){var e=i()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uB(t);case 2:return a=e.sent,e.abrupt("return",{options:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fB=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];n.tags&&n.tags.forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}return t},bB=function(e){var t=e.hideModal,a=e.numberOfSelectedAssets,n=e.multiSelectionUpdateTags,r=e.trackEvent,o=e.taggableAssets,l=e.operationId,c=e.operationStart,d=e.operationEnd,u=b.useState(!1),m=u[0],p=u[1],f=b.useState([]),h=f[0],g=f[1],v=b.useState([]),E=v[0],y=v[1],j=fB(o),O=j.length>0,w=E.length<=Ug.a.TAGS_COUNT,I=o.length?Object(Ue.j)("selection.operationNotAllowed.partialAllowed",{allowedCount:o.length,op:"tag"}):Object(Ue.j)("selection.operationNotAllowed.notAllowed",{op:"tag",count:a}),T=function(){var e=i()(s.a.mark((function e(){var a,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(l),t(),a=h.map((function(e){return e.value})),i=E.map((function(e){return e.value})).filter((function(e){return-1===a.indexOf(e)})),u=[],i.length>0&&(u.push(n(o,i,ze.q.ADD)),r(fe.f.TAG,"tag added to assets successfully")),a.length>0&&(u.push(n(o,a,ze.q.REMOVE)),r(fe.f.TAG,"tag removed from assets successfully")),Promise.all(u).catch((function(){r(fe.f.TAG,"failed to update assets tags")})).finally((function(){d(l)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=b.useCallback((function(e){return y(e||[])}),[]),C=b.useCallback((function(e){return g(e||[])}),[]);return o.length>0?b.createElement(Ua.a,{onClose:t,onConfirm:T,dataTest:"manage-tags-modal",headerTitle:Object(Ue.j)("selection.manageTags"),confirmIcon:"approve",confirmText:Object(Ue.j)("selection.update"),confirmDataTest:"update-button",cancelDataTest:"cancel-button",isConfirmDisabled:!E.length&&!h.length||!w},b.createElement(b.Fragment,null,b.createElement("h4",{className:"flex items-center"},b.createElement(ee.a,{path:x.addTag,color:"gray-70",size:"sm"}),b.createElement("div",{className:"ml1"},Object(Ue.j)("selection.addTags"))),b.createElement(xo,{dataTest:"add-tags-drop",onChange:M,loadOptions:pB,isClearable:!0,value:E,isTagsInputActive:o.length>0,placeholder:Object(Ue.j)("tagsDrop.placeholder"),autoFocus:!0}),!w&&b.createElement("div",{className:"flex items-center mt1 error-msg f-xxs"},b.createElement("span",{className:"pl1"},Object(Ue.j)("selection.operationNotAllowed.errorOverlimitTagsToAdd"))),b.createElement("div",{className:"pl1 mt1 gray-70 f-xxs"},Object(Ue.j)("selection.addTagsHint")),O&&b.createElement(qM,{expanded:m},b.createElement(XM,{name:"panel1",onToggle:function(){return p(!m)},className:"bt-0 bg-white mt3 mb2 pv1 pointer"},b.createElement("div",{className:"flex items-center"},b.createElement(ee.a,{color:"gray-70",size:"sm",path:x.del}),b.createElement("h4",{className:"mb0 ml1"},Object(Ue.j)("selection.removeTags")))),b.createElement(JM,{className:"manageTagsModal__removeTagsDropdown"},b.createElement(xo,{dataTest:"remove-tags-drop",onChange:C,loadOptions:function(e){void 0===e&&(e="");var t=e.toLowerCase();return Promise.resolve({options:j.filter((function(e){return e.toLowerCase().startsWith(t)})).map((function(e){return{label:e,value:e}}))})},noResultsText:Object(Ue.j)("search.byContext.noResults"),value:h,isClearable:!0,isFixed:!0,isTagsInputActive:o.length>0,placeholder:Object(Ue.j)("selection.removeTagsPlaceholder")}),b.createElement("div",{className:"pl1 mt1 gray-70 f-xxs"},Object(Ue.j)("selection.removeTagsHint")))),o.length<a&&b.createElement("div",{className:"mt3 flex items-center","data-test":"selection-tags-warning"},b.createElement(ee.a,{path:x.warning,color:"primary",size:"sm"}),b.createElement("span",{className:"pl1"},""+Object(Ue.j)("selection.operationNotAllowed.warning")+I)))):b.createElement(dB.b,{title:Object(Ue.j)("selection.operationNotAllowed.permissionDenied"),warning:I})},hB={operationStart:Fv.addOperationId,operationEnd:Fv.removeOperationId,multiSelectionUpdateTags:Rv.multiSelectionUpdateTags,hideModal:wa.hideModal},gB=function(e){return{numberOfSelectedAssets:Object(Wk.selectSelectedAssets)(e).length,taggableAssets:Object(Wk.selectSelectedAssets)(e).filter((function(e){return Object(Mr.b)(e.role).editAssetsTags}))}},vB=Object(g.connect)(gB,hB)(bB);Ba.a.register(mB,Object(le.b)(vB));var EB=mB,yB=function(e){return h.a.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.tagSign,breakpoint:"lg",onClick:function(){e.trackEvent(fe.f.TAG,"intent to add tag to assets"),e.showModal(EB,{trackingCategory:e.trackingCategory,operationId:e.operationId})},dataTest:"selection-popover-tag",tooltipDisabled:window&&window.matchMedia(fe.r.MD).matches,tooltipText:Object(Ue.j)("selection.tag"),tooltipDistance:5,tooltipIsSensitive:!1,progress:e.isInProgress},h.a.createElement("div",{className:"f-xs"},Object(Ue.j)("selection.tag")))},jB={showModal:wa.showModal},OB=Object(g.connect)(null,jB)(yB),wB=Object(le.b)(cB(OB)),IB=a(1585),TB=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{isInProgress:!1}),t}return u()(t,e),t.prototype.render=function(){var e=this;return h.a.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.fileDownload,progress:this.state.isInProgress,breakpoint:"lg",onClick:i()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isInProgress:!0}),e.props.trackEvent(fe.f.DOWNLOAD,"assets downloaded successfully"),t.next=4,e.props.multiSelectionArchive();case 4:e.setState({isInProgress:!1});case 5:case"end":return t.stop()}}),t)}))),dataTest:"selection-archive",tooltipDisabled:window&&window.matchMedia(fe.r.MD).matches,tooltipText:Object(Ue.j)("selection.download"),tooltipDistance:5,tooltipIsSensitive:!1},h.a.createElement("div",{className:"f-xs"},Object(Ue.j)("selection.download")))},t}(h.a.Component),MB={multiSelectionArchive:IB.multiSelectionArchive},CB=Object(g.connect)(void 0,MB)(TB),NB=Object(le.b)(CB),xB=Ug.c.OPERATION,AB=function(e){var t=e.assets,a=e.moderatable,n=e.op,r=e.multiSelectionModerate,s=a.length?Object(Ue.j)("selection.operationNotAllowed.partialAllowed",{allowedCount:a.length,op:"moderate"}):Object(Ue.j)("selection.operationNotAllowed.notAllowed",{op:"moderate",count:t.length});return b.createElement(ho.b,{"data-test":"selection-operation-modal",onConfirm:function(){return a.length?r(n,a):null},title:Object(Ue.j)("selection.operationNotAllowed.header",{past:"moderated"}),text:s,primaryButtonText:a.length?Object(Ue.j)("selection.operationNotAllowed.continue"):Object(Ue.j)("selection.operationNotAllowed.abort"),primaryButtonVariant:"error",secondaryButtonText:Object(Ue.j)("selection.operationNotAllowed.cancel")})},DB={multiSelectionModerate:Rv.multiSelectionModerate},LB=Object(g.connect)(null,DB)(AB);Ba.a.register(xB,LB);var SB,kB=xB,PB=function(e){var t=e.updateContext,a=e.hideModal,n=e.formik,r=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.dirty){e.next=2;break}return e.abrupt("return");case 2:return Object.keys(n.values).forEach((function(e){return n.setFieldTouched(e,!0)})),n.isValid&&a(),e.next=6,n.submitForm();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.next=4,r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h.a.createElement(Wo.b,null,h.a.createElement(bn.a,{dataTest:"operation-meta-modal-confirm-btn",onClick:o,skin:"action",focus:!0,icon:x.approve,disabled:!n.isValid},Object(Ue.j)("selection.update")),h.a.createElement(bn.a,{dataTest:"operation-meta-modal-cancel-btn",onClick:a,skin:"secondary"},Object(Ue.j)("confirmDialog.cancel")))},_B={hideModal:wa.hideModal},RB=Object(g.connect)(null,_B)(Object(Or.connect)(PB)),FB=function(e){var t=e.context,a=e.setValue;return h.a.createElement(Wo.a,null,h.a.createElement(Js,{readOnly:!1,context:t,excludedKeys:[],onCreate:function(e,n){a([].concat(t,[{key:e,value:n}]))},onUpdate:function(e,n,r){var s=t.findIndex((function(t){return t.key===e})),o=[].concat(t.slice(0,s),[{key:n,value:r}],t.slice(s+1));a(o)},onRemove:function(e){var n=t.findIndex((function(t){return t.key===e}));a([].concat(t.slice(0,n),t.slice(n+1)))}}))},zB=Object(k.default)(Wo.a).withConfig({displayName:"StructuredMetadataEditor__BulkUpdateStructuredMetadataBody",componentId:"sc-2ac903-0"})(["height:400px;overflow-y:auto;&:not(.noPadding){padding:40px;}"]),BB=function(e){return!e||!(!Array.isArray(e)||e.length)},UB=function(e,t){if(BB(e)&&!t)return Object(Ue.j)("bulkUpdateMetadataModal.warnings.emptyValueWillDelete")},VB=function(e,t){if(BB(e)&&t)return Object(Ue.j)("bulkUpdateMetadataModal.warnings.emptyValueMandatory")},GB=function(e){if(!BB(e))return Object(Ue.j)("bulkUpdateMetadataModal.warnings.valuesWillOverride")},WB=((SB={})[Cr.b.STRING]=[UB,VB],SB[Cr.b.INTEGER]=[UB,VB],SB[Cr.b.DATE]=[UB,VB],SB[Cr.b.ENUM]=[UB,VB],SB[Cr.b.MULTISELECT]=[GB,VB],SB),HB=function(e){var t=e.fields,a=e.onFieldChange,n=e.fieldsInputComponents;return h.a.createElement(zB,null,h.a.createElement(Ir.a,{fields:t,warningRules:WB,onFieldChange:a,showCheckBox:!0,showMandatoryIndication:!0,fieldsInputComponents:n}))},YB=HB,QB=Object.freeze({CONTEXTUAL:"contextual",STRUCTURED:"structured"}),KB=Ug.c.EDIT_METADATA,ZB=k.default.div.withConfig({displayName:"BulkUpdateMetadataModal__Warning",componentId:"zaifje-0"})(["padding:0 20px;"]),qB=Object(k.default)(ul.a).withConfig({displayName:"BulkUpdateMetadataModal__StyledBasicModal",componentId:"zaifje-1"})(["",",","{","}"],pv.ModalCard,Wo.a,(function(e){return e.contextual&&"overflow: unset;"})),XB={},JB=function(e){var t=e.assets,a=e.warning,n=e.updateItems,r=e.hideModal,o=e.trackEvent,l=e.metadataType,c=Object(g.useSelector)((function(e){return l===QB.STRUCTURED&&Object(Ft.selectListItems)(e,pe.l)}))||pe.i,d=Object(Ue.j)("selection.bulkContext.title_"+l,{count:t.length}),u=Object(b.useState)([]),m=u[0],p=u[1],f=Object(b.useState)(Object(Tr.b)([])),v=f[0],E=f[1],y=Object(b.useCallback)((function(e,t,a){var n,r=Object.keys(v.fields);if(void 0===a)n=[].concat(r,[e]);else{if(void 0!==t)return;n=r.filter((function(t){return t!==e}))}var s=c.filter((function(e){return n.includes(e.id)})),o=Object(Tr.b)(s);E(o)}),[v]),j=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.length){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length>Ug.a.CONTEXT_ASSETS_COUNT)){e.next=5;break}return Be.d.error(Object(Ue.j)("selection.bulkContextToast.tooManyAssets",{limit:Ug.a.CONTEXT_ASSETS_COUNT})),e.abrupt("return");case 5:return o(fe.f.EDIT,"context added successfully"),r(),e.next=9,n(t,ge.k.CONTEXT,m,ze.q.ADD);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=i()(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(fe.f.EDIT,"metadata updated successfully"),!(t.length>Ug.a.CONTEXT_ASSETS_COUNT)){e.next=4;break}return Be.d.error(Object(Ue.j)("selection.bulkContextToast.tooManyAssets",{limit:Ug.a.CONTEXT_ASSETS_COUNT})),e.abrupt("return");case 4:return e.next=6,n(t,ge.k.METADATA,a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=as(c,is);return h.a.createElement(qB,{onClose:r,dataTest:"bulk-update-metadata-modal",contextual:l===QB.CONTEXTUAL},h.a.createElement(Wo.c,{title:d}),h.a.createElement(Or.Formik,{validationSchema:v,onSubmit:O,enableReinitialize:!0,isInitialValid:l===QB.CONTEXTUAL,initialValues:XB},h.a.createElement(b.Fragment,null,l===QB.STRUCTURED&&h.a.createElement(YB,{fields:c,onFieldChange:y,fieldsInputComponents:w}),l===QB.CONTEXTUAL&&h.a.createElement(FB,{context:m,setValue:p}),a&&h.a.createElement(ZB,{className:"mt3 flex items-center"},h.a.createElement(ee.a,{path:x.warning,color:"primary",size:"sm"}),h.a.createElement("span",{className:"pl1"},""+Object(Ue.j)("selection.operationNotAllowed.warning")+a)),h.a.createElement(RB,{updateContext:j}))))},$B={updateItems:j.updateItems,hideModal:wa.hideModal},eU=Object(g.connect)(null,$B)(JB);Ba.a.register(KB,Object(le.b)(eU));var tU=KB,aU=Object(k.default)(cE).withConfig({displayName:"OperationPopover__StyledPopoverMenu",componentId:"tv4jm1-0"})(["> div:not(:last-child){border-bottom:1px solid ",";}"],tt.l),nU=function(e){var t=e.assets.filter((function(e){return Object(Mr.b)(e.role).moderateAssets})),a=t.length!==e.assets.length,n=function(n){if(!a)return e.multiSelectionModerate(n,e.assets);e.showModal(kB,{assets:e.assets,moderatable:t,op:n})},r=function(t){e.showModal(tU,{assets:e.assets,trackingCategory:e.trackingCategory,metadataType:t})},s=function(t){return function(a){e.trackEvent(fe.f.CUSTOM_ACTION,"trigger "+t.actionLabel),e.togglePopover(Ug.d.OPERATIONS,!1),t.appOpenIn===Pv.d.MODAL?e.showModal(Sv,{trackingCategory:e.trackingCategory,customAction:t,items:e.assets}):t.appOpenIn===Pv.d.NEW_WINDOW&&e.openCustomActionInNewWindow(t,e.assets),a.stopPropagation()}};return h.a.createElement(Lh.a,{isOpen:e.isOperationPopoverOpen,className:"flex",toggle:function(t){e.togglePopover(Ug.d.OPERATIONS,t)},"data-test":"action-manager-btn"},h.a.createElement(Sh.a,{skin:"menuDark",className:"mr1",size:"md",icon:x.moreHorizontal,dataTest:"popover-toggle",tooltipText:Object(Ue.j)("selection.more"),tooltipDistance:5}),h.a.createElement(aU,null,(!e.can||e.can.editAssetsContext&&e.contextualMetadataEnabled||e.can.editAssetsMetadata)&&h.a.createElement("div",null,(!e.can||e.can.editAssetsContext)&&e.contextualMetadataEnabled&&h.a.createElement(nE,{icon:ve.CONTEXTUAL_METADATA,onClick:function(){e.trackEvent(fe.f.EDIT,"intent to edit contextual metadata"),e.togglePopover(Ug.d.OPERATIONS,!1),r(QB.CONTEXTUAL)},dataTest:"selection-editContextualMetadata"},h.a.createElement("span",{className:"f-xs"},Object(Ue.j)("selection.editContextualMetadata"))),(!e.can||e.can.editAssetsMetadata)&&e.metadataFieldsExists&&h.a.createElement(nE,{icon:ve.STRUCTURED_METADATA,onClick:function(){e.trackEvent(fe.f.EDIT,"intent to edit structured metadata"),e.togglePopover(Ug.d.OPERATIONS,!1),r(QB.STRUCTURED)},dataTest:"selection-editStructuredMetadata"},h.a.createElement("span",{className:"f-xs"},Object(Ue.j)("selection.editStructuredMetadata")))),(!e.can||e.can.moderateAssets)&&h.a.createElement("div",null,h.a.createElement(nE,{icon:ve.THUMB_UP,onClick:function(){e.trackEvent(fe.f.MODERATION,"assets approved"),e.togglePopover(Ug.d.OPERATIONS,!1),n(fg.a.APPROVED)},dataTest:"selection-approve",disabled:!e.moderationApplicable},h.a.createElement("span",{className:"f-xs"},Object(Ue.j)("selection.approve"))),h.a.createElement(nE,{icon:ve.THUMB_DOWN,onClick:function(){e.trackEvent(fe.f.MODERATION,"assets rejected"),e.togglePopover(Ug.d.OPERATIONS,!1),n(fg.a.REJECTED)},dataTest:"selection-reject",disabled:!e.moderationApplicable},h.a.createElement("span",{className:"f-xs"},Object(Ue.j)("selection.reject")))),e.customActions&&h.a.createElement("div",null,e.customActions.map((function(t){return h.a.createElement(nE,{key:t.id,icon:t.actionIcon,onClick:s(t),dataTest:t.id,rightSideIcon:(null==t?void 0:t.appOpenIn)===Pv.d.NEW_WINDOW?x.openInNew:null,disabled:!Object(cv.c)(t,e.assets)},h.a.createElement("span",{className:"f-xs"},t.actionLabel))})))))},rU=function(e){return{moderationApplicable:Object(Wk.selectModerationIndicator)(e),isOperationPopoverOpen:Object(kh.selectIsPopoverOpen)(e,Ug.d.OPERATIONS),assets:Object(Wk.selectSelectedAssets)(e),contextualMetadataEnabled:Object(zt.selectIsContextualMetadataEnabled)(e),customActions:Object(lv.selectMultiSelectCustomActions)(e),metadataFieldsExists:Object(Ft.selectListHasLoadedItems)(e,pe.l)}},sU={multiSelectionModerate:Rv.multiSelectionModerate,togglePopover:Dh.default,showModal:wa.showModal,openCustomActionInNewWindow:kv.openCustomActionInNewWindow},oU=Object(g.connect)(rU,sU)(nU),iU=Object(le.b)(oU),lU=function(e){var t=e.trackEvent,a=e.trackingCategory,n=e.showModal,r=e.assets;return h.a.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.collection,breakpoint:"lg",onClick:function(){t(fe.f.ADD,"intent to add assets to collection"),n(iv,{assets:r,trackingCategory:a})},dataTest:"selection-add-collection-btn",tooltipDisabled:window&&window.matchMedia(fe.r.MD).matches,tooltipText:Object(Ue.j)("selection.addToCollectionCaps"),tooltipDistance:5,tooltipIsSensitive:!1},h.a.createElement("span",{className:"f-xs"},Object(Ue.j)("selection.addToCollection")))},cU=function(e){return{assets:Object(Wk.selectSelectedAssets)(e)}},dU={showModal:wa.showModal},uU=Object(g.connect)(cU,dU)(lU),mU=Object(le.b)(uU),pU=function(e){var t=e.showModal,a=e.assets,n=e.collectionId,r=e.isInProgress,s=e.operationId,o=e.trackEvent;return b.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.removeBox,breakpoint:"lg",type:"button",progress:r,onClick:function(){o(fe.f.REMOVE,"intent to remove assets from collection"),t(Yv,{collectionId:n,assets:a,operationId:s,trackingCategory:fe.g.SELECTION_TOOLBAR})},dataTest:"selection-remove",tooltipDisabled:window&&window.matchMedia(fe.r.MD).matches,tooltipText:Object(Ue.j)("selection.remove"),tooltipDistance:5,tooltipIsSensitive:!1},b.createElement("div",{className:"f-xs"},Object(Ue.j)("selection.remove")))},fU=function(e){return{assets:Object(Wk.selectSelectedAssets)(e),collectionId:Object(_v.selectCollectionId)(e)}},bU={showModal:wa.showModal},hU=Object(g.connect)(fU,bU)(pU),gU=cB(Object(le.b)(hU)),vU=function(e){var t=e.drilldownItem?Object(Mr.b)(e.drilldownItem.role):null;return e.drilldownItem?h.a.createElement(b.Fragment,null,e.isOperationAllowed(e.drilldownItem,ce.a.REMOVE_FROM_ITEM)&&h.a.createElement(gU,null),h.a.createElement(mU,null),h.a.createElement(wB,null),e.isOperationAllowed(e.drilldownItem,ce.a.DOWNLOAD_ITEM)&&h.a.createElement(NB,null),h.a.createElement(iU,{can:t})):null},EU=function(e){var t=Object(_v.selectCollectionId)(e);return{drilldownItem:t&&Object(_t.selectItem)(e,fl.e,t),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},yU=Object(g.connect)(EU)(vU),jU=yU,OU=a(3956),wU=a.n(OU),IU=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"renderCounter",(function(){return h.a.createElement("div",{className:"flex ph3 br"},h.a.createElement("div",{className:"primary f-xs flex items-center","data-test":"selected-asset-count-icon"},h.a.createElement(ee.a,{size:"md",path:x.done,className:" mr2 bg-primary br-100",color:"gray-80"}),h.a.createElement("span",{className:wU.a.selected+" grow-1"},t.props.selectedCount,h.a.createElement("span",{className:wU.a.label}," "+Object(Ue.j)("selection.selected")))))})),p()(c()(t),"onSelectAllClick",(function(){Object(cm.b)(fe.g.SELECTION_TOOLBAR,fe.f.SELECT,"select all"),t.props.assetsSelectAll(t.props.listId)})),p()(c()(t),"renderStandardOperations",(function(){var e=t.props.cmsPreferences;return h.a.createElement("div",{skin:"menuDark",className:"flex items-center pr1"},h.a.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.selectAll,breakpoint:"lg",onClick:t.onSelectAllClick,dataTest:"selection-all",tooltipText:Object(Ue.j)("selection.assetsSelectAll"),tooltipIsSensitive:!1,tooltipDistance:5},h.a.createElement("div",{className:"f-xs"},Object(Ue.j)("selection.assetsSelectAll"))),h.a.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.cancel,breakpoint:"lg",onClick:function(){Object(cm.b)(fe.g.SELECTION_TOOLBAR,fe.f.SELECT,"clear all"),t.props.clearSelection()},dataTest:"selection-clear",tooltipText:Object(Ue.j)("selection.clearSelection"),tooltipIsSensitive:!1,tooltipDistance:5},h.a.createElement("div",{className:"f-xs"},Object(Ue.j)("selection.clearSelection"))),h.a.createElement(QD,{onClick:t.props.multiSelectionInsert,disabled:t.props.insertCountExceeded,tooltip:t.props.insertCountExceeded?Object(Ue.j)("selection.cmsInsertButton.tooManyAssets",{count:e.maxAssets}):"",className:"mh2",size:"sm"}))})),t}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){(e.listId!==this.props.listId||e.listHasLoadedItems&&!this.props.listHasLoadedItems)&&this.props.clearSelection()},a.render=function(){var e=this.props.CustomSelectionComp;return this.props.selectionEnabled&&h.a.createElement(le.a.Provider,{value:fe.g.SELECTION_TOOLBAR},h.a.createElement("div",{className:"flex flex-grow-2 justify-end mh1 mh2-md"},h.a.createElement("div",{"data-test":"selection-menu",className:"flex bg-gray-80 br2 relative-sm new-selection-menu"},this.renderCounter(),h.a.createElement("div",{className:"flex items-center br"},e&&h.a.createElement(e,null)),this.renderStandardOperations())))},t}(b.Component),TU=function(e,t){return{selectionEnabled:Object(Wk.selectSelectionMode)(e),selectedCount:Object(Wk.selectSelectedCount)(e),isCmsMode:Object(zt.selectCmsMode)(e),cmsPreferences:Object(HT.selectCmsPreferences)(e),listHasLoadedItems:Object(Ft.selectListHasLoadedItems)(e,t.listId)}},MU={assetsSelectAll:Rv.assetsSelectAll,clearSelection:Rv.clearSelection,multiSelectionInsert:Rv.multiSelectionInsert},CU=function(e,t,a){return W()({},a,e,t,{insertCountExceeded:!!(e.cmsPreferences&&e.cmsPreferences.maxAssets&&e.cmsPreferences.maxAssets<e.selectedCount)})},NU=Object(g.connect)(TU,MU,CU)(IU),xU=NU,AU="collectionsViewSharedCollections",DU="collectionsViewCreatedCollections",LU=Object.freeze({itemType:pe.w.COLLECTION}),SU={api:[],single:[],ui:[]},kU=(St.c.createConstants(SU,"collections_view"),a(3957)),PU=a.n(kU),_U={paddingLeft:0,paddingRight:0},RU={add:{icon:x.addMultiple,opName:ce.a.CREATE_ITEM},share:{icon:x.share,opName:ce.a.SHARE_ITEM}},FU=k.default.div.withConfig({displayName:"CollectionViewToolbar__StyledBreadcrumbs",componentId:"xxfl0q-0"})(["display:flex;align-items:center;flex-grow:1;@media screen and (max-width:785px){width:100%;order:-1 !important;}"]),zU=Object(k.default)(bn.b).withConfig({displayName:"CollectionViewToolbar__StyledShareButton",componentId:"xxfl0q-1"})(["width:18px;height:18px;@media screen and (max-width:785px){padding-top:5px;}"]),BU=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"onClick",(function(){t.props.item&&(t.props.trackEvent(t.isRoot()?fe.f.CREATE:fe.f.SHARE,"intent to "+(t.isRoot()?"create new":"share")+" "+t.props.item.itemType),t.isRoot()?t.props.showModal(th.a,{trackingCategory:fe.g.TOOLBAR,itemType:t.props.item.itemType,onItemCreated:t.props.addCollectionToGrid}):t.props.showModal(id,{shareItemId:t.props.item.id,shareItemType:t.props.item.itemType,trackingCategory:Object(Ue.j)(Ii.a.CATEGORY,{shareItemType:t.props.item.itemType})}))})),p()(c()(t),"getAction",(function(){return t.isRoot()?RU.add:RU.share})),p()(c()(t),"getActionIcon",(function(){return t.getAction().icon})),p()(c()(t),"isActionPermitted",(function(){var e=t.getAction();return t.props.isOperationAllowed(t.props.item,e.opName)})),p()(c()(t),"getTooltipText",(function(){return t.props.item?t.isRoot()?Object(Ue.j)("itemOperationsMenu.create",{itemType:t.props.item.itemType}):Object(Ue.j)("itemOperationsMenu.share"):""})),p()(c()(t),"constructBreadcrumbs",ql()((function(e){return e&&e.name&&e.id?[{name:e.name,id:e.id}]:[]}))),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.loadItem(he.c,"")},a.isRoot=function(){return!this.props.item||!this.props.item.name},a.render=function(){var e=this.constructBreadcrumbs(this.props.item);return b.createElement(TF,null,b.createElement(FU,null,b.createElement(WR,{item:this.props.item,itemType:fl.e,breadcrumbs:e}),!v.isMobileOnly&&this.isActionPermitted()&&b.createElement("div",{className:PU.a["button-icon"]},b.createElement(zU,{icon:this.getActionIcon(),dataTest:"add-collection-button",size:"md",skin:"menu",style:_U,tooltipText:this.getTooltipText(),onClick:this.onClick,tooltipDistance:5}))),b.createElement(rB,{roleName:this.props.role}),b.createElement(xU,{CustomSelectionComp:jU,listId:this.props.listId}))},t}(b.Component),UU=function(e,t){var a=Object(Ft.selectListFilter)(e,t.listId),n=a&&a.collectionId,r=n?Object(_t.selectItem)(e,fl.e,n):LU,s=Object(_t.selectItemByProp)(e,he.c,"path","");return{itemId:n,item:r,role:s&&s.role,isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e)}},VU={loadItem:j.loadItem,showModal:wa.showModal},GU=Object(g.connect)(UU,VU)(BU),WU=Object(le.b)(GU),HU="collectionsViewAssets",YU=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"selectAllAssets",(function(){t.props.assetsSelectAll(HU)})),p()(c()(t),"topPaneOptions",{Component:sI}),t}u()(t,e);var a=t.prototype;return a.loadCollection=function(){this.props.createList(HU,{itemType:ge.m,filter:{collectionId:this.props.collectionId},sortDirection:this.props.sortDirection,sortField:this.props.sortField,maxResults:Object(iI.a)(0,oI.a)}),this.props.loadItem(fl.e,this.props.collectionId,{forceLoad:!0})},a.componentDidMount=function(){this.props.isCollectionsViewEnabled?this.props.collectionId?this.loadCollection():this.props.setNavigationFault(fe.x.PAGE_NOT_FOUND):this.props.setNavigationFault(fe.x.ACCESS_DENIED)},a.componentDidUpdate=function(e){this.props.collectionId&&(this.props.collectionId!==e.collectionId&&this.props.setListFilter(HU,{collectionId:this.props.collectionId}),this.props.setListSortField(HU,this.props.sortField),this.props.setListSortDirection(HU,this.props.sortDirection))},a.componentWillUnmount=function(){this.props.isCollectionsViewEnabled&&this.props.collectionId&&this.props.removeList(HU)},a.render=function(){return h.a.createElement(MR,{namespace:"collectionsView",className:this.props.className,listsIds:HU,enableLoad:this.props.enableLoad,roleName:this.props.roleName,topPaneOptions:this.topPaneOptions,Toolbar:WU,selectAll:this.selectAllAssets,containerItem:this.props.collection})},t}(h.a.Component),QU=function(e){return{roleName:Ve.a.Identity.rootFolderRole.get(e),isCollectionsViewEnabled:Object(_v.selectCollectionsEnabled)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),collectionId:Object(_v.selectCollectionId)(e),collection:Object(_v.selectCollection)(e),sortField:Object(ub.selectSortField)(e),sortDirection:Object(ub.selectSortDirection)(e)}},KU={createList:Fn.createList,removeList:Fn.removeList,setNavigationFault:cb.setNavigationFault,setListSortField:Fn.setListSortField,setListSortDirection:Fn.setListSortDirection,setListFilter:Fn.setListFilter,loadItem:j.loadItem,assetsSelectAll:Rv.assetsSelectAll},ZU=Object(g.connect)(QU,KU)(YU),qU=ZU,XU=a(625),JU=function(e,t){return{title:e===AU?"sharedWithMe":e===DU?"myCollections":t+"s",analyticsLabel:e===AU?"collections shared with me":null}},$U=[{listId:DU,filter:{ownerType:fl.f.ME}},{listId:AU,filter:{ownerType:fl.f.OTHERS}}],eV=[DU,AU],tV=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"topPaneOptions",{Component:sI}),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.isCollectionsViewEnabled?(this.createList(),this.props.closeAdvancedSearchPane()):this.props.setNavigationFault(fe.x.ACCESS_DENIED)},a.componentDidUpdate=function(){var e=this;$U.forEach((function(t){e.props.setListSortField(t.listId,e.props.sortField),e.props.setListSortDirection(t.listId,e.props.sortDirection)}))},a.componentWillUnmount=function(){var e=this;this.props.isCollectionsViewEnabled&&$U.forEach((function(t){return e.props.removeList(t.listId)}))},a.createList=function(){var e=this;$U.forEach((function(t){return e.props.createList(t.listId,{itemType:fl.e,sortDirection:e.props.sortDirection,sortField:e.props.sortField,maxResults:Object(iI.a)(0,oI.b),filter:t.filter})}))},a.render=function(){return h.a.createElement(MR,{namespace:"collectionsView",listsIds:eV,getGridHeaderData:JU,enableLoad:this.props.enableLoad,roleName:this.props.roleName,topPaneOptions:this.topPaneOptions,Toolbar:WU})},t}(h.a.Component),aV=function(e){return{roleName:Ve.a.Identity.rootFolderRole.get(e),isCollectionsViewEnabled:Object(XU.selectCollectionsEnabled)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),sortField:Object(ub.selectSortField)(e),sortDirection:Object(ub.selectSortDirection)(e)}},nV={createList:Fn.createList,removeList:Fn.removeList,setNavigationFault:cb.setNavigationFault,setListSortField:Fn.setListSortField,setListSortDirection:Fn.setListSortDirection,closeAdvancedSearchPane:db.closeTopPane},rV=Object(g.connect)(aV,nV)(tV),sV=rV,oV=a(427),iV=a.n(oV),lV=a(1567),cV="MOVE_SKIP_MODAL",dV=function(e){var t="";return e.unManagedItems.length?(e.assets.length&&(t=Object(Ue.j)("selection.operationNotAllowed.partialAllowed",{op:"move",allowedCount:e.assets.length})+".\n"),t=""+t+Object(Ue.j)("selection.moveAssetsModal.fetchedNotAllowed")):e.unPermittedItems.length&&e.assets.length?t=""+Object(Ue.j)("selection.operationNotAllowed.partialAllowed",{op:"move",allowedCount:e.assets.length}):e.assets.length||(t=""+Object(Ue.j)("selection.operationNotAllowed.notAllowed",{op:"move",count:e.unPermittedItems.length+e.unManagedItems.length})),h.a.createElement(ho.b,{"data-test":"move-confirm-modal",onConfirm:function(){return e.assets.length?e.moveAssets(e.operationId,e.assets,e.folderId,[].concat(e.unManagedItems,e.unPermittedItems)):null},title:Object(Ue.j)("selection.operationNotAllowed.header",{past:"moved"}),text:t,primaryButtonText:e.assets.length?Object(Ue.j)("selection.operationNotAllowed.continue"):Object(Ue.j)("selection.operationNotAllowed.abort"),secondaryButtonText:Object(Ue.j)("selection.operationNotAllowed.cancel")})},uV={moveAssets:lV.moveAssets},mV=Object(g.connect)(null,uV)(dV);Ba.a.register(cV,mV);var pV=cV,fV=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var a=t.prototype;return a.componentDidUpdate=function(e){e.isInProgress&&!this.props.isInProgress&&this.props.togglePopover(Ug.d.MOVE_ASSETS,!1)},a.render=function(){var e=this,t=function(t){e.props.togglePopover(Ug.d.MOVE_ASSETS,t)};return h.a.createElement(Lh.a,{isOpen:this.props.isPopoverOpen,toggle:function(e){return t(e)},className:"flex"},h.a.createElement(gS.a,{className:"flex"},h.a.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.move,progress:this.props.isInProgress,breakpoint:"lg",onClick:function(){e.props.trackEvent(fe.f.MOVE,"intent to move assets to folder"),t(!0)},dataTest:"selection-popover-move",tooltipDisabled:window&&window.matchMedia(fe.r.MD).matches,tooltipText:Object(Ue.j)("selection.moveToFolderCaps"),tooltipDistance:5},h.a.createElement("span",{className:"f-xs"},Object(Ue.j)("selection.moveToFolder")))),h.a.createElement(iE.a,{className:"move-assets-popover",closeOnClickOutside:!this.props.isAddFolderModalOpen},h.a.createElement(TS,{assets:this.props.assets,onMove:function(t){e.props.trackEvent(fe.f.MOVE,"assets moved to folder successfully");var a=iV()(e.props.assets,(function(e){return e&&Object(mt.i)(e.type)})),n=a[0],r=a[1],s=iV()(n,(function(e){return Object(Mr.b)(e.role).editAssetsPublicId})),o=s[0],i=s[1];!o||r.length||i.length?e.props.showModal(pV,{operationId:e.props.operationId,assets:o,folderId:t,unManagedItems:r,unPermittedItems:i}):e.props.moveAssets(e.props.operationId,o,t)},initialId:this.props.assets&&this.props.assets[0]&&"fetch"!==this.props.assets[0].type?this.props.assets[0].folderId:""})))},t}(h.a.Component),bV=function(e){return{isPopoverOpen:Object(kh.selectIsPopoverOpen)(e,Ug.d.MOVE_ASSETS),isAddFolderModalOpen:Object(vS.selectAnyModalOpen)(e)}},hV={togglePopover:Dh.togglePopover,moveAssets:lV.moveAssets,showModal:wa.showModal},gV=Object(g.connect)(bV,hV)(fV),vV=cB(Object(le.b)(gV)),EV=Ug.c.DELETE_ASSETS,yV=function(e){var t=e.trackEvent,a=e.assets,n=e.multiSelectionDelete,r=a.filter((function(e){return Object(Mr.b)(e.role).deleteAssets})),s=r.length!==a.length,o=r.length?s?Object(Ue.j)("selection.operationNotAllowed.partialAllowed",{allowedCount:r.length,op:"delete"}):Object(Ue.j)("selection.deleteAssetsModal.body",{count:r.length}):Object(Ue.j)("selection.operationNotAllowed.notAllowed",{count:a.length,op:"delete"});return b.createElement(ho.b,{"data-test":"delete-dssets-modal",onConfirm:function(){t(fe.f.DELETE,"assets deleted successfully"),r.length&&n(r)},title:s?Object(Ue.j)("selection.operationNotAllowed.header",{past:"deleted"}):Object(Ue.j)("selection.deleteAssetsModal.header"),text:o,primaryButtonText:r.length?Object(Ue.j)("selection.deleteAssetsModal.delete"):Object(Ue.j)("selection.operationNotAllowed.abort"),primaryButtonVariant:"error",secondaryButtonText:Object(Ue.j)("selection.operationNotAllowed.cancel")})},jV={multiSelectionDelete:Rv.multiSelectionDelete},OV=function(e){return{assets:Object(Wk.selectSelectedAssets)(e)}},wV=Object(g.connect)(OV,jV)(yV);Ba.a.register(EV,Object(le.b)(wV));var IV=EV,TV=function(e){var t=e.showModal,a=e.disabled,n=e.trackingCategory,r=e.trackEvent;return b.createElement(bn.b,{skin:"menuDark",size:"md",icon:x.del,breakpoint:"lg",type:"button",onClick:function(){r(fe.f.DELETE,"intent to delete assets"),t(IV,{trackingCategory:n})},dataTest:"selection-delete",disabled:a,tooltipDisabled:window&&window.matchMedia(fe.r.MD).matches,tooltipText:Object(Ue.j)("selection.delete"),tooltipDistance:5,tooltipIsSensitive:!1},b.createElement("div",{className:"f-xs"},Object(Ue.j)("selection.delete")))},MV={showModal:wa.showModal},CV=Object(g.connect)(null,MV)(TV),NV=Object(le.b)(CV),xV=a(749),AV=function(e){return h.a.createElement(b.Fragment,null,(!e.can||e.can.deleteAssets)&&h.a.createElement(NV,null),(!e.can||e.can.editAssetsTags)&&h.a.createElement(wB,null),(!e.can||e.can.editAssetsPublicId)&&h.a.createElement(vV,{assets:e.selectedAssets}),e.canAddAssetsToCollection&&h.a.createElement(mU,null),e.isOperationAllowed(e.selectedAssets[0],ce.a.DOWNLOAD_ITEM)&&h.a.createElement(NB,null),(!e.can||e.can.moderateAssets||e.can.editAssetsContext||e.hasCustomActions)&&h.a.createElement(iU,{can:e.can}))},DV=function(e){var t;return{selectedAssets:Object(Wk.selectSelectedAssets)(e),canAddAssetsToCollection:Object(xV.selectManageableCollectionsAvailable)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),hasCustomActions:(null===(t=Object(lv.selectMultiSelectCustomActions)(e))||void 0===t?void 0:t.length)>0}},LV=Object(g.connect)(DV)(AV),SV=LV,kV=a(1560),PV=function(e){return Object(xI.i)("type",e)},_V=function(e){return Object(xI.i)("status",e)},RV=function(e){return h.a.createElement("ul",null,[{class:"pending",constant:"PENDING",textConst:"pending"},{class:"rejected",constant:"REJECTED",textConst:"rejected"},{class:"approved",constant:"APPROVED",textConst:"approved"}].map((function(t){return h.a.createElement("li",{key:t.constant,className:t.class+" "+(e.selected===fg.a[t.constant]?"active":"")},h.a.createElement("button",{onClick:function(){return a=fg.a[t.constant],e.trackEvent(fe.f.MODERATION,"filter status: "+a),e.collapseAllDropdowns(),void _V(a);var a},type:"button",className:"btn"},Object(Ue.j)("moderation."+t.textConst)))})))},FV=function(e){return{selected:Object(kV.selectModerationStatus)(e)}},zV={collapseAllDropdowns:wI.collapseAllDropdowns},BV=Object(g.connect)(FV,zV)(RV),UV=Object(le.b)(BV),VV=Object.keys(ge.r).map((function(e){return{constant:e,textConst:ge.r[e]}})),GV=function(e){var t=e.collapseAllDropdowns,a=e.trackEvent,n=e.selected;return h.a.createElement("ul",null,VV.map((function(e){return h.a.createElement("li",{key:e.constant,className:n===ge.r[e.constant]?"active":""},h.a.createElement("button",{onClick:function(){var n;n=ge.r[e.constant],a(fe.f.MODERATION,"filter type: "+n),t(),PV(n)},type:"button",className:"btn"},Object(Ue.j)("moderation."+e.textConst)))})))},WV=function(e){return{selected:Object(kV.selectModerationKind)(e)}},HV={collapseAllDropdowns:wI.collapseAllDropdowns},YV=Object(g.connect)(WV,HV)(GV),QV=Object(le.b)(YV),KV=(a(3958),function(e){var t=e.moderationTypeDropdownOpen?"drop-active":"",a=e.moderationStatusDropdownOpen?"drop-active":"";return h.a.createElement(TF,null,h.a.createElement("div",{"data-test":"moderation-toolbar",className:"moderation-bar flex items-center h-100 flex-grow-1 mh2"},h.a.createElement("div",{"data-test":"moderation-view-title",className:"f-md fw6 ml3 moderation-toolbar-title"},Object(Ue.j)("moderation.title")),h.a.createElement("div",{className:"nav-links"},h.a.createElement("div",{"data-test":"moderation-type-drop-down",className:"add-link "+t},h.a.createElement(OI.a,{ModalButtonComponent:function(){return!e.moderationTypeDropdownOpen&&h.a.createElement(MI,null)},ModalContentComponent:QV,outsideClickHandler:function(t){return e.setDropdownState(CR.b.MODERATION_TYPE,t)},modalModeSelector:function(e){return Object(II.selectDropdownMode)(e,{name:CR.b.MODERATION_TYPE})},renderWhenCollapsed:!0,buttonLabelKey:"",modalButtonClassName:CR.b.MODERATION_TYPE})),h.a.createElement("div",{className:"add-link addition "+a},h.a.createElement(OI.a,{ModalButtonComponent:function(){return!e.moderationStatusDropdownOpen&&h.a.createElement(MI,null)},ModalContentComponent:UV,outsideClickHandler:function(t){return e.setDropdownState(CR.b.MODERATION_STATUS,t)},modalModeSelector:function(e){return Object(II.selectDropdownMode)(e,{name:CR.b.MODERATION_STATUS})},renderWhenCollapsed:!0})))),h.a.createElement(xU,{CustomSelectionComp:SV,listId:fg.b}))}),ZV={setDropdownState:wI.setDropdownState},qV=function(e){return{moderationTypeDropdownOpen:Object(II.selectDropdownMode)(e,{name:CR.b.MODERATION_TYPE}),moderationStatusDropdownOpen:Object(II.selectDropdownMode)(e,{name:CR.b.MODERATION_STATUS})}},XV=Object(g.connect)(qV,ZV)(KV),JV=XV,$V=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"selectAllAssets",(function(){t.props.assetsSelectAll(fg.b)})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.updateNavigationFault(),this.props.createList(fg.b,W()({},fg.c,{isLoadEnabled:this.props.enableLoad,filter:this.props.filter,maxResults:Object(iI.a)(0,oI.a,2)}))},a.componentDidUpdate=function(){this.updateNavigationFault(),this.props.setListFilter(fg.b,this.props.filter)},a.componentWillUnmount=function(){this.props.collapseAllDropdowns(),this.props.removeList(fg.b)},a.updateNavigationFault=function(){},a.render=function(){return h.a.createElement(MR,{namespace:"moderationView",listsIds:fg.b,enableLoad:this.props.enableLoad,className:"moderation-active",roleName:this.props.roleName,Toolbar:JV,noHeader:!0,selectAll:this.selectAllAssets})},t}(h.a.Component),eG=function(e){return{roleName:Ve.a.Identity.rootFolderRole.get(e),filter:Object(kV.selectModerationViewFilter)(e)}},tG={createList:Fn.createList,removeList:Fn.removeList,setListFilter:Fn.setListFilter,collapseAllDropdowns:wI.collapseAllDropdowns,setNavigationFault:cb.setNavigationFault,assetsSelectAll:Rv.assetsSelectAll},aG=Object(g.connect)(eG,tG)($V),nG=aG,rG=a(165);a(3889);Object(Ue.h)(zt.selectCurrentCustomerId,(function(e,t){t(Object(pg.resetFolders)())}));var sG=[[ce.a.SHARE_ITEM,ce.a.DOWNLOAD_ITEM],[ce.a.RENAME_ITEM,ce.a.MOVE_ITEM],[ce.a.DELETE_ITEM]],oG=function(e){var t=[].concat(sG);return v.isIE&&t.splice(1,1),h.a.createElement("div",{className:"folders-sidebar h-100 overflow-hidden","data-test":"folders-sidebar"},h.a.createElement(le.a.Provider,{value:fe.g.FOLDER_PANE},h.a.createElement(ZE,{listId:rG.c,onItemClick:function(e){Object(be.u)(e),Object(cm.b)(fe.g.FOLDER_PANE,fe.f.NAVIGATE,"folder selected")},displayResourceCount:!0,itemOperations:t,onClose:function(){Object(cm.b)(fe.g.FOLDER_PANE,fe.f.SHOW_HIDE,"close folder pane"),e.closeFoldersPane()},onFolderCreated:function(e){return Be.d.success(Object(Ue.j)("mediaLibrary.createFolderToast.success",{name:e.name}),{text:Object(Ue.j)("mediaLibrary.createFolderToast.browse"),link:Object(be.g)(e.id)})}})))},iG={closeFoldersPane:db.closeLeftPane},lG=Object(g.connect)(null,iG)(oG),cG=ag(lG),dG=a(3959),uG=a.n(dG),mG=a(634),pG=a(3960),fG=k.default.div.withConfig({displayName:"FoldersTreestyles__StyledFoldersTree",componentId:"sc-54zm41-0"})(["flex-grow:1;width:100%;span{min-width:100%;width:auto !important;& > div{padding-right:10px;}}"]),bG=k.default.div.withConfig({displayName:"FoldersTreestyles__Left",componentId:"sc-54zm41-1"})(["display:flex;align-items:center;"]),hG=k.default.div.withConfig({displayName:"FoldersTreestyles__Wrap",componentId:"sc-54zm41-2"})(["display:flex;justify-content:space-between;width:100%;"]),gG=a(194),vG=45,EG=40,yG=Object(pG.enhanceTreeNodePropsWithMore)(pG.getTreeNodeProps),jG=Object(b.memo)((function(e){var t=e.name,a=e.isShared,n=0===e.depth,r=a?"sharedFolder":"folder";return h.a.createElement(hG,null,h.a.createElement(bG,null,h.a.createElement(et.a,{name:n?"cloud":r}),t))}));jG.displayName="NodeWithFolder";var OG=Object(b.memo)((function(e){var t=e.index,a=e.style,n=e.data.nodes[t],r=n.onNodeExpand,o=n.onNodeCollapse,l=n.name,c=n.isShared,d=n.renderedNodeId,u=(n.inProgress,n.setProgress),m=n.setExpanded,p=n.trackEvent,f=V()(n,["onNodeExpand","onNodeCollapse","name","isShared","renderedNodeId","inProgress","setProgress","setExpanded","trackEvent"]),v=Object(g.useDispatch)(),E=Object(b.useCallback)((function(e,t){t?(p(fe.f.EXPAND,"expand folder"),null==r||r(e)):(null==o||o(e),p(fe.f.COLLAPSE,"collapse folder")),m(e,t)}),[p,m,r,o]),y=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(n.nodeId,!0),e.prev=1,e.next=4,v(Object(Fn.loadMoreListItems)(Object(gG.b)(n.origNodeId)));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Failed to load more items for Folders Tree node "+n.origNodeId);case 9:return e.prev=9,u(n.nodeId,!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}();return h.a.createElement("span",{style:a,className:"fs-exclude","data-test":"folders-tree-item"},d?h.a.createElement(pG.ShowMore,W()({},n,{onClick:y})):h.a.createElement(pG.TreeNode,W()({},f,{setExpanded:E,progress:n.inProgress}),h.a.createElement(jG,{name:l,isShared:c,depth:n.depth})))}),mG.areEqual);OG.displayName="RowNode";var wG=function(e,t){return t.nodes[e].nodeId},IG=function(e){var t=e.treeData,a=e.ensureListExists,n=e.onItemClick,r=e.onNodeExpand,o=e.onNodeCollapse,l=e.trackEvent,c=function(){var e=i()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nodeId,e.next=3,a(Object(gG.b)(n),{itemType:he.c,filter:{id:Object(gG.c)(n)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.nodeId;n(Object(gG.c)(t))},u=Object(pG.useExpanded)(),m=Object(pG.useSelected)(),p=Object(pG.useProgress)(),f=t.reduce((function(e,a,n){var s=a.depth,i=V()(a,["depth"]);return yG(W()({depth:s,isLast:n===t.length-1},i,u,m,p,{onExpand:c,onSelect:d,onNodeExpand:r,onNodeCollapse:o,trackEvent:l})).forEach((function(t){(t.visible||0===s)&&e.push(t)})),e}),[]);return h.a.createElement(fG,{"data-test":"folders-tree"},h.a.createElement(bp.default,null,(function(e){var t=e.width,a=e.height;return h.a.createElement(mG.FixedSizeList,{className:"data-test-folder-tree-list",width:t,height:a-vG,itemCount:f.length,itemSize:EG,itemData:{nodes:f,selectedProps:m,expandedProps:u},itemKey:wG},OG)})))},TG={ensureListExists:Fn.ensureListExists,loadMoreListItems:Fn.loadMoreListItems},MG=Object(g.connect)(null,TG)(IG),CG=Object(le.b)(MG),NG=a(1595),xG=a(356),AG=Object(k.default)(uG.a).withConfig({displayName:"FoldersPaneWithTree__StyledResizablePanel",componentId:"m9kbbx-0"})(["@media ","{width:100% !important;max-width:initial !important;& > div:last-child{display:none;}}"],fe.s.SM),DG=k.default.div.withConfig({displayName:"FoldersPaneWithTree__FoldersContainer",componentId:"m9kbbx-1"})(["overflow:hidden !important;& > div > div > div{overflow-x:scroll !important;}"]),LG=236,SG=500,kG=function(e){var t=e.closeFoldersPane,a=Object(b.useCallback)((function(){Object(cm.b)(fe.g.FOLDER_PANE_WITH_TREE,fe.f.SHOW_HIDE,"close folder pane"),t()}),[t]),n=Object(b.useCallback)((function(){Object(cm.b)(fe.g.FOLDER_PANE_WITH_TREE,fe.f.RESIZE,"folder pane resized")}),[]);return h.a.createElement(AG,{minWidth:LG,maxWidth:SG,persistenceKey:"folders-pane",resetOnDoubleClick:!0,onResizeStart:n},h.a.createElement("div",{className:"folders-sidebar h-100 w-100 overflow-hidden","data-test":"folders-sidebar"},h.a.createElement(le.a.Provider,{value:fe.g.FOLDER_PANE_WITH_TREE},h.a.createElement(st,{dataTest:"folders-tree-head",closeButtonDataTest:"close-folder-pane-btn",onClose:a},Object(Ue.j)("folders.title")),h.a.createElement(DG,{className:"folders-container","data-test":"folders-wrapper"},h.a.createElement(CG,{treeData:e.treeData,onNodeExpand:e.addExpandedNodeId,onNodeCollapse:e.removeExpandedNodeId,onItemClick:function(e){Object(be.u)({id:e,itemType:he.c}),Object(cm.b)(fe.g.FOLDER_PANE_WITH_TREE,fe.f.NAVIGATE,"folder selected")}})))))},PG=function(e){return{treeData:Object(NG.selectTreeData)(e)}},_G={closeFoldersPane:db.closeLeftPane,addExpandedNodeId:xG.addExpandedNodeId,removeExpandedNodeId:xG.removeExpandedNodeId},RG=Object(g.connect)(PG,_G)(kG),FG=ag(RG),zG=a(1266),BG=a(176),UG=k.default.div.withConfig({displayName:"NavigationViewToolbar__BreadcrumbsWithAddFolderButton",componentId:"sc-11h8kah-0"})(["display:flex;flex-grow:1;@media screen and (max-width:785px){width:100%;order:-1 !important;}"]),VG=ql()((function(e){var t=function(){return b.createElement(SV,{can:e})};return t.displayName="assetsCustomSelectionOperationsWithUserCan",t})),GG=ql()((function(e){var t,a=[];if(!e)return a;if(null!==(t=e.viewableParents)&&void 0!==t&&t.length){var n=e.viewableParents.map((function(e){return{name:Object(ia.a)(e),id:e.external_id}}));a=[].concat(n,[{name:e.name,id:e.id}])}else""!==e.path&&(a=[{name:e.name,id:e.id}]);return a})),WG=function(e){var t=e.folder,a=e.apiLevel,n=zG.a.getUserCan(t,a),r=GG(t);return b.createElement(TF,{uploadFolderPath:t&&t.path},b.createElement(UG,{"data-test":"breadcrumbs-wrapper"},b.createElement(WR,{item:t,itemType:he.c,breadcrumbs:r}),!v.isMobileOnly&&t&&Object(Mr.b)(t.role).createFolders?b.createElement(uh,{currentId:t.id,onItemCreated:function(e){return Be.d.success(Object(Ue.j)("mediaLibrary.createFolderToast.success",{name:e.name}),{text:Object(Ue.j)("mediaLibrary.createFolderToast.browse"),link:Object(be.g)(e.id)})},trackingCategory:fe.g.TOOLBAR,tooltipDistance:5,size:"md"}):null),b.createElement(rB,{roleName:t&&t.role}),b.createElement(xU,{CustomSelectionComp:VG(n),listId:rG.a}))},HG=function(e){return{folder:Object(BG.selectCurrentFolderItem)(e),apiLevel:Object(zt.selectApiLevel)(e)}},YG=Object(g.connect)(HG)(WG),QG=YG,KG=a(705),ZG=a(420),qG=ql()((function(e){return{Component:e?FG:cG,buttonOptions:{tooltip:Object(Ue.j)("navigationView.openFoldersPanelButton.tooltip"),icon:x.folder}}})),XG={Component:sI},JG=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{visibleLists:[rG.c,rG.a]}),p()(c()(t),"getVisibleListIds",ql()((function(e,t){return w()([e?rG.c:null,t?rG.a:null])}),(function(e,t){return String(e)+" + "+String(t)}))),p()(c()(t),"loadCurrentFolder",(function(e){t.props.isUsingPath?t.props.loadItem(he.c,t.props.folderId,{apiIdPropName:"path",forceLoad:e}):t.props.loadItem(he.c,t.props.folderId,{forceLoad:e})})),p()(c()(t),"setVisibleListIds",(function(e,a){e.foldersListVisible===a.foldersListVisible&&e.assetsListVisible===a.assetsListVisible||t.setState({visibleLists:t.getVisibleListIds(e.foldersListVisible,e.assetsListVisible)})})),p()(c()(t),"selectAllAssets",(function(){t.props.assetsSelectAll(rG.a)})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.currentCustomer&&null===this.props.foldersPaneOpen&&!this.props.foldersInGridEnabled&&this.props.closeFoldersPane(),this.props.createList(rG.c,W()({},rG.d,{filter:this.props.foldersFilter,maxResults:Object(iI.a)(1,oI.b)})),this.props.createList(rG.a,W()({},rG.b,{filter:this.props.assetsFilter,sortField:this.props.sortField,sortDirection:this.props.sortDirection,maxResults:Object(iI.a)(0,oI.a,2)})),this.loadCurrentFolder(!0),this.props.closeAdvancedSearchPane()},a.componentDidUpdate=function(e){if(this.setVisibleListIds(this.props,e),this.props.setListFilter(rG.a,this.props.assetsFilter),this.props.setListFilter(rG.c,this.props.foldersFilter),this.props.setListSortField(rG.a,this.props.sortField),this.props.setListSortDirection(rG.a,this.props.sortDirection),e.folderId!==this.props.folderId){var t,a=!Y()(null===(t=this.props.folder)||void 0===t?void 0:t.path);this.loadCurrentFolder(a)}},a.componentWillUnmount=function(){this.props.removeList(rG.c),this.props.removeList(rG.a),this.props.clearAllFoldersTreeLists()},a.render=function(){var e;return h.a.createElement(MR,{namespace:"navigationView",listsIds:this.state.visibleLists,roleName:this.props.roleName,leftPaneOptions:qG(this.props.foldersTreeEnabled),topPaneOptions:XG,Toolbar:QG,shouldDisplayRefresh:!0,uploadFolderPath:null===(e=this.props.folder)||void 0===e?void 0:e.path,dndSupportedMode:this.props.isOperationAllowed({itemType:pe.w.ASSET,role:this.props.roleName},ce.a.UPLOAD_ITEM),selectAll:this.selectAllAssets,containerItem:this.props.folderId&&this.props.folder})},t}(h.a.Component),$G=function(e){return{foldersInGridEnabled:Object(BG.selectFoldersInGridEnabled)(e),assetsListVisible:Object(BG.selectAssetsListVisible)(e),foldersListVisible:Object(BG.selectFoldersListVisible)(e),currentCustomer:Object(zt.selectCurrentCustomer)(e),foldersPaneOpen:Object(ub.selectLeftPaneOpen)(e),roleName:Object(BG.selectCurrentFolderRole)(e),folder:Object(BG.selectCurrentFolderItem)(e),folderId:Object(BG.selectCurrentFolderId)(e),isUsingPath:Object(BG.selectIsUsingFolderPath)(e),foldersFilter:Object(BG.selectFoldersFilter)(e),assetsFilter:Object(BG.selectAssetsFilter)(e),sortField:Object(ub.selectSortField)(e),sortDirection:Object(ub.selectSortDirection)(e),isOperationAllowed:Object(Ie.selectIsItemOperationAllowed)(e),isAssetDrilldown:Object(jt.selectIsAssetDrilldownOn)(e),foldersTreeEnabled:Object(ZG.selectIsFoldersTreeEnabled)(e)}},eW={createList:Fn.createList,removeList:Fn.removeList,loadItem:j.loadItem,collapseAllDropdowns:wI.collapseAllDropdowns,setListFilter:Fn.setListFilter,setListSortField:Fn.setListSortField,setListSortDirection:Fn.setListSortDirection,closeFoldersPane:db.closeLeftPane,assetsSelectAll:Rv.assetsSelectAll,clearAllFoldersTreeLists:KG.clearAllFoldersTreeLists,closeAdvancedSearchPane:db.closeTopPane},tW=Object(g.connect)($G,eW)(JG),aW=tW,nW=a(564),rW=Ue.b.url.prodRes+"/image/upload/q_auto,f_auto/v1579597439/console/no-portals.png",sW="\n    display: flex;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n",oW="\n    max-width: 600px;\n    margin: 20px;\n    background-color: #8600E4;\n    border-radius: 15px;\n    overflow: hidden;\n    color: #FFFFFF;\n    text-align: center;\n",iW="\n    font-size: 36px;\n    font-weight: bold;\n    text-align: center;\n",lW="\n    margin: 0 85px 20px;\n    font-size: 12px;\n",cW="\n    height: 44px;\n    margin-bottom: 45px;\n    font-weight: 400;\n    font-size: 16px;\n    color: #262C35;\n",dW=Object(k.default)("div").withConfig({displayName:"EmptyPortalsList___StyledDiv",componentId:"sc-23umfz-0"})(["",""],sW),uW=Object(k.default)("div").withConfig({displayName:"EmptyPortalsList___StyledDiv2",componentId:"sc-23umfz-1"})(["",""],oW),mW=Object(k.default)("div").withConfig({displayName:"EmptyPortalsList___StyledDiv3",componentId:"sc-23umfz-2"})(["",""],iW),pW=Object(k.default)("div").withConfig({displayName:"EmptyPortalsList___StyledDiv4",componentId:"sc-23umfz-3"})(["",""],lW),fW=Object(k.default)(bn.a).withConfig({displayName:"EmptyPortalsList___StyledButton",componentId:"sc-23umfz-4"})(["",""],cW),bW=function(e){var t,a,n=e.createItem,r=Object(b.useState)(!1),o=r[0],l=r[1],c=Object(bd.a)(),d=function(){var e=i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(fe.f.CREATE,"intent to create new portal"),l(!0),e.next=4,n(lb.a);case 4:l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o?h.a.createElement(ji.a,null):(t=Object(Ue.j)("portalsView.emptyList.title"),a=Object(Ue.j)("portalsView.emptyList.subtitle"),h.a.createElement(dW,null,h.a.createElement(uW,null,h.a.createElement("img",{src:rW,alt:t||a}),h.a.createElement(mW,null,t),h.a.createElement(pW,null,h.a.createElement(ml.a,{text:a})),h.a.createElement(fW,{"data-test":"create-portal-button",size:"md",onClick:d,skin:"secondary",icon:x.add},Object(Ue.j)("portalsView.emptyList.create")))))},hW=bW,gW=a(3843),vW=a(1264),EW=a(3968),yW=Object(b.createContext)(null),jW=function(){var e=Object(b.useContext)(yW);if(!e)throw new Error("Api context is not provided.");return e},OW=function(e){var t=e.children,a=V()(e,["children"]);return h.a.createElement(yW.Provider,{value:a},t)},wW=Object(k.default)(Ca.FieldLayout).withConfig({displayName:"FieldWrapper__StyledFieldLayout",componentId:"kqz40j-0"})(["&:not(:last-child){border-bottom:1px solid ",";}padding-bottom:17px;margin-bottom:22px;"],tt.m),IW=k.default.div.withConfig({displayName:"FieldWrapper__ChildrenWrapper",componentId:"kqz40j-1"})([""]),TW=function(e){var t=e.label,a=e.error,n=(e.htmlFor,e.children),r=e.note,s=e.noteType,o=void 0===s?"none":s,i=e.required,l=V()(e,["label","error","htmlFor","children","note","noteType","required"]),c=a||r,d=a?"error":o,u=h.a.createElement(Ca.Label,{mandatory:i},t),m=c?h.a.createElement(Ca.ValidationMessage,{type:d},c):null;return h.a.createElement(wW,W()({layout:"vertical",label:u,validation:m},l),h.a.createElement(IW,null,n))},MW=function(e){var t=W()({},e),a=Object(gW.useFieldContext)().meta,n=a.touched,r=a.error;return h.a.createElement(TW,W()({},t,{error:n&&r}))},CW=k.default.div.withConfig({displayName:"DraggableCollection__StyledCollectionContainer",componentId:"sc-1gepvaf-0"})(["cursor:pointer;& .draggable-preview{background-color:",";border:1px solid ",";height:46px;margin-top:-1px;}",""],(function(e){return e.hovered?tt.k:tt.h}),tt.m,(function(e){return e.loading&&Object(k.css)(["opacity:0.2;pointer-events:none;"])})),NW=k.default.div.withConfig({displayName:"DraggableCollection__StyledCollection",componentId:"sc-1gepvaf-1"})(["width:100%;display:flex;align-items:center;& > div:first-child{margin-left:4px;margin-right:12px;}"]),xW=k.default.div.withConfig({displayName:"DraggableCollection__StyledCollectionDescription",componentId:"sc-1gepvaf-2"})(["display:flex;flex-direction:column;& > span:first-child{font-size:12px;line-height:17px;color:",";}& > span:nth-of-type(2){font-size:10px;line-height:15px;color:",";}"],tt.r,tt.n),AW=k.default.div.withConfig({displayName:"DraggableCollection__StyledCollectionActions",componentId:"sc-1gepvaf-3"})(["margin-left:auto;& > *{margin-right:5px;}"]),DW=function(e){var t=e.hovered,a=e.name,n=e.onOpen,r=e.owner,s=e.onRemove;return h.a.createElement(NW,null,h.a.createElement(ee.a,{path:x.collection,color:"gray-70",size:"md"}),h.a.createElement(xW,null,h.a.createElement("span",null,a),h.a.createElement("span",null,r)),t&&h.a.createElement(AW,null,h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("portals.settings.tooltips.openCollection")},h.a.createElement(bn.a,{size:"sm",skin:"basic",icon:x.openInNew,onClick:n})),h.a.createElement(Z.a,{tooltipText:Object(Ue.j)("portals.settings.tooltips.removeCollection")},h.a.createElement(bn.a,{size:"sm",skin:"destructiveReversed",icon:x.cross,onClick:s}))))},LW=function(e){var t=e.collection,a=t.id,n=t.name,r=t.owner,s=t.loading,o=e.onOpen,i=e.index,l=e.onMove,c=e.onRemove,d=Tp()(),u=d.isHovered,m=d.ref;return h.a.createElement(CW,{loading:s,ref:m,hovered:u},h.a.createElement(Ap,{id:a,index:i,onMove:l},h.a.createElement(DW,{hovered:u,id:a,name:n,owner:r,onOpen:o,onRemove:function(){return c(i)}})))},SW=LW,kW=k.default.span.withConfig({displayName:"PortalsViewtranslationshelpers__MultiLine",componentId:"ciob5p-0"})(["display:block;"]),PW=function(e){return e.split("\n").map((function(e,t){return h.a.createElement(kW,{key:t.toString()},e)}))},_W=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return Ue.j.apply(void 0,[["portals.settings.labels."+e,"portals.settings.labels.default"]].concat(a))},RW=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return PW(Ue.j.apply(void 0,[["portals.settings.notes."+e,"portals.settings.notes.default"]].concat(a)))},FW=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return PW(Ue.j.apply(void 0,["portals.settings.errors."+e].concat(a)))},zW=function(e,t,a){var n=[].concat(e);return a>=n.length&&(n.length=a+1),n.splice(a,0,n.splice(t,1)[0]),n},BW=a(3961),UW=a.n(BW),VW=function(e){var t=e.item,a=e.trimmedSearchTerm;return h.a.createElement(kE,{displaySubtitle:!0,showResourceCount:!1,highlightTerm:a,className:UW.a.addToCollectionOption,item:t})},GW=function(e){var t=e.collections,a=e.isLoading,n=e.onSearch,r=e.onSelect,s=e.placeholder,o=Object(b.useRef)(),i=Object(b.useState)(""),l=i[0],c=i[1],d=Jl()(l),u=function(e){return t=e.target.value,c(t),void n(t);var t};return h.a.createElement(oc,{inputValue:l,inputItemWrapperClassName:UW.a.addToCollectionsInput,inputWrapperRef:o,dropClassName:UW.a.addToCollectionOptions,selected:[],dropItemComponent:VW,getItemKey:function(e){return e.name+"@"+e.userName},selectedItemComponent:VW,getItems:function(){return a?[]:t||[]},placeholder:a?Object(Ue.j)("addAssetsToCollection.loading"):s,getInputProps:function(){return{onChange:u}},autocompletePlaceholder:a&&d.length?Object(Ue.j)("addAssetsToCollection.loading"):void 0,onSelect:r,itemToString:function(){return""},dropItemData:{trimmedSearchTerm:d}})};GW.defaultProps={placeholder:Object(Ue.j)("addAssetsToCollection.placeholder")};var WW=GW,HW=function(e,t){var a=[].concat(e);return a.splice(t,1),a},YW=k.default.div.withConfig({displayName:"Collections__CollectionDDRoot",componentId:"sc-5rqx1t-0"})(["margin-top:20px;"]),QW=k.default.div.withConfig({displayName:"Collections__PickerWrapper",componentId:"sc-5rqx1t-1"})(["input{border:1px solid ",";border-radius:5px;height:30px;background-color:",";padding-left:5px;font-size:12px;box-sizing:border-box;width:100%;margin-left:0;}.ml1{margin-left:0;}"],tt.n,tt.k),KW=function(){var e=Object(Or.useFormikContext)(),t=e.setFieldValue,a=e.values,n=Object(gW.useFieldContext)().input.name,r=Object(bd.a)(),s=jW().useCollectionPickerDataProvider;if(!s)throw new Error("You must provide useCollectionPickerDataProvider for Collections field");var o=s(!1,a.collectionIds),i=o.collections,l=o.isLoading,c=o.search;return h.a.createElement(QW,null,h.a.createElement(WW,{placeholder:Object(Ue.j)("addAssetsToCollection.placeholderSearchOnly"),collections:i,isLoading:l,onSearch:c,onSelect:function(e){r(fe.f.ADD,"intent to add collection to portal"),t(n,Yo()([].concat(a.collectionIds||[],[e.id])))}}))},ZW=function(){var e=Object(gW.useFieldContext)().input,t=e.value,a=e.name,n=Object(Or.useFormikContext)().setFieldValue,r=jW(),s=r.useCollections,o=r.openCollection,i=null==s?void 0:s(t||[]),l=function(e,r){n(a,zW([].concat(t),e,r))},c=function(e){n(a,HW(t,e))};return h.a.createElement(YW,null,h.a.createElement(vW.a,{backend:v.isMobile?EW.a:zk.default},null==i?void 0:i.map((function(e,t){return h.a.createElement(SW,{collection:e,index:t,key:e.id,onMove:l,onRemove:c,onOpen:function(){return null==o?void 0:o(e.id)}})}))))},qW=function(){return h.a.createElement(gW.Field,{name:"collectionIds"},h.a.createElement(MW,{htmlFor:"portal-collections",label:_W("collections"),note:RW("collections")},h.a.createElement(Ca.GroupLayout,null,h.a.createElement(KW,null),h.a.createElement(ZW,null))))},XW=Object(k.css)(["",";padding-left:5px;font-size:12px;box-sizing:border-box;width:100%;&:focus,&:focus-within{","}&:disabled{color:",";}"],km,Sm,tt.n),JW=Object(k.default)(Object(gW.withFieldInputProps)("input")).withConfig({displayName:"TextInput",componentId:"x358wb-0"})(["",";"],XW),$W=(Object(k.default)(Object(gW.withFieldInputProps)("textarea")).withConfig({displayName:"TextInput__TextAreaInput",componentId:"x358wb-1"})(["",";min-height:80px;"],XW),function(){return h.a.createElement(gW.Field,{name:"title"},h.a.createElement(MW,{htmlFor:"portal-title",label:_W("title"),note:RW("title"),required:!0},h.a.createElement(JW,{id:"portal-title"})))}),eH=k.default.div.withConfig({displayName:"Url__UrlBase",componentId:"zkpxe7-0"})(["color:",";font-size:12px;margin-top:8px;"],tt.o),tH="\n    word-wrap: break-word;\n",aH=Object(k.default)("b").withConfig({displayName:"Url___StyledB",componentId:"zkpxe7-1"})(["",""],tH),nH=function(){var e=jW(),t=e.urlBase,a=e.deliveryNameDisabled,n=Object(Or.useFormikContext)().values;return h.a.createElement(gW.Field,{name:"deliveryName"},h.a.createElement(MW,{htmlFor:"portal-url",label:_W("url"),note:RW("url"),noteType:"warning",required:!0},h.a.createElement(JW,{id:"portal-url",disabled:a}),h.a.createElement(eH,null,t,"/",h.a.createElement(aH,null,n.deliveryName))))},rH=function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement($W,null),h.a.createElement(nH,null),h.a.createElement(qW,null))},sH="EMPTY_PORTAL_CONFIRMATION_MODAL",oH=function(e){var t=e.trackEvent,a=e.onConfirm;return h.a.createElement(ho.b,{onConfirm:function(){t(fe.f.CREATE,"created empty portal"),a()},title:Object(Ue.j)("portalsView.emptyPortalConfirmationModal.header"),text:Object(Ue.j)("portalsView.emptyPortalConfirmationModal.message"),primaryButtonText:Object(Ue.j)("portalsView.emptyPortalConfirmationModal.proceed")})};Ba.a.register(sH,Object(le.b)(oH));var iH=sH,lH=a(4e3),cH=Object(k.default)(bn.a).attrs({size:"md",breakpoint:"sm",skin:"action"}).withConfig({displayName:"ToolbarActionButton",componentId:"sc-11niehh-0"})(["margin-left:auto;"]),dH=a(4013),uH=a(4062),mH=function(e){var t=e.onActionButtonClick,a=e.actionButtonDisabled,n=e.actionButtonLoading,r=e.actionButtonIcon,s=e.header,o=e.actionButtonLabel;return h.a.createElement(uH.a,null,h.a.createElement(dH.a,null,s),h.a.createElement(cH,{disabled:a,onClick:t,icon:r,progress:n},o))},pH=Object(lH.b)(mH),fH=function(e,t){return{isLoading:!!e&&e.inProgress,item:(null==e?void 0:e.item)||void 0,error:e?e.error:void 0,id:t}},bH=function(e,t){var a=Object(g.useStore)(),n=Object(g.useDispatch)(),r=Object(b.useCallback)((function(a){return e.map((function(e){return fH(Object(_t.selectItemInfo)(a,t,e),e)}))}),[e,t]),s=Object(g.useSelector)(r);return Object(b.useEffect)((function(){e.forEach((function(e){!Object(_t.selectItemInfo)(a.getState(),t,e)&&n(Object(j.loadItem)(t,e))}))}),[e,a,n,t]),s},hH=function(){var e=Xd();return Object(b.useCallback)((function(t){return mu(t,e)}),[e])},gH=function(){var e=Xd();return cu()+"/"+e},vH=function(e){var t=Xd(),a=(null==e?void 0:e.deliveryName)||"",n=Object(b.useCallback)((function(){return uu(a,t)}),[t,a]),r=hH();return{urlBase:gH(),openPortal:n,openCollection:r}},EH=function(e){var t=bH(e,fl.e);return Object(b.useMemo)((function(){return t.map((function(e){var t,a;return{id:e.id||"",name:null===(t=e.item)||void 0===t?void 0:t.name,owner:null===(a=e.item)||void 0===a?void 0:a.userName,loading:e.isLoading}}))}),[t])},yH=a(3997),jH=a(4779),OH=a.n(jH),wH="PORTAL_CREATED_MODAL",IH="\n  display: flex;\n  justify-content: center;\n  margin-top: 25px;\n  margin-bottom: 10px;\n  max-width: 100%;\n  width: 500px;\n",TH="\n  font-size: 14px;\n  text-align: center;\n  margin-bottom: 20px;\n",MH=function(e){var t=e.trackEvent,a=e.onConfirm;return h.a.createElement(ho.b,{onConfirm:function(){t(fe.f.PUBLISH,"portal published successfully"),a()},title:Object(Ue.j)("portalsView.createdPortalModal.header"),text:"",renderBodyContent:xH,primaryButtonText:Object(Ue.j)("portalsView.createdPortalModal.proceed"),secondaryButtonText:Object(Ue.j)("portalsView.createdPortalModal.cancel")})},CH=Object(k.default)("div").withConfig({displayName:"PortalCreatedModal___StyledDiv",componentId:"sc-1p1s7iy-0"})(["",""],IH),NH=Object(k.default)("div").withConfig({displayName:"PortalCreatedModal___StyledDiv2",componentId:"sc-1p1s7iy-1"})(["",""],TH),xH=function(){return h.a.createElement(Lt.a,null,h.a.createElement(CH,null,h.a.createElement("img",{src:OH.a,alt:""})),h.a.createElement(NH,null,Object(Ue.j)("portalsView.createdPortalModal.message")))};Ba.a.register(wH,Object(le.b)(MH));var AH=wH,DH=100,LH=500,SH=100,kH=Om.j().required(FW("title.required")).max(DH,FW("title.length",{length:DH})),PH=Om.j().required(FW("url.required")).max(SH,FW("url.length",{length:SH})).matches(/^[A-z0-9\-_]+$/,(function(){return FW("url.matches")})),_H=Om.j().oneOf(["published","unpublished"]),RH=Om.b().of(Om.j()),FH=Om.b().test("description",FW("description.length",{length:LH}),(function(e){var t=0;return e.forEach((function(e){e.children.forEach((function(e){var a;!jr()(null==e?void 0:e.unified)&&t++;var n=null==e||null===(a=e.text)||void 0===a?void 0:a.length;Mh()(n)||(t+=n)}))})),t<LH})),zH=Om.i().shape({title:kH,deliveryName:PH,collectionIds:RH}),BH=function(e){var t=e.isSaving,a=V()(e,["isSaving"]);return h.a.createElement(lH.a,W()({},a,{validationSchema:zH,formikExtraProps:{validateOnMount:!0}}),h.a.createElement(yH.a,{header:h.a.createElement(pH,{header:Object(Ue.j)("portals.pages.creation.header"),actionButtonLabel:Object(Ue.j)("portals.pages.creation.mainAction"),actionButtonIcon:x.smallPlus,actionButtonLoading:t})},h.a.createElement(rH,null)))},UH=function(){var e=ru(),t=e.isSaving,a=e.create,n=Object(g.useDispatch)(),r=gH(),o=hH(),l=Object(bd.a)(),c=Object(b.useMemo)((function(){return{}}),[]),d=Xd();return h.a.createElement(OW,{urlBase:r,openCollection:o,useCollections:EH,useCollectionPickerDataProvider:Wg},h.a.createElement(BH,{initialValues:c,isSaving:t,onSubmit:function(e){var t,r=function(){var t=i()(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(W()({},e,{privacy:"public",publishStatus:"unpublished"}));case 2:(r=t.sent)&&(l(fe.f.CREATE,"portal created successfully"),n(Object(wa.showModal)(AH,{onConfirm:function(){var e=i()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,n(Object(j.updateItem)(r,"$all",{publishStatus:"published"}));case 3:t=e.sent,l(fe.f.NAVIGATE,"portal"),uu(t.deliveryName,d);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(null===(t=e.collectionIds)||void 0===t?void 0:t.length)>0?r():n(Object(wa.showModal)(iH,{onConfirm:r}))}}))},VH=Object(b.memo)(UH),GH=Object(k.default)(fo.Combobox).withConfig({displayName:"SelectInput__StyledSelect",componentId:"l45kxq-0"})(["width:195px;"]),WH=function(e){var t=W()({},e),a=Object(gW.useFieldContext)().input,n=a.onBlur,r=a.name,s=a.value,o=V()(a,["onBlur","name","value"]),i=Object(Or.useFormikContext)().setFieldValue,l=Zk()(W()({},t,o),["onChange","onBlur","value"]);return h.a.createElement(GH,W()({},l,{value:Object(sp.a)(s,t.options),id:r,onChange:function(e){return i(r,null==e?void 0:e.value)},onBlur:n}))},HH=Object(k.default)((function(e){var t=e.status,a=V()(e,["status"]);return h.a.createElement("svg",W()({},a,{width:6,height:6}),h.a.createElement("circle",{cx:3,cy:3,r:3,fill:"published"===t?tt.e:tt.m}))})).withConfig({displayName:"Status__StatusDot",componentId:"pzh0lo-0"})(["vertical-align:middle;margin-right:5px;margin-bottom:1px;"]),YH=function(e){var t=e.data;return h.a.createElement(Ls.ItemContext.Provider,{value:{}},h.a.createElement(Ls.IconTwoLine,{icon:h.a.createElement(HH,{status:t.value}),primaryText:t.label}))},QH=Object(Mb.withListItemLayout)((function(e,t){return h.a.createElement(Ls.ItemContext.Provider,{value:t},h.a.createElement(Ls.IconTwoLine,{icon:h.a.createElement(HH,{status:e.value}),primaryText:e.label}))})),KH=[{label:"Published",value:"published"},{label:"Unpublished",value:"unpublished"}],ZH={Option:QH,SingleValue:YH},qH=function(e){return h.a.createElement(WH,W()({},e,{options:KH,isClearable:!1,isSearchable:!1,components:ZH}))},XH=k.default.div.withConfig({displayName:"Status__Row",componentId:"pzh0lo-1"})(["display:flex;flex-direction:row;align-items:center;"]),JH=function(){var e=jW(),t=e.openPortal,a=e.urlBase,n=Object(Or.useFormikContext)(),r=n.initialValues,s=n.values;return h.a.createElement(gW.Field,{name:"publishStatus"},h.a.createElement(MW,{label:_W("status"),note:RW("status."+s.publishStatus,{url:String(a)+"/"+s.deliveryName}),htmlFor:"portal-status"},h.a.createElement(XH,null,h.a.createElement(qH,{id:"portal-status"}),h.a.createElement(Xe.a,{size:"sm",type:"menu",tooltipText:Object(Ue.j)("portals.settings.tooltips.openPortal"),icon:"openInNew",onClick:t,disabled:"published"!==r.publishStatus}))))};function $H(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=eY(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function eY(e,t){if(e){if("string"==typeof e)return tY(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?tY(e,t):void 0}}function tY(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var aY=function(e){return function(t){var a=t.onChange,n=V()(t,["onChange"]),r=Object(gW.useFieldContext)().input,s=(r.onChange,r.value),o=r.name,i=V()(r,["onChange","value","name"]),l=Object(Or.useFormikContext)(),c=l.setFieldValue,d=l.setFieldTouched,u=W()({onChangeCallback:function(e){e!==s&&(c(o,e),d(o,!0),a())},value:function(e){for(var t,a=[],n=$H(e);!(t=n()).done;){var r=t.value,s={type:r.type,children:[].concat(r.children)};a.push(s)}return a}(s)},n,i);return h.a.createElement(e,u)}},nY=aY(hd.WysiwygEditor),rY=function(){var e=Object(bd.a)();return h.a.createElement(gW.Field,{name:"description"},h.a.createElement(MW,{htmlFor:"portal-description",label:_W("description"),note:RW("description"),required:!1},h.a.createElement(nY,{id:"portal-description",isMobile:v.isMobile,onChange:function(){return e(fe.f.EDIT,"Intent to edit portal description")}})))},sY=function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement(JH,null),h.a.createElement($W,null),h.a.createElement(rY,null),h.a.createElement(nH,null),h.a.createElement(qW,null))},oY=Om.i().shape({title:kH,description:FH,publishStatus:_H,collectionIds:RH}),iY=function(e){var t=e.isSaving,a=V()(e,["isSaving"]);return h.a.createElement(lH.a,W()({},a,{validationSchema:oY,deliveryNameDisabled:!0}),h.a.createElement(yH.a,{header:h.a.createElement(pH,{header:Object(Ue.j)("portals.pages.settings.header"),actionButtonLabel:Object(Ue.j)("portals.pages.settings.mainAction"),actionButtonIcon:x.check,actionButtonLoading:t})},h.a.createElement(sY,null)))},lY=function(){var e=nu(),t=e.portal,a=e.isSaving,n=e.save,r=vH(t),s=r.openPortal,o=r.openCollection,i=r.urlBase;return h.a.createElement(OW,{openPortal:s,urlBase:i,useCollections:EH,openCollection:o,useCollectionPickerDataProvider:Wg,deliveryNameDisabled:!0},h.a.createElement(iY,{initialValues:t,isSaving:a,onSubmit:n}))},cY=lY,dY=a(4036),uY=function(){var e=tu(),t=e.isLoading,a=e.error,n=e.item,r=Object(b.useState)(!1),s=r[0],o=r[1];return t?h.a.createElement(le.a.Provider,{value:fe.g.PORTAL_MANAGEMENT},h.a.createElement(dY.a,{headerText:Object(Ue.j)("portals.pages.general.header")}),h.a.createElement(vn.a,null)):a?h.a.createElement(le.a.Provider,{value:fe.g.PORTAL_MANAGEMENT},h.a.createElement(dY.a,{headerText:Object(Ue.j)("portals.pages.general.header")}),h.a.createElement(nW.b,null)):!n&&s?h.a.createElement(le.a.Provider,{value:fe.g.PORTAL_MANAGEMENT},h.a.createElement(VH,null)):void 0===n?h.a.createElement(le.a.Provider,{value:fe.g.PORTAL_MANAGEMENT},h.a.createElement(dY.a,{headerText:Object(Ue.j)("portals.pages.general.header")}),h.a.createElement(hW,{createItem:function(){return o(!0)}})):h.a.createElement(le.a.Provider,{value:fe.g.PORTAL_MANAGEMENT},h.a.createElement(cY,null))},mY=uY,pY=a(860),fY=function(){return h.a.createElement(TF,null,h.a.createElement("div",{className:"flex recent-bar flex-grow-1 items-center ml3"},h.a.createElement("div",{"data-test":"recent-uploads-title",className:"f-md fw6"},Object(Ue.j)("recentUploads.recentUploads"))),h.a.createElement(xU,{CustomSelectionComp:SV,listId:pY.a}))},bY=fY;Object(Ue.h)(zt.selectCurrentCustomer,(function(e,t){t(Object(Fn.ensureListExists)(pY.a,pY.b)),t(Object(Fn.resetData)(pY.a)),t(Object(Fn.addItemsToList)(pY.a,[]))}),!0);var hY=function(e){var t=e.assetsSelectAll,a=Object(b.useCallback)((function(){return t(pY.a)}),[t]);return h.a.createElement(MR,{namespace:"recentUploadView",listsIds:pY.a,enableLoad:!1,roleName:e.roleName,Toolbar:bY,selectAll:a,dndSupportedMode:!0})},gY={componentWillUnmount:function(){this.props.collapseAllDropdowns()}},vY=function(e){return{roleName:Ve.a.Identity.rootFolderRole.get(e)}},EY={collapseAllDropdowns:wI.collapseAllDropdowns,assetsSelectAll:Rv.assetsSelectAll},yY=Object(jb.b)(gY)(hY),jY=Object(g.connect)(vY,EY)(yY),OY=jY,wY="SEARCH_VIEW_ASSETS",IY=a(568),TY=a(3962),MY=a.n(TY),CY=a(1596),NY=a(425),xY=function(e){var t=e.selected;return h.a.createElement("ul",null,[{class:"save",constant:"SAVE",textConst:"save"},{class:"save-as",constant:"SAVE_AS",textConst:"saveAs"}].map((function(e){return h.a.createElement("li",{key:e.constant,className:e.class+" "+(t===NY.a[e.constant]?"active":"")},h.a.createElement("button",{type:"button",className:"btn"},Object(Ue.j)("searchPane."+e.textConst)))})))},AY=xY,DY=ql()((function(e){return function(){return h.a.createElement(fh,{onClick:function(){e?Object(xI.g)(e):Object(be.t)()},tooltipText:Object(Ue.j)("gridHeader.close"),icon:"cross"})}})),LY=function(e){var t=e.setDropdownState,a=e.selectedSavedSearch,n=e.apiLevel,r=e.listId,s=e.savedSearchDropdownMode?"drop-active":"";return h.a.createElement(TF,{backButton:DY(e.prevPath)},h.a.createElement("div",{"data-test":"new-search",className:_()(MY.a["new-search"],"results-active flex justify-between flex-grow-1")},h.a.createElement("div",{"data-test":"search-title",className:_()(MY.a.title,"f-md fw6 mr3 ml3 flex items-center")},Object(me.f)(n)&&Object(Ue.j)("mediaLibrary.searchPane.newSearch")||Object(Ue.j)("mediaLibrary.searchPane.search")),h.a.createElement("div",{className:"dn "+s},h.a.createElement(OI.a,{ModalButtonComponent:function(){return!e.savedSearchDropdownMode&&h.a.createElement(MI,null)},ModalContentComponent:function(){return h.a.createElement(AY,{selected:a})},outsideClickHandler:function(e){return t(CR.b.SAVED_SEARCH,e)},modalModeSelector:function(e){return Object(II.selectDropdownMode)(e,{name:CR.b.SAVED_SEARCH})},renderWhenCollapsed:!0,buttonLabelKey:"",modalButtonClassName:CR.b.SAVED_SEARCH})),h.a.createElement(rB,{roleName:e.roleName,inSearchMode:!0})),h.a.createElement(xU,{CustomSelectionComp:SV,listId:r}))},SY=function(e){return{savedSearchDropdownMode:Object(II.selectDropdownMode)(e,{name:CR.b.SAVED_SEARCH}),selectedSavedSearch:Object(CY.selectSavedSearchValue)(e),apiLevel:Object(zt.selectApiLevel)(e),roleName:Ve.a.Identity.rootFolderRole.get(e),prevPath:Object(En.selectPrevViewPath)(e)}},kY={setDropdownState:wI.setDropdownState,resetFilters:mb.resetFilters,setQuery:mb.setQuery},PY=Object(g.connect)(SY,kY)(LY),_Y=PY,RY=function(e){var t=e.searchQueryExpression,a=e.setListFilter,n=e.mapFiltersToQueryURL,r={expression:t.expression};n(t.queryFilters),a(wY,r)},FY=Object(St.b)((function(e,t){Object(iI.c)(),e(t)}),300,{trailing:!0}),zY=function(e,t){var a=e.filters,n=t.filters;return a.assetsKind!==n.assetsKind||e.queryTag!==t.queryTag||a.prefix!==n.prefix||!rm()(a.assetsTypes,n.assetsTypes)||!rm()(a.assetsTags,n.assetsTags)},BY=function(e,t){if(!e.hasExtraFilters&&e.query)return e.setQuery(""),!1;var a=e.filters,n=t.filters;return e.sortBy!==t.sortBy||e.sortOrder!==t.sortOrder||e.mapZoom!==t.mapZoom||e.queryTag!==t.queryTag||!rm()(a,n)},UY=function(e){return Object(me.f)(e)?BY:zY},VY=a(1590),GY=a(1600),WY=100,HY=function(e){var t=e.assetsSelectAll,a=Object(b.useCallback)((function(){return t(wY)}),[t]);return h.a.createElement(MR,{namespace:"searchView",listsIds:wY,roleName:e.roleName,topPaneOptions:{Component:sI},Toolbar:_Y,selectAll:a})},YY={componentDidMount:function(){this.props.mapQueryToStore();var e=this.props.searchQueryExpression,t=e.expression,a=e.queryFilters,n={itemType:ge.m,filter:{expression:t},maxResults:WY};Object(me.f)(this.props.apiLevel)&&Object.assign(n,{sortField:this.props.sortField,sortDirection:this.props.sortDirection}),this.props.createList(wY,n),this.props.mapFiltersToQueryURL(a)},componentDidUpdate:function(e){Object(me.f)(this.props.apiLevel)&&(this.props.sortField!==e.sortField&&this.props.setListSortField(wY,this.props.sortField),this.props.sortDirection!==e.sortDirection&&this.props.setListSortDirection(wY,this.props.sortDirection)),UY(this.props.apiLevel)(this.props,e)&&FY(RY,this.props)},componentWillUnmount:function(){this.props.setQuery(""),this.props.resetFilters(),this.props.closeTopPane(),this.props.collapseAllDropdowns(),this.props.removeList(wY),FY.cancel()}},QY=function(e){return{sortBy:Object(IY.selectAssetsSortField)(e),sortOrder:Object(IY.selectAssetsSortOrder)(e),apiLevel:Object(zt.selectApiLevel)(e),queryTag:Object(tb.selectQueryTag)(e),filters:Object(tb.selectFilters)(e),hasExtraFilters:Object(tb.selectHasExtraFilters)(e),mapZoom:Object(tb.selectLocationMapZoom)(e),radius:Object(tb.selectRadius)(e),roleName:Ve.a.Identity.rootFolderRole.get(e),selectListExists:Object(Ft.selectListExists)(e,wY),sortField:Object(ub.selectSortField)(e),sortDirection:Object(ub.selectSortDirection)(e),searchQueryExpression:Object(GY.selectQueryExpression)(e)}},KY={createList:Fn.createList,removeList:Fn.removeList,setListFilter:Fn.setListFilter,setQuery:mb.setQuery,collapseAllDropdowns:wI.collapseAllDropdowns,resetFilters:mb.resetFilters,closeTopPane:db.closeTopPane,setListSortField:Fn.setListSortField,setListSortDirection:Fn.setListSortDirection,mapQueryToStore:VY.mapQueryToStore,assetsSelectAll:Rv.assetsSelectAll,mapFiltersToQueryURL:VY.mapFiltersToQueryURL},ZY=Object(jb.b)(YY)(HY),qY=Object(g.connect)(QY,KY)(ZY),XY=qY,JY=a(346),$Y=a(1484),eQ=function(e){return h.a.createElement(TF,{hideNavigationMenuButton:!0,hideUploadButton:!0},h.a.createElement("div",{className:"flex flex-grow-1 items-center ml3"},h.a.createElement("div",{className:"f-md fw6"},Object(Ms.d)("metadataFieldsView.title"))),h.a.createElement(bn.b,{dataTest:"create-metadata-field-button",size:"md",breakpoint:"md",skin:"action",icon:x.smallPlus,onClick:function(){Object(cm.b)(fe.g.STRUCTURED_METADATA_MANAGEMENT,fe.f.CREATE,"intent to create new metadata_field"),e.showModal($Y.a,{trackingCategory:fe.g.STRUCTURED_METADATA_MANAGEMENT})}},Object(Ms.d)("metadataFieldsView.toolbar.create")))},tQ={showModal:wa.showModal},aQ=Object(g.connect)(null,tQ)(eQ),nQ=aQ,rQ=Object(k.default)(MR).withConfig({displayName:"MetadataFieldsView__StyledGridView",componentId:"a68nb5-0"})([".details-popup{min-width:420px;max-width:600px;flex:0 0 33%;@media ","{min-width:unset;}}"],fe.s.MD),sQ=function(e,t){return e?t?Qk.d.TOGGLE:Qk.d.ALWAYS:Qk.d.NONE},oQ=function(e){var t=Object($d.d)(),a=sQ(e.metadataFieldsExists,t);return h.a.createElement(Mr.a,null,(function(e){return e.manageMetadataFields?h.a.createElement(le.a.Provider,{value:fe.g.STRUCTURED_METADATA_MANAGEMENT},h.a.createElement(rQ,{namespace:"metadataFieldsView",listsIds:[pe.l],Toolbar:nQ,previewMode:a,gridViewMode:Qk.c.LIST,disablePreviewPane:!1,noHeader:!0})):h.a.createElement(JY.a,{filter:{},isCmsMode:!1})}))},iQ=function(e){return{metadataFieldsExists:Object(Ft.selectListHasLoadedItems)(e,pe.l)}},lQ=Object(g.connect)(iQ)(oQ),cQ=a(181),dQ=a(362),uQ=a(320),mQ=a(566),pQ=a(1599),fQ=a(4063),bQ=function(e){var t=e.status,a=e.httpUris;return t===fQ.c.DONE?null!=a&&a.length?fQ.c.READY:fQ.c.NO_RESULTS:t===fQ.c.PENDING?fQ.c.PENDING:void 0},hQ=function(){Object(xI.g)(Object(be.f)())},gQ=function(e){e.stopPropagation()},vQ=k.default.div.withConfig({displayName:"ReportsList__ToolbarTitle",componentId:"s2k3ok-0"})(["margin-left:1rem;font-size:18px;font-weight:500;color:",";"],tt.j),EQ=k.default.div.withConfig({displayName:"ReportsList__Wrapper",componentId:"s2k3ok-1"})(["max-width:768px;margin "," auto;@media ","{padding:0 ",";box-sizing:border-box;margin "," auto 0;}"],At.a.spacing.md,fe.s.MD,At.a.spacing.sm,At.a.spacing.md),yQ=k.default.div.withConfig({displayName:"ReportsList__LeftSlot",componentId:"s2k3ok-2"})(["span{font-size:",";display:inline-block;margin-left:",";@media ","{display:none;}}"],At.a.font.size.xxs,At.a.spacing.xs,fe.s.MD),jQ=Object(k.default)(zp.a).withConfig({displayName:"ReportsList__StyledButton",componentId:"s2k3ok-3"})(["margin-top:",";"],(function(e){return e.isEmptySate&&""+At.a.spacing.xs})),OQ=k.default.div.withConfig({displayName:"ReportsList__RightSlot",componentId:"s2k3ok-4"})(["width:255px;display:flex;justify-content:space-between;align-items:center;a{text-decoration:none;}@media ","{width:102px;}"],fe.s.MD),wQ=k.default.div.withConfig({displayName:"ReportsList__Status",componentId:"s2k3ok-5"})(["display:flex;align-items:center;font-size:",";font-weight:600;span{font-weight:300;padding-left:4px;@media ","{display:none;}}img{width:16px;height:16px;}@media ","{display:",";}"],At.a.font.size.xxs,fe.s.MD,fe.s.MD,(function(e){return e.reportStatus===fQ.c.READY&&"none"})),IQ=Object(k.default)(dQ.Avatar).withConfig({displayName:"ReportsList__BaseStatusIcon",componentId:"s2k3ok-6"})(["border:none;margin-right:",";"],At.a.spacing.xs),TQ=Object(k.default)(uQ.EmptyState).withConfig({displayName:"ReportsList__StyledEmptyState",componentId:"s2k3ok-7"})(["margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:unset;> span:last-of-type{max-width:400px;}@media ","{width:100%;padding:0 ",";}"],fe.s.MD,At.a.spacing.sm),MQ=k.default.table.withConfig({displayName:"ReportsList__Table",componentId:"s2k3ok-8"})(["color:inherit;th{vertical-align:top;white-space:nowrap;text-align:left;font-weight:inherit;color:inherit;}td{padding-left:",";vertical-align:top;word-break:break-all;}tr:not(:last-child) > td{padding-bottom:",";}@media ","{td{padding-left:0;display:list-item;list-style:none;}tr{display:block;}th{padding-bottom:",";}}"],At.a.spacing.md,At.a.spacing.sm,fe.s.MD,At.a.spacing.xs),CQ=k.default.div.withConfig({displayName:"ReportsList__ListHeader",componentId:"s2k3ok-9"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";> h1{margin:0;}@media ","{> button{display:none;}}"],At.a.spacing.sm,fe.s.MD),NQ=k.default.div.withConfig({displayName:"ReportsList__ListFooter",componentId:"s2k3ok-10"})(["display:none;justify-content:center;padding:",";position:fixed;bottom:0;width:100%;border-top:1px solid ",";> button{width:100%;}@media ","{display:flex;}"],At.a.spacing.sm,At.a.palette.secondary,fe.s.MD),xQ=function(e){var t=e.reportStatus;return h.a.createElement(wQ,{reportStatus:t},h.a.createElement(IQ,{size:"sm",backgroundColor:At.a.palette.surfaceAlt},h.a.createElement("img",{src:fQ.d[t],alt:t})),h.a.createElement("div",null,Object(Ue.j)("auditReportsView.reportsList.report.status."+t),h.a.createElement("span",null,Object(Ue.j)("auditReportsView.reportsList.report.substatus."+t))))},AQ=function(e,t){switch(e){case fQ.b.FROM_DATE:var a=Object(St.g)(t[e],"MMM D, YYYY");return h.a.createElement(Lr.Chip,{key:e,label:a,variant:"secondary",size:"sm"});case fQ.b.TO_DATE:var n=Object(St.g)(t[e],"MMM D, YYYY");return h.a.createElement(Lr.Chip,{key:e,label:n,variant:"secondary",size:"sm"});case fQ.b.ACTOR_IDS:case fQ.b.CLOUD_NAMES:case fQ.b.ENTITY_IDS:return t[e].map((function(e){return h.a.createElement(Lr.Chip,{key:e,label:e,variant:"secondary",size:"sm"})}));case fQ.b.INTENTS:return Array.from(new Set(t[e])).map((function(e){return h.a.createElement(Lr.Chip,{key:e,label:Object(Ue.j)("auditReportsView.reportsList.report.params."+e),variant:"secondary",size:"sm"})}));default:return h.a.createElement(Lr.Chip,{key:e,label:t[e],variant:"secondary",size:"sm"})}},DQ=Object(b.memo)((function(e){var t=e.params,a=e.id;return h.a.createElement(MQ,null,h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("th",null,Object(Ue.j)("auditReportsView.reportsList.report.details.filtersLabel")),h.a.createElement("td",null,h.a.createElement(Lr.ChipsList,null,Object.keys(t).filter((function(e){return!e.includes("_")})).map((function(e){return AQ(e,t)}))))),h.a.createElement("tr",null,h.a.createElement("th",null,Object(Ue.j)("auditReportsView.reportsList.report.details.idLabel")),h.a.createElement("td",null,a))))})),LQ=function(e){var t=e.isEmptySate,a=void 0!==t&&t;return h.a.createElement(jQ,{variant:"primary",onClick:hQ,isEmptySate:a},h.a.createElement($e.Icon,{name:"add"})," ",Object(Ue.j)("auditReportsView.noReports.button"))},SQ=function(){return h.a.createElement(CQ,null,h.a.createElement(Lt.a,{size:"lg",as:"h1",type:"contrastHigh"},Object(Ue.j)("auditReportsView.reportsList.title")),h.a.createElement(LQ,null))},kQ=function(){return h.a.createElement(NQ,{className:"bg-color"},h.a.createElement(LQ,null))},PQ=function(){return h.a.createElement(TQ,{imageWidth:52,imageHeight:69,imageSrc:fQ.a,title:Object(Ue.j)("auditReportsView.noReports.title"),subtitle:Object(Ue.j)("auditReportsView.noReports.subtitle")},h.a.createElement(LQ,{isEmptySate:!0}))},_Q=function(e){var t=e.createList,a=e.auditReports,n=e.isReportsListExist,r=e.reloadList,s=Object(b.useState)(null),o=s[0],i=s[1];return Object(b.useEffect)((function(){n?r(mQ.a):t(mQ.a,W()({},mQ.b))}),[t,n,r]),h.a.createElement(h.a.Fragment,null,h.a.createElement(TF,{hideNavigationMenuButton:!0,hideUploadButton:!0},h.a.createElement(vQ,null,Object(Ue.j)("auditReportsView.noReports.toolbar"))),null!=a&&a.length?h.a.createElement(h.a.Fragment,null,h.a.createElement(EQ,null,h.a.createElement(SQ,null),a.map((function(e){var t,a=bQ(e),n=Object(cQ.distanceInWordsToNow)(e.created_at,{addSuffix:!0});return h.a.createElement(Es.CollapsibleCard,{key:e.id,header:h.a.createElement(yQ,null,Object(Ue.j)("auditReportsView.reportsList.report.title"),h.a.createElement("span",null,n)),isExpanded:o===e.id,setExpanded:function(t){return i(t?e.id:null)},actions:h.a.createElement(OQ,null,h.a.createElement(xQ,{reportStatus:a}),(null===(t=e.httpUris)||void 0===t?void 0:t.length)&&h.a.createElement(zp.a,{onClick:function(t){return gQ(t,e)},size:"sm",variant:"secondary"},h.a.createElement($e.Icon,{name:"fileDownload"}),Object(Ue.j)("auditReportsView.reportsList.report.downloadButton")))},h.a.createElement(DQ,{params:e.params,id:e.id}))}))),h.a.createElement(kQ,null)):h.a.createElement(PQ,null))},RQ=function(e){return{auditReports:Object(pQ.selectAuditReports)(e),isReportsListExist:Object(Ft.selectListExists)(e,mQ.a)}},FQ={createList:Fn.createList,reloadList:Fn.reloadList},zQ=Object(g.connect)(RQ,FQ)(_Q),BQ=zQ,UQ=function(e){var t=e.children;return h.a.createElement(h.a.Fragment,null,t)},VQ=function(){return null},GQ=function(e){return h.a.createElement(f.Router,{primary:!1,component:UQ,location:e.location},h.a.createElement(BQ,{path:"/"}),h.a.createElement(VQ,{path:"new"}))},WQ=a(557),HQ=a(1566),YQ=a(516),QQ=a(4064),KQ=Object(b.lazy)((function(){return a.e(24).then(a.bind(null,4800))})),ZQ=!0,qQ=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{active:!1,godMode:!1}),p()(c()(t),"recordedSequence",""),p()(c()(t),"timeoutId",null),p()(c()(t),"startGame",(function(){t.resetSequence(),t.setState({active:!0}),t.props.closePreviewPane(),t.props.hideIntercomWidget(),t.props.trackEvent(fe.f.SHOW,"intent to play memory card game")})),p()(c()(t),"endGame",(function(){t.resetSequence(),t.setState({active:!1,godMode:!1}),t.props.showIntercomWidget(),t.props.trackEvent(fe.f.HIDE,"closed memory card game")})),p()(c()(t),"setGodMode",(function(){return t.setState({godMode:!0})})),p()(c()(t),"resetSequence",(function(){t.recordedSequence=""})),p()(c()(t),"processSequence",(function(e){if(!window.location.href.match(/asset.*(manage|transform)/)&&!(["INPUT","TEXTAREA"].includes(e.target.nodeName)||"esc"!==ks()(e)&&(e.keyCode<ks()("a")||e.keyCode>ks()("z")))){switch(clearTimeout(t.timeoutId),t.timeoutId=null,t.recordedSequence+=e.key.toLowerCase(),t.recordedSequence){case QQ.b:t.startGame();break;case QQ.a:t.state.active&&t.endGame();break;case QQ.c:t.setGodMode()}t.timeoutId=setTimeout(t.resetSequence,1e3)}})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){ZQ&&console.log("%c Nice to see you here! Wanna play a Cloudinary game? \n\n To start it, you'll have to cheat like %cJohn Carmack.","background: #005CE4; color: white; font-size: 14px","background: black; color: white; font-size: 14px"),ZQ=!1,document.addEventListener("keydown",this.processSequence,!1)},a.componentWillUnmount=function(){document.removeEventListener("keydown",this.processSequence,!1)},a.render=function(){return this.state.active?h.a.createElement(b.Suspense,{fallback:h.a.createElement(h.a.Fragment,null)},h.a.createElement(KQ,{godMode:this.state.godMode,endGame:this.endGame,trackEvent:this.props.trackEvent})):null},t}(h.a.Component),XQ={closePreviewPane:db.closePreviewPane,showIntercomWidget:YQ.showIntercomWidget,hideIntercomWidget:YQ.hideIntercomWidget},JQ=Object(g.connect)(null,XQ)(Object(le.b)(qQ)),$Q=JQ,eK=a(421),tK=(a(3963),function(e){var t=e.children;return h.a.createElement(h.a.Fragment,null,t)}),aK=Ue.b.path.modules.react.mediaLibrary+"/folders/"+pe.p,nK=Object(b.lazy)((function(){return a.e(7).then(a.bind(null,4799))})),rK=Object(b.lazy)((function(){return a.e(28).then(a.bind(null,4797))})),sK=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"IENotififcationIndex",-1),p()(c()(t),"displayIENotification",(function(){var e="true"===rb.getItem("ie_notification_dimissed");if(v.isIE&&!e){var a=Object(le.d)(fe.g.GLOBAL_NOTIFICATIONS),n=function(){return h.a.createElement("a",{onClick:function(){a(fe.f.SHOW_HIDE,"ie sunset landing page")},href:Ue.b.url.documentation+"/dam_digital_asset_management#supported_browsers",target:"_blank",rel:"noreferrer"},Object(Ue.j)("mediaLibrary.notifications.ie_deprecated.action"))};t.IENotififcationIndex=t.props.notify({id:"ie_deprecated",text:h.a.createElement(h.a.Fragment,null,Object(Ue.j)("mediaLibrary.notifications.ie_deprecated.message")," ",h.a.createElement(n,null)),flavor:ob.b.custom,clearNotificationHandler:function(){a(fe.f.SHOW_HIDE,"ie sunset dismissed"),rb.setItem("ie_notification_dimissed",!0),t.IENotififcationIndex=-1}})}})),p()(c()(t),"hideIENotification",(function(){-1!==t.IENotififcationIndex&&t.props.clearNotification(t.IENotififcationIndex)})),p()(c()(t),"setTransformationPresets",i()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.a.transformationPresets.all();case 3:a=e.sent,t.props.setTransformationPresets(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))),p()(c()(t),"setHasAddableCollections",i()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.props.isCollectionsViewEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,eb("",{max_results:1,filter:{role:ib.c.COLLABORATOR}});case 5:a=e.sent,t.props.setHasAddableCollections(a.length>0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})))),p()(c()(t),"createUsersList",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.ensureListExists(pe.n,{itemType:Rt.a,maxResults:9999});case 1:case"end":return e.stop()}}),e)})))),p()(c()(t),"createUserGroupsList",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.ensureListExists(pe.o,{itemType:WQ.a,maxResults:9999});case 1:case"end":return e.stop()}}),e)})))),p()(c()(t),"createMetadataFieldsList",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.createList(pe.l,{itemType:Hf.b});case 1:case"end":return e.stop()}}),e)})))),p()(c()(t),"removeMetadataFieldsList",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.fieldsListExists&&t.props.removeList(pe.l);case 1:case"end":return e.stop()}}),e)})))),p()(c()(t),"createPortalsList",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.isPortalsViewEnabled&&t.props.createList(pe.m,{itemType:lb.a});case 1:case"end":return e.stop()}}),e)})))),p()(c()(t),"removePortalsList",i()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.isPortalsViewEnabled&&t.props.portalsListExists&&t.props.removeList(pe.m);case 1:case"end":return e.stop()}}),e)})))),p()(c()(t),"gatherCustomerAdditionalInfo",(function(){t.setTransformationPresets(),t.setHasAddableCollections()})),t}u()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.loadPreferences(),this.props.initRecentItems(),this.createMetadataFieldsList(),this.gatherCustomerAdditionalInfo(),this.createUsersList(),this.createUserGroupsList(),this.createPortalsList(),this.displayIENotification()},a.componentDidUpdate=function(e){e.currentCustomer.id!==this.props.currentCustomer.id&&(this.props.loadPreferences(),this.props.initRecentItems(),this.gatherCustomerAdditionalInfo(),this.removeMetadataFieldsList(),this.createMetadataFieldsList(),this.removePortalsList(),this.createPortalsList())},a.componentWillUnmount=function(){this.props.resetMediaLibrary(),this.props.removeList(pe.l),this.removePortalsList(),this.hideIENotification()},a.render=function(){return h.a.createElement("div",{key:this.props.currentCustomer&&this.props.currentCustomer.cloud_name||"loading_customer"},h.a.createElement(y.a,{className:"loading-bar"}),h.a.createElement(f.Router,{primary:!1,component:tK,location:this.props.location},h.a.createElement(aW,{path:"folders/*"}),h.a.createElement(XY,{path:"search/*"}),h.a.createElement(nG,{path:"moderation/*"}),h.a.createElement(OY,{path:"recent_uploads/*"}),h.a.createElement(sV,{path:"collections"}),h.a.createElement(qU,{path:"collection/*"}),h.a.createElement(lQ,{path:"metadata_fields"}),h.a.createElement(xk,{path:"asset/*"}),this.props.isManageCustomActionsViewEnabled&&h.a.createElement(rK,{path:"custom_actions/*"}),this.props.isPortalsViewEnabled&&h.a.createElement(mY,{path:"portals"}),this.props.isPreferencesViewEnabled?h.a.createElement(nK,{path:"preferences"}):h.a.createElement(JY.a,{path:"preferences"}),this.props.isAuditReportsEnabled?h.a.createElement(GQ,{path:"audit/*"}):h.a.createElement(JY.a,{path:"audit/*"}),h.a.createElement(f.Redirect,{from:"/",to:aK,noThrow:!0}),h.a.createElement(f.Redirect,{from:"cms",to:aK,noThrow:!0}),h.a.createElement(f.Redirect,{from:"new_experience",to:aK,noThrow:!0})),h.a.createElement(le.a.Provider,{value:fe.g.CARD_GAME},h.a.createElement($Q,null)))},t}(b.Component),oK=function(e){return{currentCustomer:Object(zt.selectCurrentCustomer)(e),hasExtraFilters:Object(tb.selectHasExtraFilters)(e),isCollectionsViewEnabled:Object(XU.selectCollectionsEnabled)(e),isPortalsViewEnabled:Object(zt.selectCanUserManagePortals)(e),location:Object(VP.selectLocation)(e),fieldsListExists:Object(Ft.selectListExists)(e,pe.l),portalsListExists:Object(Ft.selectListExists)(e,pe.m),isPreferencesViewEnabled:Object(zt.selectCanUserManagePreferences)(e),isManageCustomActionsViewEnabled:Object(zt.selectIsCloudinaryAdmin)(e),isAuditReportsEnabled:Object(zt.selectShouldDisplayAuditReportsPage)(e)&&Object(zt.selectCanUserManagePreferences)(e)}},iK={resetMediaLibrary:eK.resetMediaLibrary,initRecentItems:aT.initRecentItems,setTransformationPresets:Ve.a.MediaLibrary.transformationPresets.set,setHasAddableCollections:Ve.a.MediaLibrary.hasAddableCollections.set,createList:Fn.createList,ensureListExists:Fn.ensureListExists,removeList:Fn.removeList,reloadList:Fn.reloadList,notify:sb.notify,clearNotification:sb.clearNotification,loadPreferences:HQ.loadPreferences},lK=Object(g.connect)(oK,iK)(sK);t.default=lK}}]);
//# sourceMappingURL=asyncNewMediaLibrary.0e1c186a0514cb0dacd1.bundle.js.map